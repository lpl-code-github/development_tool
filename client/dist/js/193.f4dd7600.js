"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[193],{30193:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",[e("a-select",{staticStyle:{width:"200px",margin:"20px 20px 20px 0"},attrs:{"show-search":"",placeholder:"选择Entity","option-filter-prop":"children","filter-option":t.filterOption},on:{change:t.handleChange}},t._l(t.entityLists,(function(s,a){return e("a-select-option",{key:a,attrs:{value:s}},[t._v(" "+t._s(s)+" ")])})),1),e("a-radio-group",{attrs:{value:t.selectedType,size:"default",buttonStyle:"solid"},on:{change:t.handleChangeType},model:{value:t.selectedType,callback:function(e){t.selectedType=e},expression:"selectedType"}},[e("a-radio-button",{attrs:{value:"dto"}},[t._v(" Dto ")]),e("a-radio-button",{attrs:{value:"factory"}},[t._v(" Factory ")]),e("a-radio-button",{attrs:{value:"controller"}},[t._v(" Controller ")]),e("a-radio-button",{attrs:{value:"service"}},[t._v(" Service ")])],1),""!==t.codeText?e("a-button",{staticClass:"copy-btn code-data-copy",staticStyle:{float:"right","margin-top":"20px"},attrs:{icon:"copy","data-clipboard-action":"copy","data-clipboard-text":t.codeText},on:{click:t.copyMessage}},[t._v(" 复制 ")]):t._e(),e("a-spin",{attrs:{size:"large",spinning:t.loading}},[e("Code",{attrs:{"language-class":"language-php","code-text":t.codeText}},[e("a-spin")],1)],1)],1)},n=[],i=s(6442),o=s(42152),c=s.n(o),l=(s(19410),{name:"CodeGenerator",components:{Code:i.Z},data(){return{entityLists:[],selectEntity:"",selectedType:"dto",codeText:"",copySuccess:!1,loading:!1}},created(){this.getEntityLists()},methods:{handleChange(t){this.loading=!0,this.selectEntity=t,this.$request.generateCode(this.selectEntity,this.selectedType).then((t=>{200===t.status&&(this.codeText=t.data),this.loading=!1}))},filterOption(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},getEntityLists(){var t="?type=entity";this.$request.getFileLists(t).then((t=>{200===t.status&&(this.entityLists=t.data)}))},handleChangeType(t){this.loading=!0,this.selectedType=t.target.value,""!==this.selectEntity?this.$request.generateCode(this.selectEntity,this.selectedType).then((t=>{200===t.status?(this.codeText=t.data,this.loading=!1):this.loading=!1})):(this.$message.warning("请先选择实体类"),this.loading=!1)},copyMessage(){let t=this;if(""===t.codeText)return void t.$message.warn("没有可以复制的内容");t.copySuccess=!1;let e=new(c())(".code-data-copy");e.on("success",(function(s){t.copySuccess=!0,t.$message.success("已复制到剪贴板"),e.destroy()})),e.on("error",(function(){t.$message.error("复制错误")}))}}}),r=l,d=s(1001),p=(0,d.Z)(r,a,n,!1,null,"277d4969",null),u=p.exports}}]);