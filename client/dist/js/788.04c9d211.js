"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[788],{40788:function(t,s,a){a.r(s),a.d(s,{default:function(){return g}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"postman-test-gen"},[s("div",{staticStyle:{width:"48%"}},[s("div",{staticClass:"text-button"},[s("p",{staticClass:"my-title",staticStyle:{"margin-bottom":"10px!important"}},[t._v("Json:")]),s("a-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:t.generatePostmanTest}},[t._v(" 生成测试 ")])],1),s("Json",{on:{updateJsonData:t.getJsonData}})],1),s("div",{staticStyle:{width:"48%"}},[s("div",{staticClass:"text-button"},[s("p",{staticClass:"my-title",staticStyle:{"margin-bottom":"10px!important"}},[t._v("Postman Test:")]),""!==t.codeText?s("a-button",{staticClass:"copy-btn code-data-copy",staticStyle:{"margin-top":"10px"},attrs:{icon:"copy","data-clipboard-action":"copy","data-clipboard-text":t.codeText},on:{click:t.copyMessage}},[t._v(" 复制 ")]):t._e()],1),s("a-spin",{attrs:{size:"large",spinning:t.loading}},[s("Code",{attrs:{"language-class":"lang-javascript","code-text":t.codeText}},[s("a-spin")],1)],1)],1)])},n=[],o=a(6442),i=a(34042),c=a(42152),r=a.n(c),l={name:"PostmanTestGenerator",components:{Json:i.Z,Code:o.Z},data(){return{jsonData:{hasJsonFlag:!1},codeText:"",loading:!1,copySuccess:!1}},methods:{getJsonData(t){this.jsonData=t},generatePostmanTest(){if(this.jsonData.hasJsonFlag){this.loading=!0;var t=this.jsonData.value;this.$request.generatePostmanTest(t).then((t=>{200===t.status?(this.codeText=t.data,this.loading=!1):this.loading=!1}))}else this.$message.error("Json格式错误或为空，请检查")},copyMessage(){let t=this;if(""===t.codeText)return void t.$message.warn("没有可以复制的内容");t.copySuccess=!1;let s=new(r())(".code-data-copy");s.on("success",(function(a){t.copySuccess=!0,t.$message.success("已复制到剪贴板"),s.destroy()})),s.on("error",(function(){t.$message.error("复制错误")}))}}},d=l,p=a(1001),u=(0,p.Z)(d,e,n,!1,null,"18b9ac6c",null),g=u.exports}}]);