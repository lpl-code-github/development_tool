{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport MyHeader from \"@/components/common/MyHeader\";\nexport default {\n  name: \"App\",\n  components: {\n    MyHeader\n  },\n  data() {\n    return {\n      collapsed: false,\n      defaultSelectedKeys: [],\n      breadcrumb: [],\n      selectedKeys: [],\n      simpleSidebarData: [{\n        key: \"1\",\n        icon: \"code\",\n        text: \"日志\",\n        link: '/index'\n      }, {\n        key: \"2\",\n        icon: \"code\",\n        text: \"脚本\",\n        link: '/script'\n      }, {\n        key: \"3\",\n        icon: \"bug\",\n        text: \"调试\",\n        link: '/debug'\n      }],\n      subSidebarData: [{\n        key: \"4\",\n        icon: \"branches\",\n        text: \"测试\",\n        children: [{\n          key: \"4-1\",\n          text: \"数据库备份\",\n          link: \"/backup\"\n        }, {\n          key: \"4-2\",\n          text: \"Newman\",\n          link: \"/newman\"\n        }]\n      }, {\n        key: \"5\",\n        icon: \"codepen\",\n        text: \"生成器\",\n        children: [{\n          key: \"5-1\",\n          text: \"代码生成器\",\n          link: \"/code-generator\"\n        }, {\n          key: \"5-2\",\n          text: \"Slate生成器\",\n          link: \"/slate-generator\"\n        }]\n      }],\n      defaultOpenKeys: [],\n      openKeys: []\n    };\n  },\n  mounted() {\n    console.log(this.routeName);\n  },\n  created() {\n    if (this.defaultSelectedKeys === null) {\n      this.defaultSelectedKeys = ['1'];\n      this.selectedKeys = defaultSelectedKeys;\n      this.breadcrumb = [this.simpleSidebarData[0].text];\n      this.defaultOpenKeys = [this.selectedKeys[0]];\n    }\n    const openKeys = window.sessionStorage.getItem('openKeys');\n    if (openKeys) {\n      this.openKeys = JSON.parse(openKeys);\n    }\n  },\n  methods: {\n    onOpenChange(openKeys) {\n      // 将当前打开的父级菜单存入缓存中\n      window.sessionStorage.setItem('openKeys', JSON.stringify(openKeys));\n      //  控制只打开一个\n      const latestOpenKey = openKeys.find(key => this.openKeys.indexOf(key) === -1);\n      if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        this.openKeys = openKeys;\n      } else {\n        this.openKeys = latestOpenKey ? [latestOpenKey] : [];\n      }\n    },\n    test(val) {\n      console.log(val);\n    },\n    findTextByKey(key) {\n      let result = [];\n      // 在simpleSidebarData中查找\n      for (let item of this.simpleSidebarData) {\n        if (item.key === key) {\n          result.push(item.text);\n          break;\n        }\n      }\n      // 在subSidebarData中查找\n      for (let item of this.subSidebarData) {\n        if (item.key === key) {\n          result.push(item.text);\n          break;\n        }\n        if (item.children && item.children.length > 0) {\n          for (let child of item.children) {\n            if (child.key === key) {\n              result.push(item.text);\n              result.push(child.text);\n              break;\n            }\n          }\n        }\n      }\n      return result;\n    },\n    findKeyByLink(link) {\n      let result = [];\n      // 在simpleSidebarData中查找\n      for (let item of this.simpleSidebarData) {\n        if (item.link === link) {\n          result.push(item.key);\n          break;\n        }\n      }\n      // 在subSidebarData中查找\n      for (let item of this.subSidebarData) {\n        if (item.link === link) {\n          result.push(item.key);\n          break;\n        }\n        if (item.children && item.children.length > 0) {\n          for (let child of item.children) {\n            if (child.link === link) {\n              result.push(item.key);\n              result.push(child.key);\n              break;\n            }\n          }\n        }\n      }\n      return result;\n    }\n  },\n  watch: {\n    $route: {\n      handler: function (val) {\n        const path = val.path;\n        this.defaultSelectedKeys = this.findKeyByLink(path);\n        this.selectedKeys = this.defaultSelectedKeys;\n        var tempBreadcrumb = [];\n        this.selectedKeys.forEach(item => {\n          tempBreadcrumb = this.findTextByKey(item);\n        });\n        console.log(this.defaultOpenKeys);\n        this.breadcrumb = tempBreadcrumb;\n      },\n      // 深度观察监听\n      deep: true\n    }\n  }\n};","map":{"version":3,"names":["MyHeader","name","components","data","collapsed","defaultSelectedKeys","breadcrumb","selectedKeys","simpleSidebarData","key","icon","text","link","subSidebarData","children","defaultOpenKeys","openKeys","mounted","console","log","routeName","created","window","sessionStorage","getItem","JSON","parse","methods","onOpenChange","setItem","stringify","latestOpenKey","find","indexOf","rootSubmenuKeys","test","val","findTextByKey","result","item","push","length","child","findKeyByLink","watch","$route","handler","path","tempBreadcrumb","forEach","deep"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div class=\"app\">\n    <a-layout id=\"components-layout-demo-side\" style=\"height: 100vh!important;\">\n      <a-layout-sider v-model=\"collapsed\" collapsible>\n        <div class=\"logo_img\">\n          <img class=\"logo\" src=\"./assets/r1_logo.png\" style=\"background: none;width: 35%;height: auto\"/>\n        </div>\n\n        <!--  导航栏 这里应该拆成组件 -->\n        <a-menu theme=\"dark\" :default-open-keys=\"defaultOpenKeys\"\n                :selectedKeys=\"selectedKeys\"\n                :default-selected-keys=\"defaultSelectedKeys\"\n                :inline-collapsed=\"true\"\n                mode=\"inline\"\n                :forceSubMenuRender=\"false\"\n\n        >\n          <!-- 一级菜单 -->\n          <a-menu-item v-for=\"item in simpleSidebarData\" :key=\"item.key\">\n            <router-link :to=\"item.link\"></router-link>\n            <a-icon :type=\"item.icon\"/>\n            <span>{{ item.text }}</span>\n          </a-menu-item>\n          <!-- 多级菜单 -->\n          <a-sub-menu v-for=\"item in subSidebarData\" :key=\"item.key\"  >\n            <span slot=\"title\">\n              <a-icon :type=\"item.icon\"/>\n              <span>{{ item.text }}</span>\n            </span>\n            <a-menu-item v-for=\"child in item.children\" :key=\"child.key\">\n              <router-link :to=\"child.link\"></router-link>\n              {{ child.text }}\n            </a-menu-item>\n          </a-sub-menu>\n        </a-menu>\n\n      </a-layout-sider>\n      <a-layout style=\"height: 100%;overflow-y: hidden\">\n        <!--  头部组件  -->\n        <MyHeader></MyHeader>\n\n        <!-- 显示内容  -->\n        <a-layout-content style=\"margin: 10px 16px;\">\n          <a-breadcrumb>\n            <span>/&nbsp;&nbsp;</span>\n            <a-breadcrumb-item v-for=\"item in breadcrumb\" :key=\"item\">\n              {{ item }}\n            </a-breadcrumb-item>\n          </a-breadcrumb>\n\n          <router-view style=\"height:95%;overflow-y: auto\"></router-view>\n        </a-layout-content>\n        <a-layout-footer style=\"text-align: center;height: 7%\">\n          Development Tool ©2023 Created by Teamsupport ApiTeam\n        </a-layout-footer>\n      </a-layout>\n    </a-layout>\n  </div>\n</template>\n\n<script>\nimport MyHeader from \"@/components/common/MyHeader\";\n\nexport default {\n  name: \"App\",\n  components: {MyHeader},\n  data() {\n    return {\n      collapsed: false,\n      defaultSelectedKeys: [],\n      breadcrumb: [],\n      selectedKeys: [],\n      simpleSidebarData: [\n        {\n          key: \"1\",\n          icon: \"code\",\n          text: \"日志\",\n          link: '/index'\n        },\n        {\n          key: \"2\",\n          icon: \"code\",\n          text: \"脚本\",\n          link: '/script'\n        },\n        {\n          key: \"3\",\n          icon: \"bug\",\n          text: \"调试\",\n          link: '/debug'\n        },\n      ],\n      subSidebarData: [\n        {\n          key: \"4\",\n          icon: \"branches\",\n          text: \"测试\",\n          children: [\n            {key: \"4-1\", text: \"数据库备份\", link: \"/backup\"},\n            {key: \"4-2\", text: \"Newman\", link: \"/newman\"}\n          ]\n        },\n        {\n          key: \"5\",\n          icon: \"codepen\",\n          text: \"生成器\",\n          children: [\n            {key: \"5-1\", text: \"代码生成器\", link: \"/code-generator\"},\n            {key: \"5-2\", text: \"Slate生成器\", link: \"/slate-generator\"}\n          ]\n        }\n      ],\n      defaultOpenKeys:[],\n      openKeys:[]\n    };\n  },\n  mounted() {\n    console.log(this.routeName)\n  },\n  created() {\n    if (this.defaultSelectedKeys === null){\n      this.defaultSelectedKeys = ['1']\n      this.selectedKeys = defaultSelectedKeys;\n      this.breadcrumb = [this.simpleSidebarData[0].text]\n      this.defaultOpenKeys =[this.selectedKeys[0]]\n    }\n\n    const openKeys = window.sessionStorage.getItem('openKeys')\n    if(openKeys){\n      this.openKeys = JSON.parse(openKeys)\n    }\n\n  },\n  methods: {\n    onOpenChange(openKeys) {\n      // 将当前打开的父级菜单存入缓存中\n      window.sessionStorage.setItem('openKeys', JSON.stringify(openKeys))\n      //  控制只打开一个\n      const latestOpenKey = openKeys.find(key => this.openKeys.indexOf(key) === -1);\n      if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        this.openKeys = openKeys;\n      } else {\n        this.openKeys = latestOpenKey ? [latestOpenKey] : [];\n      }\n    },\n    test(val){\n      console.log(val)\n    },\n    findTextByKey(key) {\n      let result = [];\n      // 在simpleSidebarData中查找\n      for (let item of this.simpleSidebarData) {\n        if (item.key === key) {\n          result.push(item.text);\n          break;\n        }\n      }\n      // 在subSidebarData中查找\n      for (let item of this.subSidebarData) {\n        if (item.key === key) {\n          result.push(item.text);\n          break;\n        }\n        if (item.children && item.children.length > 0) {\n          for (let child of item.children) {\n            if (child.key === key) {\n              result.push(item.text);\n              result.push(child.text);\n              break;\n            }\n          }\n        }\n      }\n      return result;\n    },\n    findKeyByLink(link) {\n      let result = [];\n      // 在simpleSidebarData中查找\n      for (let item of this.simpleSidebarData) {\n        if (item.link === link) {\n          result.push(item.key);\n          break;\n        }\n      }\n      // 在subSidebarData中查找\n      for (let item of this.subSidebarData) {\n        if (item.link === link) {\n          result.push(item.key);\n          break;\n        }\n        if (item.children && item.children.length > 0) {\n          for (let child of item.children) {\n            if (child.link === link) {\n              result.push(item.key);\n              result.push(child.key);\n              break;\n            }\n          }\n        }\n      }\n      return result;\n    }\n  },\n  watch: {\n    $route: {\n      handler: function (val) {\n        const path = val.path;\n        this.defaultSelectedKeys = this.findKeyByLink(path)\n        this.selectedKeys = this.defaultSelectedKeys;\n        var tempBreadcrumb = []\n        this.selectedKeys.forEach(item=>{\n          tempBreadcrumb = this.findTextByKey(item)\n        })\n\n\n        console.log(this.defaultOpenKeys)\n        this.breadcrumb = tempBreadcrumb\n      },\n      // 深度观察监听\n      deep: true\n    }\n  },\n\n};\n</script>\n\n<style>\n#components-layout-demo-side .logo {\n  height: 32px;\n  background: rgba(255, 255, 255, 0.2);\n  margin: 16px;\n}\n\n.logo_img {\n  display: flex !important;\n  justify-content: center !important;\n\n}\n\n.app {\n  max-height: 100vh !important;\n  overflow-y: hidden;\n}\n</style>\n"],"mappings":";AA6DA,OAAAA,QAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,SAAA;MACAC,mBAAA;MACAC,UAAA;MACAC,YAAA;MACAC,iBAAA,GACA;QACAC,GAAA;QACAC,IAAA;QACAC,IAAA;QACAC,IAAA;MACA,GACA;QACAH,GAAA;QACAC,IAAA;QACAC,IAAA;QACAC,IAAA;MACA,GACA;QACAH,GAAA;QACAC,IAAA;QACAC,IAAA;QACAC,IAAA;MACA,EACA;MACAC,cAAA,GACA;QACAJ,GAAA;QACAC,IAAA;QACAC,IAAA;QACAG,QAAA,GACA;UAAAL,GAAA;UAAAE,IAAA;UAAAC,IAAA;QAAA,GACA;UAAAH,GAAA;UAAAE,IAAA;UAAAC,IAAA;QAAA;MAEA,GACA;QACAH,GAAA;QACAC,IAAA;QACAC,IAAA;QACAG,QAAA,GACA;UAAAL,GAAA;UAAAE,IAAA;UAAAC,IAAA;QAAA,GACA;UAAAH,GAAA;UAAAE,IAAA;UAAAC,IAAA;QAAA;MAEA,EACA;MACAG,eAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACAC,OAAA,CAAAC,GAAA,MAAAC,SAAA;EACA;EACAC,QAAA;IACA,SAAAhB,mBAAA;MACA,KAAAA,mBAAA;MACA,KAAAE,YAAA,GAAAF,mBAAA;MACA,KAAAC,UAAA,SAAAE,iBAAA,IAAAG,IAAA;MACA,KAAAI,eAAA,SAAAR,YAAA;IACA;IAEA,MAAAS,QAAA,GAAAM,MAAA,CAAAC,cAAA,CAAAC,OAAA;IACA,IAAAR,QAAA;MACA,KAAAA,QAAA,GAAAS,IAAA,CAAAC,KAAA,CAAAV,QAAA;IACA;EAEA;EACAW,OAAA;IACAC,aAAAZ,QAAA;MACA;MACAM,MAAA,CAAAC,cAAA,CAAAM,OAAA,aAAAJ,IAAA,CAAAK,SAAA,CAAAd,QAAA;MACA;MACA,MAAAe,aAAA,GAAAf,QAAA,CAAAgB,IAAA,CAAAvB,GAAA,SAAAO,QAAA,CAAAiB,OAAA,CAAAxB,GAAA;MACA,SAAAyB,eAAA,CAAAD,OAAA,CAAAF,aAAA;QACA,KAAAf,QAAA,GAAAA,QAAA;MACA;QACA,KAAAA,QAAA,GAAAe,aAAA,IAAAA,aAAA;MACA;IACA;IACAI,KAAAC,GAAA;MACAlB,OAAA,CAAAC,GAAA,CAAAiB,GAAA;IACA;IACAC,cAAA5B,GAAA;MACA,IAAA6B,MAAA;MACA;MACA,SAAAC,IAAA,SAAA/B,iBAAA;QACA,IAAA+B,IAAA,CAAA9B,GAAA,KAAAA,GAAA;UACA6B,MAAA,CAAAE,IAAA,CAAAD,IAAA,CAAA5B,IAAA;UACA;QACA;MACA;MACA;MACA,SAAA4B,IAAA,SAAA1B,cAAA;QACA,IAAA0B,IAAA,CAAA9B,GAAA,KAAAA,GAAA;UACA6B,MAAA,CAAAE,IAAA,CAAAD,IAAA,CAAA5B,IAAA;UACA;QACA;QACA,IAAA4B,IAAA,CAAAzB,QAAA,IAAAyB,IAAA,CAAAzB,QAAA,CAAA2B,MAAA;UACA,SAAAC,KAAA,IAAAH,IAAA,CAAAzB,QAAA;YACA,IAAA4B,KAAA,CAAAjC,GAAA,KAAAA,GAAA;cACA6B,MAAA,CAAAE,IAAA,CAAAD,IAAA,CAAA5B,IAAA;cACA2B,MAAA,CAAAE,IAAA,CAAAE,KAAA,CAAA/B,IAAA;cACA;YACA;UACA;QACA;MACA;MACA,OAAA2B,MAAA;IACA;IACAK,cAAA/B,IAAA;MACA,IAAA0B,MAAA;MACA;MACA,SAAAC,IAAA,SAAA/B,iBAAA;QACA,IAAA+B,IAAA,CAAA3B,IAAA,KAAAA,IAAA;UACA0B,MAAA,CAAAE,IAAA,CAAAD,IAAA,CAAA9B,GAAA;UACA;QACA;MACA;MACA;MACA,SAAA8B,IAAA,SAAA1B,cAAA;QACA,IAAA0B,IAAA,CAAA3B,IAAA,KAAAA,IAAA;UACA0B,MAAA,CAAAE,IAAA,CAAAD,IAAA,CAAA9B,GAAA;UACA;QACA;QACA,IAAA8B,IAAA,CAAAzB,QAAA,IAAAyB,IAAA,CAAAzB,QAAA,CAAA2B,MAAA;UACA,SAAAC,KAAA,IAAAH,IAAA,CAAAzB,QAAA;YACA,IAAA4B,KAAA,CAAA9B,IAAA,KAAAA,IAAA;cACA0B,MAAA,CAAAE,IAAA,CAAAD,IAAA,CAAA9B,GAAA;cACA6B,MAAA,CAAAE,IAAA,CAAAE,KAAA,CAAAjC,GAAA;cACA;YACA;UACA;QACA;MACA;MACA,OAAA6B,MAAA;IACA;EACA;EACAM,KAAA;IACAC,MAAA;MACAC,OAAA,WAAAA,CAAAV,GAAA;QACA,MAAAW,IAAA,GAAAX,GAAA,CAAAW,IAAA;QACA,KAAA1C,mBAAA,QAAAsC,aAAA,CAAAI,IAAA;QACA,KAAAxC,YAAA,QAAAF,mBAAA;QACA,IAAA2C,cAAA;QACA,KAAAzC,YAAA,CAAA0C,OAAA,CAAAV,IAAA;UACAS,cAAA,QAAAX,aAAA,CAAAE,IAAA;QACA;QAGArB,OAAA,CAAAC,GAAA,MAAAJ,eAAA;QACA,KAAAT,UAAA,GAAA0C,cAAA;MACA;MACA;MACAE,IAAA;IACA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}