{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent, getCurrentInstance, nextTick, shallowRef, watch, watchEffect } from 'vue';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport ResizableTextArea from './ResizableTextArea';\nimport { textAreaProps } from './inputProps';\nimport { fixControlledValue, resolveOnChange, triggerFocus } from '../vc-input/utils/commonUtils';\nimport classNames from '../_util/classNames';\nimport { FormItemInputContext, useInjectFormItemContext } from '../form/FormItemContext';\nimport useConfigInject from '../config-provider/hooks/useConfigInject';\nimport omit from '../_util/omit';\nimport { getMergedStatus, getStatusClassNames } from '../_util/statusUtils';\n// CSSINJS\nimport useStyle from './style';\nimport { useInjectDisabled } from '../config-provider/DisabledContext';\nfunction fixEmojiLength(value, maxLength) {\n  return [...(value || '')].slice(0, maxLength).join('');\n}\nfunction setTriggerValue(isCursorInEnd, preValue, triggerValue, maxLength) {\n  let newTriggerValue = triggerValue;\n  if (isCursorInEnd) {\n    // 光标在尾部，直接截断\n    newTriggerValue = fixEmojiLength(triggerValue, maxLength);\n  } else if ([...(preValue || '')].length < triggerValue.length && [...(triggerValue || '')].length > maxLength) {\n    // 光标在中间，如果最后的值超过最大值，则采用原先的值\n    newTriggerValue = preValue;\n  }\n  return newTriggerValue;\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ATextarea',\n  inheritAttrs: false,\n  props: textAreaProps(),\n  setup(props, _ref) {\n    let {\n      attrs,\n      expose,\n      emit\n    } = _ref;\n    const formItemContext = useInjectFormItemContext();\n    const formItemInputContext = FormItemInputContext.useInject();\n    const mergedStatus = computed(() => getMergedStatus(formItemInputContext.status, props.status));\n    const stateValue = shallowRef(props.value === undefined ? props.defaultValue : props.value);\n    const resizableTextArea = shallowRef();\n    const mergedValue = shallowRef('');\n    const {\n      prefixCls,\n      size,\n      direction\n    } = useConfigInject('input', props);\n    // Style\n    const [wrapSSR, hashId] = useStyle(prefixCls);\n    const disabled = useInjectDisabled();\n    const showCount = computed(() => {\n      return props.showCount === '' || props.showCount || false;\n    });\n    // Max length value\n    const hasMaxLength = computed(() => Number(props.maxlength) > 0);\n    const compositing = shallowRef(false);\n    const oldCompositionValueRef = shallowRef();\n    const oldSelectionStartRef = shallowRef(0);\n    const onInternalCompositionStart = e => {\n      compositing.value = true;\n      // 拼音输入前保存一份旧值\n      oldCompositionValueRef.value = mergedValue.value;\n      // 保存旧的光标位置\n      oldSelectionStartRef.value = e.currentTarget.selectionStart;\n      emit('compositionstart', e);\n    };\n    const onInternalCompositionEnd = e => {\n      var _a;\n      compositing.value = false;\n      let triggerValue = e.currentTarget.value;\n      if (hasMaxLength.value) {\n        const isCursorInEnd = oldSelectionStartRef.value >= props.maxlength + 1 || oldSelectionStartRef.value === ((_a = oldCompositionValueRef.value) === null || _a === void 0 ? void 0 : _a.length);\n        triggerValue = setTriggerValue(isCursorInEnd, oldCompositionValueRef.value, triggerValue, props.maxlength);\n      }\n      // Patch composition onChange when value changed\n      if (triggerValue !== mergedValue.value) {\n        setValue(triggerValue);\n        resolveOnChange(e.currentTarget, e, triggerChange, triggerValue);\n      }\n      emit('compositionend', e);\n    };\n    const instance = getCurrentInstance();\n    watch(() => props.value, () => {\n      var _a;\n      if ('value' in instance.vnode.props || {}) {\n        stateValue.value = (_a = props.value) !== null && _a !== void 0 ? _a : '';\n      }\n    });\n    const focus = option => {\n      var _a;\n      triggerFocus((_a = resizableTextArea.value) === null || _a === void 0 ? void 0 : _a.textArea, option);\n    };\n    const blur = () => {\n      var _a, _b;\n      (_b = (_a = resizableTextArea.value) === null || _a === void 0 ? void 0 : _a.textArea) === null || _b === void 0 ? void 0 : _b.blur();\n    };\n    const setValue = (value, callback) => {\n      if (stateValue.value === value) {\n        return;\n      }\n      if (props.value === undefined) {\n        stateValue.value = value;\n      } else {\n        nextTick(() => {\n          var _a, _b, _c;\n          if (resizableTextArea.value.textArea.value !== mergedValue.value) {\n            (_c = (_a = resizableTextArea.value) === null || _a === void 0 ? void 0 : (_b = _a.instance).update) === null || _c === void 0 ? void 0 : _c.call(_b);\n          }\n        });\n      }\n      nextTick(() => {\n        callback && callback();\n      });\n    };\n    const handleKeyDown = e => {\n      if (e.keyCode === 13) {\n        emit('pressEnter', e);\n      }\n      emit('keydown', e);\n    };\n    const onBlur = e => {\n      const {\n        onBlur\n      } = props;\n      onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n      formItemContext.onFieldBlur();\n    };\n    const triggerChange = e => {\n      emit('update:value', e.target.value);\n      emit('change', e);\n      emit('input', e);\n      formItemContext.onFieldChange();\n    };\n    const handleReset = e => {\n      resolveOnChange(resizableTextArea.value.textArea, e, triggerChange);\n      setValue('', () => {\n        focus();\n      });\n    };\n    const handleChange = e => {\n      const {\n        composing\n      } = e.target;\n      let triggerValue = e.target.value;\n      compositing.value = !!(e.isComposing || composing);\n      if (compositing.value && props.lazy || stateValue.value === triggerValue) return;\n      if (hasMaxLength.value) {\n        // 1. 复制粘贴超过maxlength的情况 2.未超过maxlength的情况\n        const target = e.target;\n        const isCursorInEnd = target.selectionStart >= props.maxlength + 1 || target.selectionStart === triggerValue.length || !target.selectionStart;\n        triggerValue = setTriggerValue(isCursorInEnd, mergedValue.value, triggerValue, props.maxlength);\n      }\n      resolveOnChange(e.currentTarget, e, triggerChange, triggerValue);\n      setValue(triggerValue);\n    };\n    const renderTextArea = () => {\n      var _a, _b;\n      const {\n        class: customClass\n      } = attrs;\n      const {\n        bordered = true\n      } = props;\n      const resizeProps = _extends(_extends(_extends({}, omit(props, ['allowClear'])), attrs), {\n        class: [{\n          [`${prefixCls.value}-borderless`]: !bordered,\n          [`${customClass}`]: customClass && !showCount.value,\n          [`${prefixCls.value}-sm`]: size.value === 'small',\n          [`${prefixCls.value}-lg`]: size.value === 'large'\n        }, getStatusClassNames(prefixCls.value, mergedStatus.value), hashId.value],\n        disabled: disabled.value,\n        showCount: null,\n        prefixCls: prefixCls.value,\n        onInput: handleChange,\n        onChange: handleChange,\n        onBlur,\n        onKeydown: handleKeyDown,\n        onCompositionstart: onInternalCompositionStart,\n        onCompositionend: onInternalCompositionEnd\n      });\n      if ((_a = props.valueModifiers) === null || _a === void 0 ? void 0 : _a.lazy) {\n        delete resizeProps.onInput;\n      }\n      return _createVNode(ResizableTextArea, _objectSpread(_objectSpread({}, resizeProps), {}, {\n        \"id\": (_b = resizeProps === null || resizeProps === void 0 ? void 0 : resizeProps.id) !== null && _b !== void 0 ? _b : formItemContext.id.value,\n        \"ref\": resizableTextArea,\n        \"maxlength\": props.maxlength\n      }), null);\n    };\n    expose({\n      focus,\n      blur,\n      resizableTextArea\n    });\n    watchEffect(() => {\n      let val = fixControlledValue(stateValue.value);\n      if (!compositing.value && hasMaxLength.value && (props.value === null || props.value === undefined)) {\n        // fix #27612 将value转为数组进行截取，解决 '😂'.length === 2 等emoji表情导致的截取乱码的问题\n        val = fixEmojiLength(val, props.maxlength);\n      }\n      mergedValue.value = val;\n    });\n    return () => {\n      var _a;\n      const {\n        maxlength,\n        bordered = true,\n        hidden\n      } = props;\n      const {\n        style,\n        class: customClass\n      } = attrs;\n      const inputProps = _extends(_extends(_extends({}, props), attrs), {\n        prefixCls: prefixCls.value,\n        inputType: 'text',\n        handleReset,\n        direction: direction.value,\n        bordered,\n        style: showCount.value ? undefined : style,\n        hashId: hashId.value,\n        disabled: (_a = props.disabled) !== null && _a !== void 0 ? _a : disabled.value\n      });\n      let textareaNode = _createVNode(ClearableLabeledInput, _objectSpread(_objectSpread({}, inputProps), {}, {\n        \"value\": mergedValue.value,\n        \"status\": props.status\n      }), {\n        element: renderTextArea\n      });\n      if (showCount.value || formItemInputContext.hasFeedback) {\n        const valueLength = [...mergedValue.value].length;\n        let dataCount = '';\n        if (typeof showCount.value === 'object') {\n          dataCount = showCount.value.formatter({\n            value: mergedValue.value,\n            count: valueLength,\n            maxlength\n          });\n        } else {\n          dataCount = `${valueLength}${hasMaxLength.value ? ` / ${maxlength}` : ''}`;\n        }\n        textareaNode = _createVNode(\"div\", {\n          \"hidden\": hidden,\n          \"class\": classNames(`${prefixCls.value}-textarea`, {\n            [`${prefixCls.value}-textarea-rtl`]: direction.value === 'rtl',\n            [`${prefixCls.value}-textarea-show-count`]: showCount.value,\n            [`${prefixCls.value}-textarea-in-form-item`]: formItemInputContext.isFormItemInput\n          }, `${prefixCls.value}-textarea-show-count`, customClass, hashId.value),\n          \"style\": style,\n          \"data-count\": typeof dataCount !== 'object' ? dataCount : undefined\n        }, [textareaNode, formItemInputContext.hasFeedback && _createVNode(\"span\", {\n          \"class\": `${prefixCls.value}-textarea-suffix`\n        }, [formItemInputContext.feedbackIcon])]);\n      }\n      return wrapSSR(textareaNode);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_extends","resolveDirective","_resolveDirective","createVNode","_createVNode","computed","defineComponent","getCurrentInstance","nextTick","shallowRef","watch","watchEffect","ClearableLabeledInput","ResizableTextArea","textAreaProps","fixControlledValue","resolveOnChange","triggerFocus","classNames","FormItemInputContext","useInjectFormItemContext","useConfigInject","omit","getMergedStatus","getStatusClassNames","useStyle","useInjectDisabled","fixEmojiLength","value","maxLength","slice","join","setTriggerValue","isCursorInEnd","preValue","triggerValue","newTriggerValue","length","compatConfig","MODE","name","inheritAttrs","props","setup","_ref","attrs","expose","emit","formItemContext","formItemInputContext","useInject","mergedStatus","status","stateValue","undefined","defaultValue","resizableTextArea","mergedValue","prefixCls","size","direction","wrapSSR","hashId","disabled","showCount","hasMaxLength","Number","maxlength","compositing","oldCompositionValueRef","oldSelectionStartRef","onInternalCompositionStart","e","currentTarget","selectionStart","onInternalCompositionEnd","_a","setValue","triggerChange","instance","vnode","focus","option","textArea","blur","_b","callback","_c","update","call","handleKeyDown","keyCode","onBlur","onFieldBlur","target","onFieldChange","handleReset","handleChange","composing","isComposing","lazy","renderTextArea","class","customClass","bordered","resizeProps","onInput","onChange","onKeydown","onCompositionstart","onCompositionend","valueModifiers","id","val","hidden","style","inputProps","inputType","textareaNode","element","hasFeedback","valueLength","dataCount","formatter","count","isFormItemInput","feedbackIcon"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/input/TextArea.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent, getCurrentInstance, nextTick, shallowRef, watch, watchEffect } from 'vue';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport ResizableTextArea from './ResizableTextArea';\nimport { textAreaProps } from './inputProps';\nimport { fixControlledValue, resolveOnChange, triggerFocus } from '../vc-input/utils/commonUtils';\nimport classNames from '../_util/classNames';\nimport { FormItemInputContext, useInjectFormItemContext } from '../form/FormItemContext';\nimport useConfigInject from '../config-provider/hooks/useConfigInject';\nimport omit from '../_util/omit';\nimport { getMergedStatus, getStatusClassNames } from '../_util/statusUtils';\n// CSSINJS\nimport useStyle from './style';\nimport { useInjectDisabled } from '../config-provider/DisabledContext';\nfunction fixEmojiLength(value, maxLength) {\n  return [...(value || '')].slice(0, maxLength).join('');\n}\nfunction setTriggerValue(isCursorInEnd, preValue, triggerValue, maxLength) {\n  let newTriggerValue = triggerValue;\n  if (isCursorInEnd) {\n    // 光标在尾部，直接截断\n    newTriggerValue = fixEmojiLength(triggerValue, maxLength);\n  } else if ([...(preValue || '')].length < triggerValue.length && [...(triggerValue || '')].length > maxLength) {\n    // 光标在中间，如果最后的值超过最大值，则采用原先的值\n    newTriggerValue = preValue;\n  }\n  return newTriggerValue;\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ATextarea',\n  inheritAttrs: false,\n  props: textAreaProps(),\n  setup(props, _ref) {\n    let {\n      attrs,\n      expose,\n      emit\n    } = _ref;\n    const formItemContext = useInjectFormItemContext();\n    const formItemInputContext = FormItemInputContext.useInject();\n    const mergedStatus = computed(() => getMergedStatus(formItemInputContext.status, props.status));\n    const stateValue = shallowRef(props.value === undefined ? props.defaultValue : props.value);\n    const resizableTextArea = shallowRef();\n    const mergedValue = shallowRef('');\n    const {\n      prefixCls,\n      size,\n      direction\n    } = useConfigInject('input', props);\n    // Style\n    const [wrapSSR, hashId] = useStyle(prefixCls);\n    const disabled = useInjectDisabled();\n    const showCount = computed(() => {\n      return props.showCount === '' || props.showCount || false;\n    });\n    // Max length value\n    const hasMaxLength = computed(() => Number(props.maxlength) > 0);\n    const compositing = shallowRef(false);\n    const oldCompositionValueRef = shallowRef();\n    const oldSelectionStartRef = shallowRef(0);\n    const onInternalCompositionStart = e => {\n      compositing.value = true;\n      // 拼音输入前保存一份旧值\n      oldCompositionValueRef.value = mergedValue.value;\n      // 保存旧的光标位置\n      oldSelectionStartRef.value = e.currentTarget.selectionStart;\n      emit('compositionstart', e);\n    };\n    const onInternalCompositionEnd = e => {\n      var _a;\n      compositing.value = false;\n      let triggerValue = e.currentTarget.value;\n      if (hasMaxLength.value) {\n        const isCursorInEnd = oldSelectionStartRef.value >= props.maxlength + 1 || oldSelectionStartRef.value === ((_a = oldCompositionValueRef.value) === null || _a === void 0 ? void 0 : _a.length);\n        triggerValue = setTriggerValue(isCursorInEnd, oldCompositionValueRef.value, triggerValue, props.maxlength);\n      }\n      // Patch composition onChange when value changed\n      if (triggerValue !== mergedValue.value) {\n        setValue(triggerValue);\n        resolveOnChange(e.currentTarget, e, triggerChange, triggerValue);\n      }\n      emit('compositionend', e);\n    };\n    const instance = getCurrentInstance();\n    watch(() => props.value, () => {\n      var _a;\n      if ('value' in instance.vnode.props || {}) {\n        stateValue.value = (_a = props.value) !== null && _a !== void 0 ? _a : '';\n      }\n    });\n    const focus = option => {\n      var _a;\n      triggerFocus((_a = resizableTextArea.value) === null || _a === void 0 ? void 0 : _a.textArea, option);\n    };\n    const blur = () => {\n      var _a, _b;\n      (_b = (_a = resizableTextArea.value) === null || _a === void 0 ? void 0 : _a.textArea) === null || _b === void 0 ? void 0 : _b.blur();\n    };\n    const setValue = (value, callback) => {\n      if (stateValue.value === value) {\n        return;\n      }\n      if (props.value === undefined) {\n        stateValue.value = value;\n      } else {\n        nextTick(() => {\n          var _a, _b, _c;\n          if (resizableTextArea.value.textArea.value !== mergedValue.value) {\n            (_c = (_a = resizableTextArea.value) === null || _a === void 0 ? void 0 : (_b = _a.instance).update) === null || _c === void 0 ? void 0 : _c.call(_b);\n          }\n        });\n      }\n      nextTick(() => {\n        callback && callback();\n      });\n    };\n    const handleKeyDown = e => {\n      if (e.keyCode === 13) {\n        emit('pressEnter', e);\n      }\n      emit('keydown', e);\n    };\n    const onBlur = e => {\n      const {\n        onBlur\n      } = props;\n      onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n      formItemContext.onFieldBlur();\n    };\n    const triggerChange = e => {\n      emit('update:value', e.target.value);\n      emit('change', e);\n      emit('input', e);\n      formItemContext.onFieldChange();\n    };\n    const handleReset = e => {\n      resolveOnChange(resizableTextArea.value.textArea, e, triggerChange);\n      setValue('', () => {\n        focus();\n      });\n    };\n    const handleChange = e => {\n      const {\n        composing\n      } = e.target;\n      let triggerValue = e.target.value;\n      compositing.value = !!(e.isComposing || composing);\n      if (compositing.value && props.lazy || stateValue.value === triggerValue) return;\n      if (hasMaxLength.value) {\n        // 1. 复制粘贴超过maxlength的情况 2.未超过maxlength的情况\n        const target = e.target;\n        const isCursorInEnd = target.selectionStart >= props.maxlength + 1 || target.selectionStart === triggerValue.length || !target.selectionStart;\n        triggerValue = setTriggerValue(isCursorInEnd, mergedValue.value, triggerValue, props.maxlength);\n      }\n      resolveOnChange(e.currentTarget, e, triggerChange, triggerValue);\n      setValue(triggerValue);\n    };\n    const renderTextArea = () => {\n      var _a, _b;\n      const {\n        class: customClass\n      } = attrs;\n      const {\n        bordered = true\n      } = props;\n      const resizeProps = _extends(_extends(_extends({}, omit(props, ['allowClear'])), attrs), {\n        class: [{\n          [`${prefixCls.value}-borderless`]: !bordered,\n          [`${customClass}`]: customClass && !showCount.value,\n          [`${prefixCls.value}-sm`]: size.value === 'small',\n          [`${prefixCls.value}-lg`]: size.value === 'large'\n        }, getStatusClassNames(prefixCls.value, mergedStatus.value), hashId.value],\n        disabled: disabled.value,\n        showCount: null,\n        prefixCls: prefixCls.value,\n        onInput: handleChange,\n        onChange: handleChange,\n        onBlur,\n        onKeydown: handleKeyDown,\n        onCompositionstart: onInternalCompositionStart,\n        onCompositionend: onInternalCompositionEnd\n      });\n      if ((_a = props.valueModifiers) === null || _a === void 0 ? void 0 : _a.lazy) {\n        delete resizeProps.onInput;\n      }\n      return _createVNode(ResizableTextArea, _objectSpread(_objectSpread({}, resizeProps), {}, {\n        \"id\": (_b = resizeProps === null || resizeProps === void 0 ? void 0 : resizeProps.id) !== null && _b !== void 0 ? _b : formItemContext.id.value,\n        \"ref\": resizableTextArea,\n        \"maxlength\": props.maxlength\n      }), null);\n    };\n    expose({\n      focus,\n      blur,\n      resizableTextArea\n    });\n    watchEffect(() => {\n      let val = fixControlledValue(stateValue.value);\n      if (!compositing.value && hasMaxLength.value && (props.value === null || props.value === undefined)) {\n        // fix #27612 将value转为数组进行截取，解决 '😂'.length === 2 等emoji表情导致的截取乱码的问题\n        val = fixEmojiLength(val, props.maxlength);\n      }\n      mergedValue.value = val;\n    });\n    return () => {\n      var _a;\n      const {\n        maxlength,\n        bordered = true,\n        hidden\n      } = props;\n      const {\n        style,\n        class: customClass\n      } = attrs;\n      const inputProps = _extends(_extends(_extends({}, props), attrs), {\n        prefixCls: prefixCls.value,\n        inputType: 'text',\n        handleReset,\n        direction: direction.value,\n        bordered,\n        style: showCount.value ? undefined : style,\n        hashId: hashId.value,\n        disabled: (_a = props.disabled) !== null && _a !== void 0 ? _a : disabled.value\n      });\n      let textareaNode = _createVNode(ClearableLabeledInput, _objectSpread(_objectSpread({}, inputProps), {}, {\n        \"value\": mergedValue.value,\n        \"status\": props.status\n      }), {\n        element: renderTextArea\n      });\n      if (showCount.value || formItemInputContext.hasFeedback) {\n        const valueLength = [...mergedValue.value].length;\n        let dataCount = '';\n        if (typeof showCount.value === 'object') {\n          dataCount = showCount.value.formatter({\n            value: mergedValue.value,\n            count: valueLength,\n            maxlength\n          });\n        } else {\n          dataCount = `${valueLength}${hasMaxLength.value ? ` / ${maxlength}` : ''}`;\n        }\n        textareaNode = _createVNode(\"div\", {\n          \"hidden\": hidden,\n          \"class\": classNames(`${prefixCls.value}-textarea`, {\n            [`${prefixCls.value}-textarea-rtl`]: direction.value === 'rtl',\n            [`${prefixCls.value}-textarea-show-count`]: showCount.value,\n            [`${prefixCls.value}-textarea-in-form-item`]: formItemInputContext.isFormItemInput\n          }, `${prefixCls.value}-textarea-show-count`, customClass, hashId.value),\n          \"style\": style,\n          \"data-count\": typeof dataCount !== 'object' ? dataCount : undefined\n        }, [textareaNode, formItemInputContext.hasFeedback && _createVNode(\"span\", {\n          \"class\": `${prefixCls.value}-textarea-suffix`\n        }, [formItemInputContext.feedbackIcon])]);\n      }\n      return wrapSSR(textareaNode);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}