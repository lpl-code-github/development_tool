{"ast":null,"code":"export default {\n  name: \"Statistics\",\n  props: {\n    openFlag: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      visible: false,\n      apiInfo: null\n    };\n  },\n  watch: {\n    openFlag: {\n      handler: function (newVal, oldVal) {\n        if (newVal === true) {\n          this.getApiInfo();\n        } else {\n          this.visible = newVal;\n        }\n      },\n      // 深度观察监听\n      deep: true\n    }\n  },\n  mounted() {\n    this.visible = this.openFlag;\n    // this.getApiInfo()\n  },\n\n  methods: {\n    afterVisibleChange(val) {\n      console.log('visible', val);\n    },\n    onClose() {\n      this.$emit('updateDrawerStatus', false);\n    },\n    async getApiInfo() {\n      await this.$request.getR1Api().then(res => {\n        if (res.status !== 200) {\n          console.log(4324);\n          this.$emit('updateDrawerStatus', false);\n        } else {\n          this.visible = true;\n          this.apiInfo = res.data.data;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","props","openFlag","type","Boolean","required","data","visible","apiInfo","watch","handler","newVal","oldVal","getApiInfo","deep","mounted","methods","afterVisibleChange","val","console","log","onClose","$emit","$request","getR1Api","then","res","status"],"sources":["src/components/preview/Statistics.vue"],"sourcesContent":["<template>\n    <div>\n      <a-drawer\n          title=\"R1项目概览\"\n          placement=\"right\"\n          :closable=\"false\"\n          :visible=\"visible\"\n          :after-visible-change=\"afterVisibleChange\"\n          @close=\"onClose\"\n      >\n        <div>\n          <a-statistic title=\"Api总数\" suffix=\"个\" :value=\"apiInfo && apiInfo.sum.total_num\" style=\"margin-right: 50px\" />\n\n          <a-statistic class=\"small-statistic\" title=\"file\" :value-style=\"{'font-size':'10px'}\" :value=\"apiInfo && apiInfo.sum.detail.file\" />\n          <a-statistic class=\"small-statistic\" title=\"auth\"  :value-style=\"{'font-size':'10px'}\":value=\"apiInfo && apiInfo.sum.detail.auth\" />\n          <a-statistic class=\"small-statistic\" title=\"functional\" :value-style=\"{'font-size':'10px'}\" :value=\"apiInfo && apiInfo.sum.detail.functional\" />\n          <a-statistic class=\"small-statistic\" title=\"resource\" :value-style=\"{'font-size':'10px'}\" :value=\"apiInfo && apiInfo.sum.detail.resource\" />\n          <a-statistic class=\"small-statistic\" title=\"thirdParty\" :value-style=\"{'font-size':'10px'}\" :value=\"apiInfo && apiInfo.sum.detail.thirdParty\" />\n          <a-statistic class=\"small-statistic\" title=\"realtime\" :value-style=\"{'font-size':'10px'}\" :value=\"apiInfo && apiInfo.sum.detail.realtime\" />\n          <a-statistic class=\"small-statistic\" title=\"other\" :value-style=\"{'font-size':'10px'}\" :value=\"apiInfo && apiInfo.sum.detail.other\" />\n        </div>\n      </a-drawer>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: \"Statistics\",\n  props: {\n    openFlag: {\n      type: Boolean,\n      required: true\n    },\n  },\n  data(){\n    return{\n      visible: false,\n      apiInfo: null\n    }\n  },\n  watch:{\n    openFlag:{\n      handler: function (newVal, oldVal) {\n        if (newVal === true){\n          this.getApiInfo()\n        }else {\n          this.visible = newVal\n        }\n\n      },\n      // 深度观察监听\n      deep: true\n    }\n  },\n  mounted() {\n    this.visible = this.openFlag\n    // this.getApiInfo()\n  },\n  methods:{\n    afterVisibleChange(val) {\n      console.log('visible', val);\n    },\n\n    onClose() {\n      this.$emit('updateDrawerStatus', false)\n    },\n     async getApiInfo() {\n\n       await this.$request.getR1Api().then(res => {\n         if (res.status !== 200) {\n           console.log(4324)\n           this.$emit('updateDrawerStatus', false)\n         }else {\n           this.visible = true\n           this.apiInfo = res.data.data\n         }\n       })\n     }\n  }\n}\n</script>\n\n<style scoped>\n.statistics{\n  /*width: 100px!important;*/\n}\n/deep/ .ant-drawer-content-wrapper{\n  width: 600px!important;\n  right: 0!important;\n}\n.small-statistic{\n\n}\n</style>\n"],"mappings":"AA0BA;EACAA,IAAA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,OAAA;IACA;EACA;EACAC,KAAA;IACAP,QAAA;MACAQ,OAAA,WAAAA,CAAAC,MAAA,EAAAC,MAAA;QACA,IAAAD,MAAA;UACA,KAAAE,UAAA;QACA;UACA,KAAAN,OAAA,GAAAI,MAAA;QACA;MAEA;MACA;MACAG,IAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAR,OAAA,QAAAL,QAAA;IACA;EACA;;EACAc,OAAA;IACAC,mBAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,YAAAF,GAAA;IACA;IAEAG,QAAA;MACA,KAAAC,KAAA;IACA;IACA,MAAAT,WAAA;MAEA,WAAAU,QAAA,CAAAC,QAAA,GAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,MAAA;UACAR,OAAA,CAAAC,GAAA;UACA,KAAAE,KAAA;QACA;UACA,KAAAf,OAAA;UACA,KAAAC,OAAA,GAAAkB,GAAA,CAAApB,IAAA,CAAAA,IAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}