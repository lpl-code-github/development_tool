{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { cloneVNode, defineComponent } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { flattenChildren, getPropsSlot } from '../_util/props-util';\nimport warning from '../_util/warning';\nimport BreadcrumbItem from './BreadcrumbItem';\nimport Menu from '../menu';\nimport useConfigInject from '../config-provider/hooks/useConfigInject';\nimport useStyle from './style';\nexport const breadcrumbProps = () => ({\n  prefixCls: String,\n  routes: {\n    type: Array\n  },\n  params: PropTypes.any,\n  separator: PropTypes.any,\n  itemRender: {\n    type: Function\n  }\n});\nfunction getBreadcrumbName(route, params) {\n  if (!route.breadcrumbName) {\n    return null;\n  }\n  const paramsKeys = Object.keys(params).join('|');\n  const name = route.breadcrumbName.replace(new RegExp(`:(${paramsKeys})`, 'g'), (replacement, key) => params[key] || replacement);\n  return name;\n}\nfunction defaultItemRender(opt) {\n  const {\n    route,\n    params,\n    routes,\n    paths\n  } = opt;\n  const isLastItem = routes.indexOf(route) === routes.length - 1;\n  const name = getBreadcrumbName(route, params);\n  return isLastItem ? _createVNode(\"span\", null, [name]) : _createVNode(\"a\", {\n    \"href\": `#/${paths.join('/')}`\n  }, [name]);\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ABreadcrumb',\n  inheritAttrs: false,\n  props: breadcrumbProps(),\n  slots: Object,\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs\n    } = _ref;\n    const {\n      prefixCls,\n      direction\n    } = useConfigInject('breadcrumb', props);\n    const [wrapSSR, hashId] = useStyle(prefixCls);\n    const getPath = (path, params) => {\n      path = (path || '').replace(/^\\//, '');\n      Object.keys(params).forEach(key => {\n        path = path.replace(`:${key}`, params[key]);\n      });\n      return path;\n    };\n    const addChildPath = (paths, childPath, params) => {\n      const originalPaths = [...paths];\n      const path = getPath(childPath || '', params);\n      if (path) {\n        originalPaths.push(path);\n      }\n      return originalPaths;\n    };\n    const genForRoutes = _ref2 => {\n      let {\n        routes = [],\n        params = {},\n        separator,\n        itemRender = defaultItemRender\n      } = _ref2;\n      const paths = [];\n      return routes.map(route => {\n        const path = getPath(route.path, params);\n        if (path) {\n          paths.push(path);\n        }\n        const tempPaths = [...paths];\n        // generated overlay by route.children\n        let overlay = null;\n        if (route.children && route.children.length) {\n          overlay = _createVNode(Menu, {\n            \"items\": route.children.map(child => ({\n              key: child.path || child.breadcrumbName,\n              label: itemRender({\n                route: child,\n                params,\n                routes,\n                paths: addChildPath(tempPaths, child.path, params)\n              })\n            }))\n          }, null);\n        }\n        const itemProps = {\n          separator\n        };\n        if (overlay) {\n          itemProps.overlay = overlay;\n        }\n        return _createVNode(BreadcrumbItem, _objectSpread(_objectSpread({}, itemProps), {}, {\n          \"key\": path || route.breadcrumbName\n        }), {\n          default: () => [itemRender({\n            route,\n            params,\n            routes,\n            paths: tempPaths\n          })]\n        });\n      });\n    };\n    return () => {\n      var _a;\n      let crumbs;\n      const {\n        routes,\n        params = {}\n      } = props;\n      const children = flattenChildren(getPropsSlot(slots, props));\n      const separator = (_a = getPropsSlot(slots, props, 'separator')) !== null && _a !== void 0 ? _a : '/';\n      const itemRender = props.itemRender || slots.itemRender || defaultItemRender;\n      if (routes && routes.length > 0) {\n        // generated by route\n        crumbs = genForRoutes({\n          routes,\n          params,\n          separator,\n          itemRender\n        });\n      } else if (children.length) {\n        crumbs = children.map((element, index) => {\n          warning(typeof element.type === 'object' && (element.type.__ANT_BREADCRUMB_ITEM || element.type.__ANT_BREADCRUMB_SEPARATOR), 'Breadcrumb', \"Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children\");\n          return cloneVNode(element, {\n            separator,\n            key: index\n          });\n        });\n      }\n      const breadcrumbClassName = {\n        [prefixCls.value]: true,\n        [`${prefixCls.value}-rtl`]: direction.value === 'rtl',\n        [`${attrs.class}`]: !!attrs.class,\n        [hashId.value]: true\n      };\n      return wrapSSR(_createVNode(\"nav\", _objectSpread(_objectSpread({}, attrs), {}, {\n        \"class\": breadcrumbClassName\n      }), [_createVNode(\"ol\", null, [crumbs])]));\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","createVNode","_createVNode","cloneVNode","defineComponent","PropTypes","flattenChildren","getPropsSlot","warning","BreadcrumbItem","Menu","useConfigInject","useStyle","breadcrumbProps","prefixCls","String","routes","type","Array","params","any","separator","itemRender","Function","getBreadcrumbName","route","breadcrumbName","paramsKeys","Object","keys","join","name","replace","RegExp","replacement","key","defaultItemRender","opt","paths","isLastItem","indexOf","length","compatConfig","MODE","inheritAttrs","props","slots","setup","_ref","attrs","direction","wrapSSR","hashId","getPath","path","forEach","addChildPath","childPath","originalPaths","push","genForRoutes","_ref2","map","tempPaths","overlay","children","child","label","itemProps","default","_a","crumbs","element","index","__ANT_BREADCRUMB_ITEM","__ANT_BREADCRUMB_SEPARATOR","breadcrumbClassName","value","class"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/breadcrumb/Breadcrumb.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { cloneVNode, defineComponent } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { flattenChildren, getPropsSlot } from '../_util/props-util';\nimport warning from '../_util/warning';\nimport BreadcrumbItem from './BreadcrumbItem';\nimport Menu from '../menu';\nimport useConfigInject from '../config-provider/hooks/useConfigInject';\nimport useStyle from './style';\nexport const breadcrumbProps = () => ({\n  prefixCls: String,\n  routes: {\n    type: Array\n  },\n  params: PropTypes.any,\n  separator: PropTypes.any,\n  itemRender: {\n    type: Function\n  }\n});\nfunction getBreadcrumbName(route, params) {\n  if (!route.breadcrumbName) {\n    return null;\n  }\n  const paramsKeys = Object.keys(params).join('|');\n  const name = route.breadcrumbName.replace(new RegExp(`:(${paramsKeys})`, 'g'), (replacement, key) => params[key] || replacement);\n  return name;\n}\nfunction defaultItemRender(opt) {\n  const {\n    route,\n    params,\n    routes,\n    paths\n  } = opt;\n  const isLastItem = routes.indexOf(route) === routes.length - 1;\n  const name = getBreadcrumbName(route, params);\n  return isLastItem ? _createVNode(\"span\", null, [name]) : _createVNode(\"a\", {\n    \"href\": `#/${paths.join('/')}`\n  }, [name]);\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ABreadcrumb',\n  inheritAttrs: false,\n  props: breadcrumbProps(),\n  slots: Object,\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs\n    } = _ref;\n    const {\n      prefixCls,\n      direction\n    } = useConfigInject('breadcrumb', props);\n    const [wrapSSR, hashId] = useStyle(prefixCls);\n    const getPath = (path, params) => {\n      path = (path || '').replace(/^\\//, '');\n      Object.keys(params).forEach(key => {\n        path = path.replace(`:${key}`, params[key]);\n      });\n      return path;\n    };\n    const addChildPath = (paths, childPath, params) => {\n      const originalPaths = [...paths];\n      const path = getPath(childPath || '', params);\n      if (path) {\n        originalPaths.push(path);\n      }\n      return originalPaths;\n    };\n    const genForRoutes = _ref2 => {\n      let {\n        routes = [],\n        params = {},\n        separator,\n        itemRender = defaultItemRender\n      } = _ref2;\n      const paths = [];\n      return routes.map(route => {\n        const path = getPath(route.path, params);\n        if (path) {\n          paths.push(path);\n        }\n        const tempPaths = [...paths];\n        // generated overlay by route.children\n        let overlay = null;\n        if (route.children && route.children.length) {\n          overlay = _createVNode(Menu, {\n            \"items\": route.children.map(child => ({\n              key: child.path || child.breadcrumbName,\n              label: itemRender({\n                route: child,\n                params,\n                routes,\n                paths: addChildPath(tempPaths, child.path, params)\n              })\n            }))\n          }, null);\n        }\n        const itemProps = {\n          separator\n        };\n        if (overlay) {\n          itemProps.overlay = overlay;\n        }\n        return _createVNode(BreadcrumbItem, _objectSpread(_objectSpread({}, itemProps), {}, {\n          \"key\": path || route.breadcrumbName\n        }), {\n          default: () => [itemRender({\n            route,\n            params,\n            routes,\n            paths: tempPaths\n          })]\n        });\n      });\n    };\n    return () => {\n      var _a;\n      let crumbs;\n      const {\n        routes,\n        params = {}\n      } = props;\n      const children = flattenChildren(getPropsSlot(slots, props));\n      const separator = (_a = getPropsSlot(slots, props, 'separator')) !== null && _a !== void 0 ? _a : '/';\n      const itemRender = props.itemRender || slots.itemRender || defaultItemRender;\n      if (routes && routes.length > 0) {\n        // generated by route\n        crumbs = genForRoutes({\n          routes,\n          params,\n          separator,\n          itemRender\n        });\n      } else if (children.length) {\n        crumbs = children.map((element, index) => {\n          warning(typeof element.type === 'object' && (element.type.__ANT_BREADCRUMB_ITEM || element.type.__ANT_BREADCRUMB_SEPARATOR), 'Breadcrumb', \"Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children\");\n          return cloneVNode(element, {\n            separator,\n            key: index\n          });\n        });\n      }\n      const breadcrumbClassName = {\n        [prefixCls.value]: true,\n        [`${prefixCls.value}-rtl`]: direction.value === 'rtl',\n        [`${attrs.class}`]: !!attrs.class,\n        [hashId.value]: true\n      };\n      return wrapSSR(_createVNode(\"nav\", _objectSpread(_objectSpread({}, attrs), {}, {\n        \"class\": breadcrumbClassName\n      }), [_createVNode(\"ol\", null, [crumbs])]));\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}