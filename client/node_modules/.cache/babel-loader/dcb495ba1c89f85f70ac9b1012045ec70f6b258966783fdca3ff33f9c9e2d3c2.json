{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport { initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\nexport default {\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      // 暂时仅有input-number用到，事件直接到挂载到Touchable上，不需要像antd那样从子组件触发\n      this.$emit(type, ev);\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _$props = this.$props,\n      disabled = _$props.disabled,\n      _$props$activeClassNa = _$props.activeClassName,\n      activeClassName = _$props$activeClassNa === undefined ? '' : _$props$activeClassNa,\n      _$props$activeStyle = _$props.activeStyle,\n      activeStyle = _$props$activeStyle === undefined ? {} : _$props$activeStyle;\n    var child = this.$slots['default'];\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n    var childProps = {\n      on: disabled ? {} : {\n        touchstart: this.onTouchStart,\n        touchmove: this.onTouchMove,\n        touchend: this.onTouchEnd,\n        touchcancel: this.onTouchCancel,\n        mousedown: this.onMouseDown,\n        mouseup: this.onMouseUp,\n        mouseleave: this.onMouseLeave\n      }\n    };\n    if (!disabled && this.active) {\n      childProps = _extends({}, childProps, {\n        style: activeStyle,\n        'class': activeClassName\n      });\n    }\n    return cloneElement(child, childProps);\n  }\n};","map":{"version":3,"names":["_extends","initDefaultProps","cloneElement","warning","BaseMixin","ITouchProps","name","mixins","props","disabled","data","active","mounted","_this","$nextTick","setState","methods","triggerEvent","type","isActive","ev","$emit","onTouchStart","e","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","render","_$props","$props","_$props$activeClassNa","activeClassName","undefined","_$props$activeStyle","activeStyle","child","$slots","length","childProps","on","touchstart","touchmove","touchend","touchcancel","mousedown","mouseup","mouseleave","style"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/client/node_modules/ant-design-vue/es/vc-m-feedback/src/TouchFeedback.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport { initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\n\nexport default {\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      // 暂时仅有input-number用到，事件直接到挂载到Touchable上，不需要像antd那样从子组件触发\n      this.$emit(type, ev);\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _$props = this.$props,\n        disabled = _$props.disabled,\n        _$props$activeClassNa = _$props.activeClassName,\n        activeClassName = _$props$activeClassNa === undefined ? '' : _$props$activeClassNa,\n        _$props$activeStyle = _$props.activeStyle,\n        activeStyle = _$props$activeStyle === undefined ? {} : _$props$activeStyle;\n\n\n    var child = this.$slots['default'];\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n    var childProps = {\n      on: disabled ? {} : {\n        touchstart: this.onTouchStart,\n        touchmove: this.onTouchMove,\n        touchend: this.onTouchEnd,\n        touchcancel: this.onTouchCancel,\n        mousedown: this.onMouseDown,\n        mouseup: this.onMouseUp,\n        mouseleave: this.onMouseLeave\n      }\n    };\n\n    if (!disabled && this.active) {\n      childProps = _extends({}, childProps, {\n        style: activeStyle,\n        'class': activeClassName\n      });\n    }\n\n    return cloneElement(child, childProps);\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}