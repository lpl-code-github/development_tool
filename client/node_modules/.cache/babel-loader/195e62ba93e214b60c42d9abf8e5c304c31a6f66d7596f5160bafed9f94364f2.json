{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport shallowEqual from 'shallowequal';\nimport omit from 'omit.js';\nimport { getOptionProps, getListeners } from '../props-util';\nimport PropTypes from '../vue-types';\nimport proxyComponent from '../proxyComponent';\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.name || 'Component';\n}\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\nexport default function connect(mapStateToProps) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n  return function wrapWithConnect(WrappedComponent) {\n    var tempProps = omit(WrappedComponent.props || {}, ['store']);\n    var props = {\n      __propsSymbol__: PropTypes.any\n    };\n    Object.keys(tempProps).forEach(function (k) {\n      props[k] = _extends({}, tempProps[k], {\n        required: false\n      });\n    });\n    var Connect = {\n      name: 'Connect_' + getDisplayName(WrappedComponent),\n      props: props,\n      inject: {\n        storeContext: {\n          'default': function _default() {\n            return {};\n          }\n        }\n      },\n      data: function data() {\n        this.store = this.storeContext.store;\n        this.preProps = omit(getOptionProps(this), ['__propsSymbol__']);\n        return {\n          subscribed: finalMapStateToProps(this.store.getState(), this.$props)\n        };\n      },\n      watch: {\n        __propsSymbol__: function __propsSymbol__() {\n          if (mapStateToProps && mapStateToProps.length === 2) {\n            this.subscribed = finalMapStateToProps(this.store.getState(), this.$props);\n          }\n        }\n      },\n      mounted: function mounted() {\n        this.trySubscribe();\n      },\n      beforeDestroy: function beforeDestroy() {\n        this.tryUnsubscribe();\n      },\n      methods: {\n        handleChange: function handleChange() {\n          if (!this.unsubscribe) {\n            return;\n          }\n          var props = omit(getOptionProps(this), ['__propsSymbol__']);\n          var nextSubscribed = finalMapStateToProps(this.store.getState(), props);\n          if (!shallowEqual(this.preProps, props) || !shallowEqual(this.subscribed, nextSubscribed)) {\n            this.subscribed = nextSubscribed;\n          }\n        },\n        trySubscribe: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        },\n        tryUnsubscribe: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        },\n        getWrappedInstance: function getWrappedInstance() {\n          return this.$refs.wrappedInstance;\n        }\n      },\n      render: function render() {\n        var h = arguments[0];\n        var _$slots = this.$slots,\n          $slots = _$slots === undefined ? {} : _$slots,\n          $scopedSlots = this.$scopedSlots,\n          subscribed = this.subscribed,\n          store = this.store;\n        var props = getOptionProps(this);\n        this.preProps = _extends({}, omit(props, ['__propsSymbol__']));\n        var wrapProps = {\n          props: _extends({}, props, subscribed, {\n            store: store\n          }),\n          on: getListeners(this),\n          scopedSlots: $scopedSlots\n        };\n        return h(WrappedComponent, _mergeJSXProps([wrapProps, {\n          ref: 'wrappedInstance'\n        }]), [Object.keys($slots).map(function (name) {\n          return h('template', {\n            slot: name\n          }, [$slots[name]]);\n        })]);\n      }\n    };\n    return proxyComponent(Connect);\n  };\n}","map":{"version":3,"names":["_mergeJSXProps","_extends","shallowEqual","omit","getOptionProps","getListeners","PropTypes","proxyComponent","getDisplayName","WrappedComponent","name","defaultMapStateToProps","connect","mapStateToProps","shouldSubscribe","finalMapStateToProps","wrapWithConnect","tempProps","props","__propsSymbol__","any","Object","keys","forEach","k","required","Connect","inject","storeContext","_default","data","store","preProps","subscribed","getState","$props","watch","length","mounted","trySubscribe","beforeDestroy","tryUnsubscribe","methods","handleChange","unsubscribe","nextSubscribed","subscribe","getWrappedInstance","$refs","wrappedInstance","render","h","arguments","_$slots","$slots","undefined","$scopedSlots","wrapProps","on","scopedSlots","ref","map","slot"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/client/node_modules/ant-design-vue/es/_util/store/connect.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport shallowEqual from 'shallowequal';\nimport omit from 'omit.js';\nimport { getOptionProps, getListeners } from '../props-util';\nimport PropTypes from '../vue-types';\nimport proxyComponent from '../proxyComponent';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.name || 'Component';\n}\n\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\nexport default function connect(mapStateToProps) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n  return function wrapWithConnect(WrappedComponent) {\n    var tempProps = omit(WrappedComponent.props || {}, ['store']);\n    var props = {\n      __propsSymbol__: PropTypes.any\n    };\n    Object.keys(tempProps).forEach(function (k) {\n      props[k] = _extends({}, tempProps[k], { required: false });\n    });\n    var Connect = {\n      name: 'Connect_' + getDisplayName(WrappedComponent),\n      props: props,\n      inject: {\n        storeContext: { 'default': function _default() {\n            return {};\n          } }\n      },\n      data: function data() {\n        this.store = this.storeContext.store;\n        this.preProps = omit(getOptionProps(this), ['__propsSymbol__']);\n        return {\n          subscribed: finalMapStateToProps(this.store.getState(), this.$props)\n        };\n      },\n\n      watch: {\n        __propsSymbol__: function __propsSymbol__() {\n          if (mapStateToProps && mapStateToProps.length === 2) {\n            this.subscribed = finalMapStateToProps(this.store.getState(), this.$props);\n          }\n        }\n      },\n      mounted: function mounted() {\n        this.trySubscribe();\n      },\n      beforeDestroy: function beforeDestroy() {\n        this.tryUnsubscribe();\n      },\n\n      methods: {\n        handleChange: function handleChange() {\n          if (!this.unsubscribe) {\n            return;\n          }\n          var props = omit(getOptionProps(this), ['__propsSymbol__']);\n          var nextSubscribed = finalMapStateToProps(this.store.getState(), props);\n          if (!shallowEqual(this.preProps, props) || !shallowEqual(this.subscribed, nextSubscribed)) {\n            this.subscribed = nextSubscribed;\n          }\n        },\n        trySubscribe: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        },\n        tryUnsubscribe: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        },\n        getWrappedInstance: function getWrappedInstance() {\n          return this.$refs.wrappedInstance;\n        }\n      },\n      render: function render() {\n        var h = arguments[0];\n        var _$slots = this.$slots,\n            $slots = _$slots === undefined ? {} : _$slots,\n            $scopedSlots = this.$scopedSlots,\n            subscribed = this.subscribed,\n            store = this.store;\n\n        var props = getOptionProps(this);\n        this.preProps = _extends({}, omit(props, ['__propsSymbol__']));\n        var wrapProps = {\n          props: _extends({}, props, subscribed, {\n            store: store\n          }),\n          on: getListeners(this),\n          scopedSlots: $scopedSlots\n        };\n        return h(\n          WrappedComponent,\n          _mergeJSXProps([wrapProps, { ref: 'wrappedInstance' }]),\n          [Object.keys($slots).map(function (name) {\n            return h(\n              'template',\n              { slot: name },\n              [$slots[name]]\n            );\n          })]\n        );\n      }\n    };\n    return proxyComponent(Connect);\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}