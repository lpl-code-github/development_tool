{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _extends from 'babel-runtime/helpers/extends';\nimport VcTable, { INTERNAL_COL_DEFINE } from '../vc-table';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter } from './util';\nimport { initDefaultProps, mergeProps, getOptionProps, getListeners } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport { TableProps } from './interface';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport warning from '../_util/warning';\nimport scrollTo from '../_util/scrollTo';\nimport TransButton from '../_util/transButton';\nimport Vue from 'vue';\nfunction noop() {}\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    }\n    // https://github.com/ant-design/ant-design/issues/19398\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\nvar emptyObject = {};\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends({}, components, {\n    body: _extends({}, components.body, {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\nfunction getFiltersFromColumns(state, columns) {\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\nexport default {\n  name: 'Table',\n  Column: Column,\n  ColumnGroup: ColumnGroup,\n  mixins: [BaseMixin],\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  provide: function provide() {\n    return {\n      store: this.store\n    };\n  },\n  props: initDefaultProps(TableProps, {\n    dataSource: [],\n    useFixedHeader: false,\n    // rowSelection: null,\n    size: 'default',\n    loading: false,\n    bordered: false,\n    indentSize: 20,\n    locale: {},\n    rowKey: 'key',\n    showHeader: true,\n    sortDirections: ['ascend', 'descend'],\n    childrenColumnName: 'children'\n  }),\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!props.expandedRowRender || !('scroll' in props) || !props.scroll.x, '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    this.CheckboxPropsCache = {};\n    this.store = (this.$root.constructor.observable || Vue.observable)({\n      selectedRowKeys: getRowSelection(this.$props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _extends({}, this.getDefaultSortOrder(props.columns || []), {\n      // 减少状态\n      sFilters: this.getDefaultFilters(props.columns),\n      sPagination: this.getDefaultPagination(this.$props),\n      pivot: undefined,\n      sComponents: createComponents(this.components),\n      filterDataCnt: 0\n    });\n  },\n  watch: {\n    pagination: {\n      handler: function handler(val) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.sPagination, val);\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return {\n            sPagination: val !== false ? newPagination : emptyObject\n          };\n        });\n      },\n      deep: true\n    },\n    rowSelection: {\n      handler: function handler(val, oldVal) {\n        if (val && 'selectedRowKeys' in val) {\n          this.store.selectedRowKeys = val.selectedRowKeys || [];\n          var rowSelection = this.rowSelection;\n          if (rowSelection && val.getCheckboxProps !== rowSelection.getCheckboxProps) {\n            this.CheckboxPropsCache = {};\n          }\n        } else if (oldVal && !val) {\n          this.store.selectedRowKeys = [];\n        }\n      },\n      deep: true\n    },\n    dataSource: function dataSource() {\n      this.store.selectionDirty = false;\n      this.CheckboxPropsCache = {};\n    },\n    columns: function columns(val) {\n      var filteredValueColumns = getFilteredValueColumns({\n        columns: val\n      }, val);\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns({\n          columns: val\n        }, val);\n        var newFilters = _extends({}, this.sFilters);\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n        if (isFiltersChanged({\n          filters: this.sFilters\n        }, newFilters)) {\n          this.setState({\n            sFilters: newFilters\n          });\n        }\n      }\n      this.$forceUpdate();\n    },\n    components: {\n      handler: function handler(val, oldVal) {\n        if (!isTheSameComponents(val, oldVal)) {\n          var components = createComponents(val);\n          this.setState({\n            sComponents: components\n          });\n        }\n      },\n      deep: true\n    }\n  },\n  updated: function updated() {\n    var columns = this.columns,\n      sortColumn = this.sSortColumn,\n      sortOrder = this.sSortOrder;\n    if (this.getSortOrderColumns(columns).length > 0) {\n      var sortState = this.getSortStateFromColumns(columns);\n      if (!isSameColumn(sortState.sSortColumn, sortColumn) || sortState.sSortOrder !== sortOrder) {\n        this.setState(sortState);\n      }\n    }\n  },\n  methods: {\n    getCheckboxPropsByItem: function getCheckboxPropsByItem(item, index) {\n      var rowSelection = getRowSelection(this.$props);\n      if (!rowSelection.getCheckboxProps) {\n        return {\n          props: {}\n        };\n      }\n      var key = this.getRecordKey(item, index);\n      // Cache checkboxProps\n      if (!this.CheckboxPropsCache[key]) {\n        this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n      }\n      this.CheckboxPropsCache[key].props = this.CheckboxPropsCache[key].props || {};\n      return this.CheckboxPropsCache[key];\n    },\n    getDefaultSelection: function getDefaultSelection() {\n      var _this = this;\n      var rowSelection = getRowSelection(this.$props);\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this.getCheckboxPropsByItem(item, rowIndex).props.defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this.getRecordKey(record, rowIndex);\n      });\n    },\n    getDefaultPagination: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current = void 0;\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n      var pageSize = void 0;\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    },\n    getSortOrderColumns: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    },\n    getDefaultFilters: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns({\n        columns: this.columns\n      }, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends({}, defaultFilters, definedFilters);\n    },\n    getDefaultSortOrder: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sSortColumn: defaultSortedColumn,\n          sSortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n      return definedSortState;\n    },\n    getSortStateFromColumns: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n      if (sortedColumn) {\n        return {\n          sSortColumn: sortedColumn,\n          sSortOrder: sortedColumn.sortOrder\n        };\n      }\n      return {\n        sSortColumn: null,\n        sSortOrder: null\n      };\n    },\n    getMaxCurrent: function getMaxCurrent(total) {\n      var _sPagination = this.sPagination,\n        current = _sPagination.current,\n        pageSize = _sPagination.pageSize;\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n      return current;\n    },\n    getRecordKey: function getRecordKey(record, index) {\n      var rowKey = this.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ');\n      return recordKey === undefined ? index : recordKey;\n    },\n    getSorterFn: function getSorterFn(state) {\n      var _ref = state || this.$data,\n        sortOrder = _ref.sSortOrder,\n        sortColumn = _ref.sSortColumn;\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n        return 0;\n      };\n    },\n    getCurrentPageData: function getCurrentPageData() {\n      var data = this.getLocalData();\n      this.filterDataCnt = data.length;\n      var current = void 0;\n      var pageSize = void 0;\n      var sPagination = this.sPagination;\n      // 如果没有分页的话，默认全部展示\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = sPagination.pageSize;\n        current = this.getMaxCurrent(sPagination.total || data.length);\n      }\n\n      // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n      return data;\n    },\n    getFlatData: function getFlatData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    },\n    getFlatCurrentPageData: function getFlatCurrentPageData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    },\n    getLocalData: function getLocalData(state) {\n      var _this2 = this;\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.$data;\n      var filters = currentState.sFilters;\n      var dataSource = this.$props.dataSource;\n      var data = dataSource || [];\n      // 优化本地排序\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n      if (sorterFn) {\n        // 使用新数组，避免改变原数组导致无限循环更新\n        // https://github.com/vueComponent/ant-design-vue/issues/2270\n        data = this.recursiveSort([].concat(_toConsumableArray(data)), sorterFn);\n      }\n      // 筛选\n      if (filter && filters) {\n        Object.keys(filters).forEach(function (columnKey) {\n          var col = _this2.findColumn(columnKey);\n          if (!col) {\n            return;\n          }\n          var values = filters[columnKey] || [];\n          if (values.length === 0) {\n            return;\n          }\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n      return data;\n    },\n    onRow: function onRow(prefixCls, record, index) {\n      var customRow = this.customRow;\n      var custom = customRow ? customRow(record, index) : {};\n      return mergeProps(custom, {\n        props: {\n          prefixCls: prefixCls,\n          store: this.store,\n          rowKey: this.getRecordKey(record, index)\n        }\n      });\n    },\n    setSelectedRowKeys: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n      var selectWay = selectionInfo.selectWay,\n        record = selectionInfo.record,\n        checked = selectionInfo.checked,\n        changeRowKeys = selectionInfo.changeRowKeys,\n        nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.$props);\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.selectedRowKeys = selectedRowKeys;\n      }\n      var data = this.getFlatData();\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    },\n    generatePopupContainerFunc: function generatePopupContainerFunc(getPopupContainer) {\n      var scroll = this.$props.scroll;\n      var table = this.$refs.vcTable;\n      if (getPopupContainer) {\n        return getPopupContainer;\n      }\n      // Use undefined to let rc component use default logic.\n      return scroll && table ? function () {\n        return table.getTableNode();\n      } : undefined;\n    },\n    scrollToFirstRow: function scrollToFirstRow() {\n      var _this4 = this;\n      var scroll = this.$props.scroll;\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this4.$refs.vcTable.getBodyTable();\n          }\n        });\n      }\n    },\n    isSameColumn: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    },\n    handleFilter: function handleFilter(column, nextFilters) {\n      var _this5 = this;\n      var props = this.$props;\n      var pagination = _extends({}, this.sPagination);\n      var filters = _extends({}, this.sFilters, _defineProperty({}, getColumnKey(column), nextFilters));\n      // Remove filters not in current columns\n      var currentColumnKeys = [];\n      treeMap(this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n      var newState = {\n        sPagination: pagination,\n        sFilters: {}\n      };\n      var filtersToSetState = _extends({}, filters);\n      // Remove filters which is controlled\n      getFilteredValueColumns({\n        columns: props.columns\n      }).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.sFilters = filtersToSetState;\n      }\n\n      // Controlled current prop will not respond user interaction\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n      this.setState(newState, function () {\n        _this5.scrollToFirstRow();\n        _this5.store.selectionDirty = false;\n        _this5.$emit.apply(_this5, ['change'].concat(_toConsumableArray(_this5.prepareParamsArguments(_extends({}, _this5.$data, {\n          sSelectionDirty: false,\n          sFilters: filters,\n          sPagination: pagination\n        })))));\n      });\n    },\n    handleSelect: function handleSelect(record, rowIndex, e) {\n      var _this6 = this;\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var key = this.getRecordKey(record, rowIndex);\n      var pivot = this.$data.pivot;\n      var rows = this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n      if (this.$props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this6.getRecordKey(row, rowIndex) === key;\n        });\n      }\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n          var rowKey = _this6.getRecordKey(row, i);\n          var checkboxProps = _this6.getCheckboxPropsByItem(row, i);\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n        while (step <= dist) {\n          _loop();\n        }\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    },\n    handleRadioSelect: function handleRadioSelect(record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      this.store.selectionDirty = true;\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    },\n    handleSelectRow: function handleSelectRow(selectionKey, index, onSelectFunc) {\n      var _this7 = this;\n      var data = this.getFlatCurrentPageData();\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this7.getCheckboxPropsByItem(item, i).props.disabled;\n      }).map(function (item, i) {\n        return _this7.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked = void 0;\n      // handle default selection\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n        default:\n          break;\n      }\n      this.store.selectionDirty = true;\n      // when select custom selection, callback selections[n].onSelect\n      var rowSelection = this.rowSelection;\n      var customSelectionStartIndex = 2;\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    },\n    handlePageChange: function handlePageChange(current) {\n      var props = this.$props;\n      var pagination = _extends({}, this.sPagination);\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n      for (var _len = arguments.length, otherArguments = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n      pagination.onChange.apply(pagination, [pagination.current].concat(_toConsumableArray(otherArguments)));\n      var newState = {\n        sPagination: pagination\n      };\n      // Controlled current prop will not respond user interaction\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n      this.setState(newState, this.scrollToFirstRow);\n      this.store.selectionDirty = false;\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sSelectionDirty: false,\n        sPagination: pagination\n      })))));\n    },\n    handleShowSizeChange: function handleShowSizeChange(current, pageSize) {\n      var pagination = this.sPagination;\n      pagination.onShowSizeChange(current, pageSize);\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n      this.setState({\n        sPagination: nextPagination\n      }, this.scrollToFirstRow);\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sPagination: nextPagination\n      })))));\n    },\n    toggleSortOrder: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.sortDirections;\n      var sortOrder = this.sSortOrder,\n        sortColumn = this.sSortColumn;\n      // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder = void 0;\n      // 切换另一列时，丢弃 sortOrder 的状态\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n      var newState = {\n        sSortOrder: newSortOrder,\n        sSortColumn: newSortOrder ? column : null\n      };\n\n      // Controlled\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, newState), column))));\n    },\n    hasPagination: function hasPagination(props) {\n      return (props || this.$props).pagination !== false;\n    },\n    isSortColumn: function isSortColumn(column) {\n      var sortColumn = this.sSortColumn;\n      if (!column || !sortColumn) {\n        return false;\n      }\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    },\n    // Get pagination, filters, sorter\n    prepareParamsArguments: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.sPagination);\n      // remove useless handle function in Table.onChange\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.sFilters;\n      var sorter = {};\n      var currentColumn = column;\n      if (state.sSortColumn && state.sSortOrder) {\n        currentColumn = state.sSortColumn;\n        sorter.column = state.sSortColumn;\n        sorter.order = state.sSortOrder;\n      }\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    },\n    findColumn: function findColumn(myKey) {\n      var column = void 0;\n      treeMap(this.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    },\n    recursiveSort: function recursiveSort(data, sorterFn) {\n      var _this8 = this;\n      var _childrenColumnName = this.childrenColumnName,\n        childrenColumnName = _childrenColumnName === undefined ? 'children' : _childrenColumnName;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this8.recursiveSort([].concat(_toConsumableArray(item[childrenColumnName])), sorterFn))) : item;\n      });\n    },\n    renderExpandIcon: function renderExpandIcon(prefixCls) {\n      var h = this.$createElement;\n      return function (_ref2) {\n        var expandable = _ref2.expandable,\n          expanded = _ref2.expanded,\n          needIndentSpaced = _ref2.needIndentSpaced,\n          record = _ref2.record,\n          onExpand = _ref2.onExpand;\n        if (expandable) {\n          return h(LocaleReceiver, {\n            attrs: {\n              componentName: 'Table',\n              defaultLocale: defaultLocale.Table\n            }\n          }, [function (locale) {\n            var _classNames;\n            return h(TransButton, {\n              'class': classNames(prefixCls + '-row-expand-icon', (_classNames = {}, _defineProperty(_classNames, prefixCls + '-row-collapsed', !expanded), _defineProperty(_classNames, prefixCls + '-row-expanded', expanded), _classNames)),\n              on: {\n                'click': function click(event) {\n                  onExpand(record, event);\n                }\n              },\n              attrs: {\n                'aria-label': expanded ? locale.collapse : locale.expand,\n                noStyle: true\n              }\n            });\n          }]);\n        }\n        if (needIndentSpaced) {\n          return h('span', {\n            'class': prefixCls + '-row-expand-icon ' + prefixCls + '-row-spaced'\n          });\n        }\n        return null;\n      };\n    },\n    renderPagination: function renderPagination(prefixCls, paginationPosition) {\n      var h = this.$createElement;\n\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n      var size = 'default';\n      var pagination = this.sPagination;\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.size === 'middle' || this.size === 'small') {\n        size = 'small';\n      }\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.filterDataCnt;\n      var cls = pagination['class'],\n        style = pagination.style,\n        onChange = pagination.onChange,\n        onShowSizeChange = pagination.onShowSizeChange,\n        restProps = _objectWithoutProperties(pagination, ['class', 'style', 'onChange', 'onShowSizeChange']); // eslint-disable-line\n\n      var paginationProps = mergeProps({\n        key: 'pagination-' + paginationPosition,\n        'class': classNames(cls, prefixCls + '-pagination'),\n        props: _extends({}, restProps, {\n          total: total,\n          size: size,\n          current: this.getMaxCurrent(total)\n        }),\n        style: style,\n        on: {\n          change: this.handlePageChange,\n          showSizeChange: this.handleShowSizeChange\n        }\n      });\n      return total > 0 && (position === paginationPosition || position === 'both') ? h(Pagination, paginationProps) : null;\n    },\n    renderSelectionBox: function renderSelectionBox(type) {\n      var _this9 = this;\n      var h = this.$createElement;\n      return function (_, record, index) {\n        var rowKey = _this9.getRecordKey(record, index); // 从 1 开始\n        var props = _this9.getCheckboxPropsByItem(record, index);\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this9.handleRadioSelect(record, index, e) : _this9.handleSelect(record, index, e);\n        };\n        var selectionBoxProps = mergeProps({\n          props: {\n            type: type,\n            store: _this9.store,\n            rowIndex: rowKey,\n            defaultSelection: _this9.getDefaultSelection()\n          },\n          on: {\n            change: handleChange\n          }\n        }, props);\n        return h('span', {\n          on: {\n            'click': stopPropagation\n          }\n        }, [h(SelectionBox, selectionBoxProps)]);\n      };\n    },\n    renderRowSelection: function renderRowSelection(_ref3) {\n      var _this10 = this;\n      var prefixCls = _ref3.prefixCls,\n        locale = _ref3.locale,\n        getPopupContainer = _ref3.getPopupContainer;\n      var h = this.$createElement;\n      var rowSelection = this.rowSelection;\n      var columns = this.columns.concat();\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this10.getCheckboxPropsByItem(item, index).props.disabled;\n          }\n          return true;\n        });\n        var selectionColumnClass = classNames(prefixCls + '-selection-column', _defineProperty({}, prefixCls + '-selection-column-custom', rowSelection.selections));\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          customRender: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          'class': prefixCls + '-selection-col'\n        });\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this10.getCheckboxPropsByItem(item, index).props.disabled;\n          });\n          selectionColumn.title = selectionColumn.title || h(SelectionCheckboxAll, {\n            attrs: {\n              store: this.store,\n              locale: locale,\n              data: data,\n              getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n              getRecordKey: this.getRecordKey,\n              disabled: checkboxAllDisabled,\n              prefixCls: prefixCls,\n              selections: rowSelection.selections,\n              hideDefaultSelections: rowSelection.hideDefaultSelections,\n              getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n            },\n            on: {\n              'select': this.handleSelectRow\n            }\n          });\n        }\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n      return columns;\n    },\n    renderColumnsDropdown: function renderColumnsDropdown(_ref4) {\n      var _this11 = this;\n      var prefixCls = _ref4.prefixCls,\n        dropdownPrefixCls = _ref4.dropdownPrefixCls,\n        columns = _ref4.columns,\n        locale = _ref4.locale,\n        getPopupContainer = _ref4.getPopupContainer;\n      var h = this.$createElement;\n      var sortOrder = this.sSortOrder,\n        filters = this.sFilters;\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n        var key = getColumnKey(column, i);\n        var filterDropdown = void 0;\n        var sortButton = void 0;\n        var customHeaderCell = column.customHeaderCell;\n        var isSortColumn = _this11.isSortColumn(column);\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = h(FilterDropdown, {\n            attrs: {\n              _propsSymbol: Symbol(),\n              locale: locale,\n              column: column,\n              selectedKeys: colFilters,\n              confirmFilter: _this11.handleFilter,\n              prefixCls: prefixCls + '-filter',\n              dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n              getPopupContainer: _this11.generatePopupContainerFunc(getPopupContainer)\n            },\n            key: 'filter-dropdown'\n          });\n        }\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this11.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-up ' + (isAscend ? 'on' : 'off'),\n            attrs: {\n              type: 'caret-up',\n              theme: 'filled'\n            },\n            key: 'caret-up'\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-down ' + (isDescend ? 'on' : 'off'),\n            attrs: {\n              type: 'caret-down',\n              theme: 'filled'\n            },\n            key: 'caret-down'\n          });\n          sortButton = h('div', {\n            attrs: {\n              title: locale.sortTitle\n            },\n            'class': classNames(prefixCls + '-column-sorter-inner', ascend && descend && prefixCls + '-column-sorter-inner-full'),\n            key: 'sorter'\n          }, [ascend, descend]);\n          customHeaderCell = function customHeaderCell(col) {\n            var colProps = {};\n            // Get original first\n            if (column.customHeaderCell) {\n              colProps = _extends({}, column.customHeaderCell(col));\n            }\n            colProps.on = colProps.on || {};\n            // Add sorter logic\n            var onHeaderCellClick = colProps.on.click;\n            colProps.on.click = function () {\n              _this11.toggleSortOrder(column);\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(undefined, arguments);\n              }\n            };\n            return colProps;\n          };\n        }\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, prefixCls + '-column-has-actions', sortButton || filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-filters', filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-sorters', sortButton), _defineProperty(_classNames3, prefixCls + '-column-sort', isSortColumn && sortOrder), _classNames3)),\n          title: [h('span', {\n            key: 'title',\n            'class': prefixCls + '-header-column'\n          }, [h('div', {\n            'class': sortButton ? prefixCls + '-column-sorters' : undefined\n          }, [h('span', {\n            'class': prefixCls + '-column-title'\n          }, [_this11.renderColumnTitle(column.title)]), h('span', {\n            'class': prefixCls + '-column-sorter'\n          }, [sortButton])])]), filterDropdown],\n          customHeaderCell: customHeaderCell\n        });\n      });\n    },\n    renderColumnTitle: function renderColumnTitle(title) {\n      var _$data = this.$data,\n        filters = _$data.sFilters,\n        sortOrder = _$data.sSortOrder,\n        sortColumn = _$data.sSortColumn;\n      // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n      return title;\n    },\n    renderTable: function renderTable(_ref5) {\n      var _classNames4,\n        _this12 = this;\n      var prefixCls = _ref5.prefixCls,\n        renderEmpty = _ref5.renderEmpty,\n        dropdownPrefixCls = _ref5.dropdownPrefixCls,\n        contextLocale = _ref5.contextLocale,\n        contextGetPopupContainer = _ref5.getPopupContainer,\n        transformCellText = _ref5.transformCellText;\n      var h = this.$createElement;\n      var _getOptionProps = getOptionProps(this),\n        showHeader = _getOptionProps.showHeader,\n        locale = _getOptionProps.locale,\n        getPopupContainer = _getOptionProps.getPopupContainer,\n        expandIcon = _getOptionProps.expandIcon,\n        restProps = _objectWithoutProperties(_getOptionProps, ['showHeader', 'locale', 'getPopupContainer', 'expandIcon']);\n      var data = this.getCurrentPageData();\n      var expandIconAsCell = this.expandedRowRender && this.expandIconAsCell !== false;\n\n      // use props.getPopupContainer first\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer;\n\n      // Merge too locales\n      var mergedLocale = _extends({}, contextLocale, locale);\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty(h, 'Table');\n      }\n      var classString = classNames((_classNames4 = {}, _defineProperty(_classNames4, prefixCls + '-' + this.size, true), _defineProperty(_classNames4, prefixCls + '-bordered', this.bordered), _defineProperty(_classNames4, prefixCls + '-empty', !data.length), _defineProperty(_classNames4, prefixCls + '-without-column-header', !showHeader), _classNames4));\n      var columnsWithRowSelection = this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n      var vcTableProps = {\n        key: 'table',\n        props: _extends({\n          expandIcon: expandIcon || this.renderExpandIcon(prefixCls)\n        }, restProps, {\n          customRow: function customRow(record, index) {\n            return _this12.onRow(prefixCls, record, index);\n          },\n          components: this.sComponents,\n          prefixCls: prefixCls,\n          data: data,\n          columns: columns,\n          showHeader: showHeader,\n          expandIconColumnIndex: expandIconColumnIndex,\n          expandIconAsCell: expandIconAsCell,\n          emptyText: mergedLocale.emptyText,\n          transformCellText: transformCellText\n        }),\n        on: getListeners(this),\n        'class': classString,\n        ref: 'vcTable'\n      };\n      return h(VcTable, vcTableProps);\n    }\n  },\n  render: function render() {\n    var _this13 = this;\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n      customizeDropdownPrefixCls = this.dropdownPrefixCls,\n      customizeTransformCellText = this.transformCellText;\n    var data = this.getCurrentPageData();\n    var _configProvider = this.configProvider,\n      getContextPopupContainer = _configProvider.getPopupContainer,\n      tct = _configProvider.transformCellText;\n    var getPopupContainer = this.getPopupContainer || getContextPopupContainer;\n    var transformCellText = customizeTransformCellText || tct;\n    var loading = this.loading;\n    if (typeof loading === 'boolean') {\n      loading = {\n        props: {\n          spinning: loading\n        }\n      };\n    } else {\n      loading = {\n        props: _extends({}, loading)\n      };\n    }\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var renderEmpty = this.configProvider.renderEmpty;\n    var prefixCls = getPrefixCls('table', customizePrefixCls);\n    var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n    var table = h(LocaleReceiver, {\n      attrs: {\n        componentName: 'Table',\n        defaultLocale: defaultLocale.Table,\n        children: function children(locale) {\n          return _this13.renderTable({\n            prefixCls: prefixCls,\n            renderEmpty: renderEmpty,\n            dropdownPrefixCls: dropdownPrefixCls,\n            contextLocale: locale,\n            getPopupContainer: getPopupContainer,\n            transformCellText: transformCellText\n          });\n        }\n      }\n    });\n\n    // if there is no pagination or no data,\n    // the height of spin should decrease by half of pagination\n    var paginationPatchClass = this.hasPagination() && data && data.length !== 0 ? prefixCls + '-with-pagination' : prefixCls + '-without-pagination';\n    var spinProps = _extends({}, loading, {\n      'class': loading.props && loading.props.spinning ? paginationPatchClass + ' ' + prefixCls + '-spin-holder' : ''\n    });\n    return h('div', {\n      'class': classNames(prefixCls + '-wrapper')\n    }, [h(Spin, spinProps, [this.renderPagination(prefixCls, 'top'), table, this.renderPagination(prefixCls, 'bottom')])]);\n  }\n};","map":{"version":3,"names":["_objectWithoutProperties","_defineProperty","_toConsumableArray","_typeof","_extends","VcTable","INTERNAL_COL_DEFINE","classNames","shallowEqual","FilterDropdown","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","initDefaultProps","mergeProps","getOptionProps","getListeners","BaseMixin","ConfigConsumerProps","TableProps","Pagination","Icon","Spin","LocaleReceiver","defaultLocale","warning","scrollTo","TransButton","Vue","noop","stopPropagation","e","getRowSelection","props","rowSelection","getColumnKey","column","index","key","dataIndex","isSameColumn","a","b","value","other","toString","Array","isArray","defaultPagination","onChange","onShowSizeChange","emptyObject","createComponents","components","arguments","length","undefined","bodyRow","body","row","isTheSameComponents","components1","components2","every","getFilteredValueColumns","state","columns","filteredValue","getFiltersFromColumns","filters","forEach","col","colKey","isFiltersChanged","Object","keys","some","columnKey","name","mixins","inject","configProvider","_default","provide","store","dataSource","useFixedHeader","size","loading","bordered","indentSize","locale","rowKey","showHeader","sortDirections","childrenColumnName","data","expandedRowRender","scroll","x","CheckboxPropsCache","$root","constructor","observable","selectedRowKeys","$props","selectionDirty","getDefaultSortOrder","sFilters","getDefaultFilters","sPagination","getDefaultPagination","pivot","sComponents","filterDataCnt","watch","pagination","handler","val","setState","previousState","newPagination","current","pageSize","deep","oldVal","getCheckboxProps","filteredValueColumns","filtersFromColumns","newFilters","$forceUpdate","updated","sortColumn","sSortColumn","sortOrder","sSortOrder","getSortOrderColumns","sortState","getSortStateFromColumns","methods","getCheckboxPropsByItem","item","getRecordKey","getDefaultSelection","_this","getFlatData","filter","rowIndex","defaultChecked","map","record","defaultCurrent","defaultPageSize","hasPagination","definedFilters","defaultFilteredValueColumns","defaultFilteredValue","defaultFilters","reduce","soFar","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","getMaxCurrent","total","_sPagination","Math","floor","recordKey","getSorterFn","_ref","$data","sorter","result","getCurrentPageData","getLocalData","Number","MAX_VALUE","slice","getFlatCurrentPageData","_this2","currentState","sorterFn","recursiveSort","concat","findColumn","values","onFilter","v","onRow","prefixCls","customRow","custom","setSelectedRowKeys","selectionInfo","_this3","selectWay","checked","changeRowKeys","nativeEvent","selectedRows","i","indexOf","onSelect","onSelectMultiple","changeRows","onSelectAll","_changeRows","onSelectInvert","generatePopupContainerFunc","getPopupContainer","table","$refs","vcTable","getTableNode","scrollToFirstRow","_this4","scrollToFirstRowOnChange","getContainer","getBodyTable","handleFilter","nextFilters","_this5","currentColumnKeys","c","children","push","newState","filtersToSetState","$emit","apply","prepareParamsArguments","sSelectionDirty","handleSelect","_this6","target","defaultSelection","rows","realIndex","findIndex","shiftKey","direction","sign","dist","abs","step","_loop","checkboxProps","disabled","includes","j","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","_this7","changeableRowKeys","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","_len","otherArguments","_key","handleShowSizeChange","nextPagination","toggleSortOrder","newSortOrder","methodIndex","isSortColumn","currentColumn","order","field","extra","currentDataSource","myKey","_this8","_childrenColumnName","sort","renderExpandIcon","h","$createElement","_ref2","expandable","expanded","needIndentSpaced","onExpand","attrs","componentName","Table","_classNames","on","click","event","collapse","expand","noStyle","renderPagination","paginationPosition","position","cls","style","restProps","paginationProps","change","showSizeChange","renderSelectionBox","type","_this9","_","handleChange","selectionBoxProps","renderRowSelection","_ref3","_this10","selectionColumnClass","selections","selectionColumn","customRender","className","fixed","width","columnWidth","title","columnTitle","checkboxAllDisabled","unshift","renderColumnsDropdown","_ref4","_this11","dropdownPrefixCls","_classNames3","filterDropdown","sortButton","customHeaderCell","colFilters","_propsSymbol","Symbol","selectedKeys","confirmFilter","isAscend","isDescend","ascend","theme","descend","sortTitle","colProps","onHeaderCellClick","renderColumnTitle","_$data","Function","renderTable","_ref5","_classNames4","_this12","renderEmpty","contextLocale","contextGetPopupContainer","transformCellText","_getOptionProps","expandIcon","expandIconAsCell","realGetPopupContainer","mergedLocale","emptyText","classString","columnsWithRowSelection","newColumn","expandIconColumnIndex","vcTableProps","ref","render","_this13","customizePrefixCls","customizeDropdownPrefixCls","customizeTransformCellText","_configProvider","getContextPopupContainer","tct","spinning","getPrefixCls","paginationPatchClass","spinProps"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/client/node_modules/ant-design-vue/es/table/Table.js"],"sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _extends from 'babel-runtime/helpers/extends';\nimport VcTable, { INTERNAL_COL_DEFINE } from '../vc-table';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter } from './util';\nimport { initDefaultProps, mergeProps, getOptionProps, getListeners } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport { TableProps } from './interface';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport warning from '../_util/warning';\nimport scrollTo from '../_util/scrollTo';\nimport TransButton from '../_util/transButton';\nimport Vue from 'vue';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    }\n    // https://github.com/ant-design/ant-design/issues/19398\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var bodyRow = components && components.body && components.body.row;\n  return _extends({}, components, {\n    body: _extends({}, components.body, {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns(state, columns) {\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nexport default {\n  name: 'Table',\n  Column: Column,\n  ColumnGroup: ColumnGroup,\n  mixins: [BaseMixin],\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  provide: function provide() {\n    return {\n      store: this.store\n    };\n  },\n\n  props: initDefaultProps(TableProps, {\n    dataSource: [],\n    useFixedHeader: false,\n    // rowSelection: null,\n    size: 'default',\n    loading: false,\n    bordered: false,\n    indentSize: 20,\n    locale: {},\n    rowKey: 'key',\n    showHeader: true,\n    sortDirections: ['ascend', 'descend'],\n    childrenColumnName: 'children'\n  }),\n\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!props.expandedRowRender || !('scroll' in props) || !props.scroll.x, '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    this.CheckboxPropsCache = {};\n\n    this.store = (this.$root.constructor.observable || Vue.observable)({\n      selectedRowKeys: getRowSelection(this.$props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _extends({}, this.getDefaultSortOrder(props.columns || []), {\n      // 减少状态\n      sFilters: this.getDefaultFilters(props.columns),\n      sPagination: this.getDefaultPagination(this.$props),\n      pivot: undefined,\n      sComponents: createComponents(this.components),\n      filterDataCnt: 0\n    });\n  },\n\n  watch: {\n    pagination: {\n      handler: function handler(val) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.sPagination, val);\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return { sPagination: val !== false ? newPagination : emptyObject };\n        });\n      },\n\n      deep: true\n    },\n    rowSelection: {\n      handler: function handler(val, oldVal) {\n        if (val && 'selectedRowKeys' in val) {\n          this.store.selectedRowKeys = val.selectedRowKeys || [];\n          var rowSelection = this.rowSelection;\n\n          if (rowSelection && val.getCheckboxProps !== rowSelection.getCheckboxProps) {\n            this.CheckboxPropsCache = {};\n          }\n        } else if (oldVal && !val) {\n          this.store.selectedRowKeys = [];\n        }\n      },\n\n      deep: true\n    },\n\n    dataSource: function dataSource() {\n      this.store.selectionDirty = false;\n      this.CheckboxPropsCache = {};\n    },\n    columns: function columns(val) {\n      var filteredValueColumns = getFilteredValueColumns({ columns: val }, val);\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns({ columns: val }, val);\n        var newFilters = _extends({}, this.sFilters);\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n        if (isFiltersChanged({ filters: this.sFilters }, newFilters)) {\n          this.setState({ sFilters: newFilters });\n        }\n      }\n      this.$forceUpdate();\n    },\n\n    components: {\n      handler: function handler(val, oldVal) {\n        if (!isTheSameComponents(val, oldVal)) {\n          var components = createComponents(val);\n          this.setState({ sComponents: components });\n        }\n      },\n\n      deep: true\n    }\n  },\n  updated: function updated() {\n    var columns = this.columns,\n        sortColumn = this.sSortColumn,\n        sortOrder = this.sSortOrder;\n\n    if (this.getSortOrderColumns(columns).length > 0) {\n      var sortState = this.getSortStateFromColumns(columns);\n      if (!isSameColumn(sortState.sSortColumn, sortColumn) || sortState.sSortOrder !== sortOrder) {\n        this.setState(sortState);\n      }\n    }\n  },\n\n  methods: {\n    getCheckboxPropsByItem: function getCheckboxPropsByItem(item, index) {\n      var rowSelection = getRowSelection(this.$props);\n      if (!rowSelection.getCheckboxProps) {\n        return { props: {} };\n      }\n      var key = this.getRecordKey(item, index);\n      // Cache checkboxProps\n      if (!this.CheckboxPropsCache[key]) {\n        this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n      }\n      this.CheckboxPropsCache[key].props = this.CheckboxPropsCache[key].props || {};\n      return this.CheckboxPropsCache[key];\n    },\n    getDefaultSelection: function getDefaultSelection() {\n      var _this = this;\n\n      var rowSelection = getRowSelection(this.$props);\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this.getCheckboxPropsByItem(item, rowIndex).props.defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this.getRecordKey(record, rowIndex);\n      });\n    },\n    getDefaultPagination: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current = void 0;\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n      var pageSize = void 0;\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    },\n    getSortOrderColumns: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    },\n    getDefaultFilters: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns({ columns: this.columns }, columns);\n\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n\n      return _extends({}, defaultFilters, definedFilters);\n    },\n    getDefaultSortOrder: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sSortColumn: defaultSortedColumn,\n          sSortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    },\n    getSortStateFromColumns: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sSortColumn: sortedColumn,\n          sSortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sSortColumn: null,\n        sSortOrder: null\n      };\n    },\n    getMaxCurrent: function getMaxCurrent(total) {\n      var _sPagination = this.sPagination,\n          current = _sPagination.current,\n          pageSize = _sPagination.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n      return current;\n    },\n    getRecordKey: function getRecordKey(record, index) {\n      var rowKey = this.rowKey;\n\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ');\n      return recordKey === undefined ? index : recordKey;\n    },\n    getSorterFn: function getSorterFn(state) {\n      var _ref = state || this.$data,\n          sortOrder = _ref.sSortOrder,\n          sortColumn = _ref.sSortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n        return 0;\n      };\n    },\n    getCurrentPageData: function getCurrentPageData() {\n      var data = this.getLocalData();\n      this.filterDataCnt = data.length;\n      var current = void 0;\n      var pageSize = void 0;\n      var sPagination = this.sPagination;\n      // 如果没有分页的话，默认全部展示\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = sPagination.pageSize;\n        current = this.getMaxCurrent(sPagination.total || data.length);\n      }\n\n      // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n      return data;\n    },\n    getFlatData: function getFlatData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    },\n    getFlatCurrentPageData: function getFlatCurrentPageData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    },\n    getLocalData: function getLocalData(state) {\n      var _this2 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var currentState = state || this.$data;\n      var filters = currentState.sFilters;\n      var dataSource = this.$props.dataSource;\n\n      var data = dataSource || [];\n      // 优化本地排序\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n      if (sorterFn) {\n        // 使用新数组，避免改变原数组导致无限循环更新\n        // https://github.com/vueComponent/ant-design-vue/issues/2270\n        data = this.recursiveSort([].concat(_toConsumableArray(data)), sorterFn);\n      }\n      // 筛选\n      if (filter && filters) {\n        Object.keys(filters).forEach(function (columnKey) {\n          var col = _this2.findColumn(columnKey);\n          if (!col) {\n            return;\n          }\n          var values = filters[columnKey] || [];\n          if (values.length === 0) {\n            return;\n          }\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n      return data;\n    },\n    onRow: function onRow(prefixCls, record, index) {\n      var customRow = this.customRow;\n\n      var custom = customRow ? customRow(record, index) : {};\n      return mergeProps(custom, {\n        props: {\n          prefixCls: prefixCls,\n          store: this.store,\n          rowKey: this.getRecordKey(record, index)\n        }\n      });\n    },\n    setSelectedRowKeys: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n\n      var rowSelection = getRowSelection(this.$props);\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.selectedRowKeys = selectedRowKeys;\n      }\n      var data = this.getFlatData();\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    },\n    generatePopupContainerFunc: function generatePopupContainerFunc(getPopupContainer) {\n      var scroll = this.$props.scroll;\n\n      var table = this.$refs.vcTable;\n      if (getPopupContainer) {\n        return getPopupContainer;\n      }\n      // Use undefined to let rc component use default logic.\n      return scroll && table ? function () {\n        return table.getTableNode();\n      } : undefined;\n    },\n    scrollToFirstRow: function scrollToFirstRow() {\n      var _this4 = this;\n\n      var scroll = this.$props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this4.$refs.vcTable.getBodyTable();\n          }\n        });\n      }\n    },\n    isSameColumn: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    },\n    handleFilter: function handleFilter(column, nextFilters) {\n      var _this5 = this;\n\n      var props = this.$props;\n      var pagination = _extends({}, this.sPagination);\n      var filters = _extends({}, this.sFilters, _defineProperty({}, getColumnKey(column), nextFilters));\n      // Remove filters not in current columns\n      var currentColumnKeys = [];\n      treeMap(this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        sPagination: pagination,\n        sFilters: {}\n      };\n      var filtersToSetState = _extends({}, filters);\n      // Remove filters which is controlled\n      getFilteredValueColumns({ columns: props.columns }).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.sFilters = filtersToSetState;\n      }\n\n      // Controlled current prop will not respond user interaction\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, function () {\n        _this5.scrollToFirstRow();\n        _this5.store.selectionDirty = false;\n        _this5.$emit.apply(_this5, ['change'].concat(_toConsumableArray(_this5.prepareParamsArguments(_extends({}, _this5.$data, {\n          sSelectionDirty: false,\n          sFilters: filters,\n          sPagination: pagination\n        })))));\n      });\n    },\n    handleSelect: function handleSelect(record, rowIndex, e) {\n      var _this6 = this;\n\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var key = this.getRecordKey(record, rowIndex);\n      var pivot = this.$data.pivot;\n\n      var rows = this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n      if (this.$props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this6.getRecordKey(row, rowIndex) === key;\n        });\n      }\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n          var rowKey = _this6.getRecordKey(row, i);\n          var checkboxProps = _this6.getCheckboxPropsByItem(row, i);\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        this.setState({ pivot: realIndex });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n        this.setState({ pivot: realIndex });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    },\n    handleRadioSelect: function handleRadioSelect(record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      this.store.selectionDirty = true;\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    },\n    handleSelectRow: function handleSelectRow(selectionKey, index, onSelectFunc) {\n      var _this7 = this;\n\n      var data = this.getFlatCurrentPageData();\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this7.getCheckboxPropsByItem(item, i).props.disabled;\n      }).map(function (item, i) {\n        return _this7.getRecordKey(item, i);\n      });\n\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked = void 0;\n      // handle default selection\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n        default:\n          break;\n      }\n\n      this.store.selectionDirty = true;\n      // when select custom selection, callback selections[n].onSelect\n      var rowSelection = this.rowSelection;\n\n      var customSelectionStartIndex = 2;\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    },\n    handlePageChange: function handlePageChange(current) {\n      var props = this.$props;\n      var pagination = _extends({}, this.sPagination);\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(_toConsumableArray(otherArguments)));\n\n      var newState = {\n        sPagination: pagination\n      };\n      // Controlled current prop will not respond user interaction\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n      this.setState(newState, this.scrollToFirstRow);\n\n      this.store.selectionDirty = false;\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sSelectionDirty: false,\n        sPagination: pagination\n      })))));\n    },\n    handleShowSizeChange: function handleShowSizeChange(current, pageSize) {\n      var pagination = this.sPagination;\n      pagination.onShowSizeChange(current, pageSize);\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n      this.setState({ sPagination: nextPagination }, this.scrollToFirstRow);\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sPagination: nextPagination\n      })))));\n    },\n    toggleSortOrder: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.sortDirections;\n      var sortOrder = this.sSortOrder,\n          sortColumn = this.sSortColumn;\n      // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder = void 0;\n      // 切换另一列时，丢弃 sortOrder 的状态\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n      var newState = {\n        sSortOrder: newSortOrder,\n        sSortColumn: newSortOrder ? column : null\n      };\n\n      // Controlled\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, newState), column))));\n    },\n    hasPagination: function hasPagination(props) {\n      return (props || this.$props).pagination !== false;\n    },\n    isSortColumn: function isSortColumn(column) {\n      var sortColumn = this.sSortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    },\n\n\n    // Get pagination, filters, sorter\n    prepareParamsArguments: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.sPagination);\n      // remove useless handle function in Table.onChange\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.sFilters;\n      var sorter = {};\n      var currentColumn = column;\n      if (state.sSortColumn && state.sSortOrder) {\n        currentColumn = state.sSortColumn;\n        sorter.column = state.sSortColumn;\n        sorter.order = state.sSortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n\n      return [pagination, filters, sorter, extra];\n    },\n    findColumn: function findColumn(myKey) {\n      var column = void 0;\n      treeMap(this.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    },\n    recursiveSort: function recursiveSort(data, sorterFn) {\n      var _this8 = this;\n\n      var _childrenColumnName = this.childrenColumnName,\n          childrenColumnName = _childrenColumnName === undefined ? 'children' : _childrenColumnName;\n\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this8.recursiveSort([].concat(_toConsumableArray(item[childrenColumnName])), sorterFn))) : item;\n      });\n    },\n    renderExpandIcon: function renderExpandIcon(prefixCls) {\n      var h = this.$createElement;\n\n      return function (_ref2) {\n        var expandable = _ref2.expandable,\n            expanded = _ref2.expanded,\n            needIndentSpaced = _ref2.needIndentSpaced,\n            record = _ref2.record,\n            onExpand = _ref2.onExpand;\n\n        if (expandable) {\n          return h(\n            LocaleReceiver,\n            {\n              attrs: { componentName: 'Table', defaultLocale: defaultLocale.Table }\n            },\n            [function (locale) {\n              var _classNames;\n\n              return h(TransButton, {\n                'class': classNames(prefixCls + '-row-expand-icon', (_classNames = {}, _defineProperty(_classNames, prefixCls + '-row-collapsed', !expanded), _defineProperty(_classNames, prefixCls + '-row-expanded', expanded), _classNames)),\n                on: {\n                  'click': function click(event) {\n                    onExpand(record, event);\n                  }\n                },\n                attrs: {\n                  'aria-label': expanded ? locale.collapse : locale.expand,\n                  noStyle: true\n                }\n              });\n            }]\n          );\n        }\n\n        if (needIndentSpaced) {\n          return h('span', { 'class': prefixCls + '-row-expand-icon ' + prefixCls + '-row-spaced' });\n        }\n\n        return null;\n      };\n    },\n    renderPagination: function renderPagination(prefixCls, paginationPosition) {\n      var h = this.$createElement;\n\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n      var size = 'default';\n      var pagination = this.sPagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.size === 'middle' || this.size === 'small') {\n        size = 'small';\n      }\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.filterDataCnt;\n\n      var cls = pagination['class'],\n          style = pagination.style,\n          onChange = pagination.onChange,\n          onShowSizeChange = pagination.onShowSizeChange,\n          restProps = _objectWithoutProperties(pagination, ['class', 'style', 'onChange', 'onShowSizeChange']); // eslint-disable-line\n\n\n      var paginationProps = mergeProps({\n        key: 'pagination-' + paginationPosition,\n        'class': classNames(cls, prefixCls + '-pagination'),\n        props: _extends({}, restProps, {\n          total: total,\n          size: size,\n          current: this.getMaxCurrent(total)\n        }),\n        style: style,\n        on: {\n          change: this.handlePageChange,\n          showSizeChange: this.handleShowSizeChange\n        }\n      });\n      return total > 0 && (position === paginationPosition || position === 'both') ? h(Pagination, paginationProps) : null;\n    },\n    renderSelectionBox: function renderSelectionBox(type) {\n      var _this9 = this;\n\n      var h = this.$createElement;\n\n      return function (_, record, index) {\n        var rowKey = _this9.getRecordKey(record, index); // 从 1 开始\n        var props = _this9.getCheckboxPropsByItem(record, index);\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this9.handleRadioSelect(record, index, e) : _this9.handleSelect(record, index, e);\n        };\n        var selectionBoxProps = mergeProps({\n          props: {\n            type: type,\n            store: _this9.store,\n            rowIndex: rowKey,\n            defaultSelection: _this9.getDefaultSelection()\n          },\n          on: {\n            change: handleChange\n          }\n        }, props);\n\n        return h(\n          'span',\n          {\n            on: {\n              'click': stopPropagation\n            }\n          },\n          [h(SelectionBox, selectionBoxProps)]\n        );\n      };\n    },\n    renderRowSelection: function renderRowSelection(_ref3) {\n      var _this10 = this;\n\n      var prefixCls = _ref3.prefixCls,\n          locale = _ref3.locale,\n          getPopupContainer = _ref3.getPopupContainer;\n      var h = this.$createElement;\n      var rowSelection = this.rowSelection;\n\n      var columns = this.columns.concat();\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this10.getCheckboxPropsByItem(item, index).props.disabled;\n          }\n          return true;\n        });\n        var selectionColumnClass = classNames(prefixCls + '-selection-column', _defineProperty({}, prefixCls + '-selection-column-custom', rowSelection.selections));\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          customRender: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          'class': prefixCls + '-selection-col'\n        });\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this10.getCheckboxPropsByItem(item, index).props.disabled;\n          });\n          selectionColumn.title = selectionColumn.title || h(SelectionCheckboxAll, {\n            attrs: {\n              store: this.store,\n              locale: locale,\n              data: data,\n              getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n              getRecordKey: this.getRecordKey,\n              disabled: checkboxAllDisabled,\n              prefixCls: prefixCls,\n\n              selections: rowSelection.selections,\n              hideDefaultSelections: rowSelection.hideDefaultSelections,\n              getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n            },\n            on: {\n              'select': this.handleSelectRow\n            }\n          });\n        }\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n      return columns;\n    },\n    renderColumnsDropdown: function renderColumnsDropdown(_ref4) {\n      var _this11 = this;\n\n      var prefixCls = _ref4.prefixCls,\n          dropdownPrefixCls = _ref4.dropdownPrefixCls,\n          columns = _ref4.columns,\n          locale = _ref4.locale,\n          getPopupContainer = _ref4.getPopupContainer;\n      var h = this.$createElement;\n      var sortOrder = this.sSortOrder,\n          filters = this.sFilters;\n\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown = void 0;\n        var sortButton = void 0;\n        var customHeaderCell = column.customHeaderCell;\n        var isSortColumn = _this11.isSortColumn(column);\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = h(FilterDropdown, {\n            attrs: {\n              _propsSymbol: Symbol(),\n              locale: locale,\n              column: column,\n              selectedKeys: colFilters,\n              confirmFilter: _this11.handleFilter,\n              prefixCls: prefixCls + '-filter',\n              dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n              getPopupContainer: _this11.generatePopupContainerFunc(getPopupContainer)\n            },\n            key: 'filter-dropdown'\n          });\n        }\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this11.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-up ' + (isAscend ? 'on' : 'off'),\n            attrs: { type: 'caret-up',\n              theme: 'filled'\n            },\n            key: 'caret-up'\n          });\n\n          var descend = sortDirections.indexOf('descend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-down ' + (isDescend ? 'on' : 'off'),\n            attrs: { type: 'caret-down',\n              theme: 'filled'\n            },\n            key: 'caret-down'\n          });\n\n          sortButton = h(\n            'div',\n            {\n              attrs: {\n                title: locale.sortTitle\n              },\n              'class': classNames(prefixCls + '-column-sorter-inner', ascend && descend && prefixCls + '-column-sorter-inner-full'),\n              key: 'sorter'\n            },\n            [ascend, descend]\n          );\n          customHeaderCell = function customHeaderCell(col) {\n            var colProps = {};\n            // Get original first\n            if (column.customHeaderCell) {\n              colProps = _extends({}, column.customHeaderCell(col));\n            }\n            colProps.on = colProps.on || {};\n            // Add sorter logic\n            var onHeaderCellClick = colProps.on.click;\n            colProps.on.click = function () {\n              _this11.toggleSortOrder(column);\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(undefined, arguments);\n              }\n            };\n            return colProps;\n          };\n        }\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, prefixCls + '-column-has-actions', sortButton || filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-filters', filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-sorters', sortButton), _defineProperty(_classNames3, prefixCls + '-column-sort', isSortColumn && sortOrder), _classNames3)),\n          title: [h(\n            'span',\n            { key: 'title', 'class': prefixCls + '-header-column' },\n            [h(\n              'div',\n              { 'class': sortButton ? prefixCls + '-column-sorters' : undefined },\n              [h(\n                'span',\n                { 'class': prefixCls + '-column-title' },\n                [_this11.renderColumnTitle(column.title)]\n              ), h(\n                'span',\n                { 'class': prefixCls + '-column-sorter' },\n                [sortButton]\n              )]\n            )]\n          ), filterDropdown],\n          customHeaderCell: customHeaderCell\n        });\n      });\n    },\n    renderColumnTitle: function renderColumnTitle(title) {\n      var _$data = this.$data,\n          filters = _$data.sFilters,\n          sortOrder = _$data.sSortOrder,\n          sortColumn = _$data.sSortColumn;\n      // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n      return title;\n    },\n    renderTable: function renderTable(_ref5) {\n      var _classNames4,\n          _this12 = this;\n\n      var prefixCls = _ref5.prefixCls,\n          renderEmpty = _ref5.renderEmpty,\n          dropdownPrefixCls = _ref5.dropdownPrefixCls,\n          contextLocale = _ref5.contextLocale,\n          contextGetPopupContainer = _ref5.getPopupContainer,\n          transformCellText = _ref5.transformCellText;\n      var h = this.$createElement;\n\n      var _getOptionProps = getOptionProps(this),\n          showHeader = _getOptionProps.showHeader,\n          locale = _getOptionProps.locale,\n          getPopupContainer = _getOptionProps.getPopupContainer,\n          expandIcon = _getOptionProps.expandIcon,\n          restProps = _objectWithoutProperties(_getOptionProps, ['showHeader', 'locale', 'getPopupContainer', 'expandIcon']);\n\n      var data = this.getCurrentPageData();\n      var expandIconAsCell = this.expandedRowRender && this.expandIconAsCell !== false;\n\n      // use props.getPopupContainer first\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer;\n\n      // Merge too locales\n      var mergedLocale = _extends({}, contextLocale, locale);\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty(h, 'Table');\n      }\n\n      var classString = classNames((_classNames4 = {}, _defineProperty(_classNames4, prefixCls + '-' + this.size, true), _defineProperty(_classNames4, prefixCls + '-bordered', this.bordered), _defineProperty(_classNames4, prefixCls + '-empty', !data.length), _defineProperty(_classNames4, prefixCls + '-without-column-header', !showHeader), _classNames4));\n\n      var columnsWithRowSelection = this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n      var vcTableProps = {\n        key: 'table',\n        props: _extends({\n          expandIcon: expandIcon || this.renderExpandIcon(prefixCls)\n        }, restProps, {\n          customRow: function customRow(record, index) {\n            return _this12.onRow(prefixCls, record, index);\n          },\n          components: this.sComponents,\n          prefixCls: prefixCls,\n          data: data,\n          columns: columns,\n          showHeader: showHeader,\n          expandIconColumnIndex: expandIconColumnIndex,\n          expandIconAsCell: expandIconAsCell,\n          emptyText: mergedLocale.emptyText,\n          transformCellText: transformCellText\n        }),\n        on: getListeners(this),\n        'class': classString,\n        ref: 'vcTable'\n      };\n      return h(VcTable, vcTableProps);\n    }\n  },\n\n  render: function render() {\n    var _this13 = this;\n\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        customizeDropdownPrefixCls = this.dropdownPrefixCls,\n        customizeTransformCellText = this.transformCellText;\n\n    var data = this.getCurrentPageData();\n    var _configProvider = this.configProvider,\n        getContextPopupContainer = _configProvider.getPopupContainer,\n        tct = _configProvider.transformCellText;\n\n    var getPopupContainer = this.getPopupContainer || getContextPopupContainer;\n    var transformCellText = customizeTransformCellText || tct;\n    var loading = this.loading;\n    if (typeof loading === 'boolean') {\n      loading = {\n        props: {\n          spinning: loading\n        }\n      };\n    } else {\n      loading = {\n        props: _extends({}, loading)\n      };\n    }\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var renderEmpty = this.configProvider.renderEmpty;\n\n    var prefixCls = getPrefixCls('table', customizePrefixCls);\n    var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n\n    var table = h(LocaleReceiver, {\n      attrs: {\n        componentName: 'Table',\n        defaultLocale: defaultLocale.Table,\n        children: function children(locale) {\n          return _this13.renderTable({\n            prefixCls: prefixCls,\n            renderEmpty: renderEmpty,\n            dropdownPrefixCls: dropdownPrefixCls,\n            contextLocale: locale,\n            getPopupContainer: getPopupContainer,\n            transformCellText: transformCellText\n          });\n        }\n      }\n    });\n\n    // if there is no pagination or no data,\n    // the height of spin should decrease by half of pagination\n    var paginationPatchClass = this.hasPagination() && data && data.length !== 0 ? prefixCls + '-with-pagination' : prefixCls + '-without-pagination';\n    var spinProps = _extends({}, loading, {\n      'class': loading.props && loading.props.spinning ? paginationPatchClass + ' ' + prefixCls + '-spin-holder' : ''\n    });\n    return h(\n      'div',\n      { 'class': classNames(prefixCls + '-wrapper') },\n      [h(\n        Spin,\n        spinProps,\n        [this.renderPagination(prefixCls, 'top'), table, this.renderPagination(prefixCls, 'bottom')]\n      )]\n    );\n  }\n};"],"mappings":";AAAA,OAAOA,wBAAwB,MAAM,+CAA+C;AACpF,OAAOC,eAAe,MAAM,sCAAsC;AAClE,OAAOC,kBAAkB,MAAM,yCAAyC;AACxE,OAAOC,OAAO,MAAM,8BAA8B;AAClD,OAAOC,QAAQ,MAAM,+BAA+B;AACpD,OAAOC,OAAO,IAAIC,mBAAmB,QAAQ,aAAa;AAC1D,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,YAAY,MAAM,cAAc;AACvC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,oBAAoB,MAAM,wBAAwB;AACzD,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,SAASC,SAAS,EAAEC,OAAO,EAAEC,UAAU,QAAQ,QAAQ;AACvD,SAASC,gBAAgB,EAAEC,UAAU,EAAEC,cAAc,EAAEC,YAAY,QAAQ,qBAAqB;AAChG,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,SAASC,mBAAmB,QAAQ,wCAAwC;AAC5E,SAASC,UAAU,QAAQ,aAAa;AACxC,OAAOC,UAAU,MAAM,eAAe;AACtC,OAAOC,IAAI,MAAM,SAAS;AAC1B,OAAOC,IAAI,MAAM,SAAS;AAC1B,OAAOC,cAAc,MAAM,mCAAmC;AAC9D,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,OAAO,MAAM,kBAAkB;AACtC,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,OAAOC,GAAG,MAAM,KAAK;AAErB,SAASC,IAAIA,CAAA,EAAG,CAAC;AAEjB,SAASC,eAAeA,CAACC,CAAC,EAAE;EAC1BA,CAAC,CAACD,eAAe,CAAC,CAAC;AACrB;AAEA,SAASE,eAAeA,CAACC,KAAK,EAAE;EAC9B,OAAOA,KAAK,CAACC,YAAY,IAAI,CAAC,CAAC;AACjC;AAEA,SAASC,YAAYA,CAACC,MAAM,EAAEC,KAAK,EAAE;EACnC,OAAOD,MAAM,CAACE,GAAG,IAAIF,MAAM,CAACG,SAAS,IAAIF,KAAK;AAChD;AAEA,SAASG,YAAYA,CAACC,CAAC,EAAEC,CAAC,EAAE;EAC1B,IAAID,CAAC,IAAIC,CAAC,IAAID,CAAC,CAACH,GAAG,IAAIG,CAAC,CAACH,GAAG,KAAKI,CAAC,CAACJ,GAAG,EAAE;IACtC,OAAO,IAAI;EACb;EACA,OAAOG,CAAC,KAAKC,CAAC,IAAIvC,YAAY,CAACsC,CAAC,EAAEC,CAAC,EAAE,UAAUC,KAAK,EAAEC,KAAK,EAAE;IAC3D;IACA,IAAI,OAAOD,KAAK,KAAK,UAAU,IAAI,OAAOC,KAAK,KAAK,UAAU,EAAE;MAC9D,OAAOD,KAAK,KAAKC,KAAK,IAAID,KAAK,CAACE,QAAQ,CAAC,CAAC,KAAKD,KAAK,CAACC,QAAQ,CAAC,CAAC;IACjE;IACA;IACA,IAAIC,KAAK,CAACC,OAAO,CAACJ,KAAK,CAAC,IAAIG,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,EAAE;MAChD,OAAOD,KAAK,KAAKC,KAAK,IAAIzC,YAAY,CAACwC,KAAK,EAAEC,KAAK,CAAC;IACtD;EACF,CAAC,CAAC;AACJ;AAEA,IAAII,iBAAiB,GAAG;EACtBC,QAAQ,EAAEpB,IAAI;EACdqB,gBAAgB,EAAErB;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA,IAAIsB,WAAW,GAAG,CAAC,CAAC;AAEpB,IAAIC,gBAAgB,GAAG,SAASA,gBAAgBA,CAAA,EAAG;EACjD,IAAIC,UAAU,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EAEvF,IAAIG,OAAO,GAAGJ,UAAU,IAAIA,UAAU,CAACK,IAAI,IAAIL,UAAU,CAACK,IAAI,CAACC,GAAG;EAClE,OAAO5D,QAAQ,CAAC,CAAC,CAAC,EAAEsD,UAAU,EAAE;IAC9BK,IAAI,EAAE3D,QAAQ,CAAC,CAAC,CAAC,EAAEsD,UAAU,CAACK,IAAI,EAAE;MAClCC,GAAG,EAAElD,aAAa,CAACgD,OAAO;IAC5B,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,SAASG,mBAAmBA,CAAA,EAAG;EAC7B,IAAIC,WAAW,GAAGP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EACxF,IAAIQ,WAAW,GAAGR,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EAExF,OAAOO,WAAW,KAAKC,WAAW,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC,CAACC,KAAK,CAAC,UAAUzB,GAAG,EAAE;IACrF,OAAOnC,YAAY,CAAC0D,WAAW,CAACvB,GAAG,CAAC,EAAEwB,WAAW,CAACxB,GAAG,CAAC,CAAC;EACzD,CAAC,CAAC;AACJ;AAEA,SAAS0B,uBAAuBA,CAACC,KAAK,EAAEC,OAAO,EAAE;EAC/C,OAAOtD,UAAU,CAACsD,OAAO,IAAI,CAACD,KAAK,IAAI,CAAC,CAAC,EAAEC,OAAO,IAAI,EAAE,EAAE,UAAU9B,MAAM,EAAE;IAC1E,OAAO,OAAOA,MAAM,CAAC+B,aAAa,KAAK,WAAW;EACpD,CAAC,CAAC;AACJ;AAEA,SAASC,qBAAqBA,CAACH,KAAK,EAAEC,OAAO,EAAE;EAC7C,IAAIG,OAAO,GAAG,CAAC,CAAC;EAChBL,uBAAuB,CAACC,KAAK,EAAEC,OAAO,CAAC,CAACI,OAAO,CAAC,UAAUC,GAAG,EAAE;IAC7D,IAAIC,MAAM,GAAGrC,YAAY,CAACoC,GAAG,CAAC;IAC9BF,OAAO,CAACG,MAAM,CAAC,GAAGD,GAAG,CAACJ,aAAa;EACrC,CAAC,CAAC;EACF,OAAOE,OAAO;AAChB;AAEA,SAASI,gBAAgBA,CAACR,KAAK,EAAEI,OAAO,EAAE;EACxC,IAAIK,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,CAACd,MAAM,KAAKmB,MAAM,CAACC,IAAI,CAACV,KAAK,CAACI,OAAO,CAAC,CAACd,MAAM,EAAE;IACrE,OAAO,IAAI;EACb;EACA,OAAOmB,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,CAACO,IAAI,CAAC,UAAUC,SAAS,EAAE;IACpD,OAAOR,OAAO,CAACQ,SAAS,CAAC,KAAKZ,KAAK,CAACI,OAAO,CAACQ,SAAS,CAAC;EACxD,CAAC,CAAC;AACJ;AAEA,eAAe;EACbC,IAAI,EAAE,OAAO;EACbvE,MAAM,EAAEA,MAAM;EACdC,WAAW,EAAEA,WAAW;EACxBuE,MAAM,EAAE,CAAC9D,SAAS,CAAC;EACnB+D,MAAM,EAAE;IACNC,cAAc,EAAE;MAAE,SAAS,EAAE,SAASC,QAAQA,CAAA,EAAG;QAC7C,OAAOhE,mBAAmB;MAC5B;IAAE;EACN,CAAC;EACDiE,OAAO,EAAE,SAASA,OAAOA,CAAA,EAAG;IAC1B,OAAO;MACLC,KAAK,EAAE,IAAI,CAACA;IACd,CAAC;EACH,CAAC;EAEDnD,KAAK,EAAEpB,gBAAgB,CAACM,UAAU,EAAE;IAClCkE,UAAU,EAAE,EAAE;IACdC,cAAc,EAAE,KAAK;IACrB;IACAC,IAAI,EAAE,SAAS;IACfC,OAAO,EAAE,KAAK;IACdC,QAAQ,EAAE,KAAK;IACfC,UAAU,EAAE,EAAE;IACdC,MAAM,EAAE,CAAC,CAAC;IACVC,MAAM,EAAE,KAAK;IACbC,UAAU,EAAE,IAAI;IAChBC,cAAc,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC;IACrCC,kBAAkB,EAAE;EACtB,CAAC,CAAC;EAEFC,IAAI,EAAE,SAASA,IAAIA,CAAA,EAAG;IACpB,IAAI/D,KAAK,GAAGlB,cAAc,CAAC,IAAI,CAAC;IAChCU,OAAO,CAAC,CAACQ,KAAK,CAACgE,iBAAiB,IAAI,EAAE,QAAQ,IAAIhE,KAAK,CAAC,IAAI,CAACA,KAAK,CAACiE,MAAM,CAACC,CAAC,EAAE,0FAA0F,CAAC;IACxK,IAAI,CAACC,kBAAkB,GAAG,CAAC,CAAC;IAE5B,IAAI,CAAChB,KAAK,GAAG,CAAC,IAAI,CAACiB,KAAK,CAACC,WAAW,CAACC,UAAU,IAAI3E,GAAG,CAAC2E,UAAU,EAAE;MACjEC,eAAe,EAAExE,eAAe,CAAC,IAAI,CAACyE,MAAM,CAAC,CAACD,eAAe,IAAI,EAAE;MACnEE,cAAc,EAAE;IAClB,CAAC,CAAC;IACF,OAAO3G,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC4G,mBAAmB,CAAC1E,KAAK,CAACiC,OAAO,IAAI,EAAE,CAAC,EAAE;MACjE;MACA0C,QAAQ,EAAE,IAAI,CAACC,iBAAiB,CAAC5E,KAAK,CAACiC,OAAO,CAAC;MAC/C4C,WAAW,EAAE,IAAI,CAACC,oBAAoB,CAAC,IAAI,CAACN,MAAM,CAAC;MACnDO,KAAK,EAAExD,SAAS;MAChByD,WAAW,EAAE7D,gBAAgB,CAAC,IAAI,CAACC,UAAU,CAAC;MAC9C6D,aAAa,EAAE;IACjB,CAAC,CAAC;EACJ,CAAC;EAEDC,KAAK,EAAE;IACLC,UAAU,EAAE;MACVC,OAAO,EAAE,SAASA,OAAOA,CAACC,GAAG,EAAE;QAC7B,IAAI,CAACC,QAAQ,CAAC,UAAUC,aAAa,EAAE;UACrC,IAAIC,aAAa,GAAG1H,QAAQ,CAAC,CAAC,CAAC,EAAEiD,iBAAiB,EAAEwE,aAAa,CAACV,WAAW,EAAEQ,GAAG,CAAC;UACnFG,aAAa,CAACC,OAAO,GAAGD,aAAa,CAACC,OAAO,IAAI,CAAC;UAClDD,aAAa,CAACE,QAAQ,GAAGF,aAAa,CAACE,QAAQ,IAAI,EAAE;UACrD,OAAO;YAAEb,WAAW,EAAEQ,GAAG,KAAK,KAAK,GAAGG,aAAa,GAAGtE;UAAY,CAAC;QACrE,CAAC,CAAC;MACJ,CAAC;MAEDyE,IAAI,EAAE;IACR,CAAC;IACD1F,YAAY,EAAE;MACZmF,OAAO,EAAE,SAASA,OAAOA,CAACC,GAAG,EAAEO,MAAM,EAAE;QACrC,IAAIP,GAAG,IAAI,iBAAiB,IAAIA,GAAG,EAAE;UACnC,IAAI,CAAClC,KAAK,CAACoB,eAAe,GAAGc,GAAG,CAACd,eAAe,IAAI,EAAE;UACtD,IAAItE,YAAY,GAAG,IAAI,CAACA,YAAY;UAEpC,IAAIA,YAAY,IAAIoF,GAAG,CAACQ,gBAAgB,KAAK5F,YAAY,CAAC4F,gBAAgB,EAAE;YAC1E,IAAI,CAAC1B,kBAAkB,GAAG,CAAC,CAAC;UAC9B;QACF,CAAC,MAAM,IAAIyB,MAAM,IAAI,CAACP,GAAG,EAAE;UACzB,IAAI,CAAClC,KAAK,CAACoB,eAAe,GAAG,EAAE;QACjC;MACF,CAAC;MAEDoB,IAAI,EAAE;IACR,CAAC;IAEDvC,UAAU,EAAE,SAASA,UAAUA,CAAA,EAAG;MAChC,IAAI,CAACD,KAAK,CAACsB,cAAc,GAAG,KAAK;MACjC,IAAI,CAACN,kBAAkB,GAAG,CAAC,CAAC;IAC9B,CAAC;IACDlC,OAAO,EAAE,SAASA,OAAOA,CAACoD,GAAG,EAAE;MAC7B,IAAIS,oBAAoB,GAAG/D,uBAAuB,CAAC;QAAEE,OAAO,EAAEoD;MAAI,CAAC,EAAEA,GAAG,CAAC;MACzE,IAAIS,oBAAoB,CAACxE,MAAM,GAAG,CAAC,EAAE;QACnC,IAAIyE,kBAAkB,GAAG5D,qBAAqB,CAAC;UAAEF,OAAO,EAAEoD;QAAI,CAAC,EAAEA,GAAG,CAAC;QACrE,IAAIW,UAAU,GAAGlI,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC6G,QAAQ,CAAC;QAC5ClC,MAAM,CAACC,IAAI,CAACqD,kBAAkB,CAAC,CAAC1D,OAAO,CAAC,UAAUhC,GAAG,EAAE;UACrD2F,UAAU,CAAC3F,GAAG,CAAC,GAAG0F,kBAAkB,CAAC1F,GAAG,CAAC;QAC3C,CAAC,CAAC;QACF,IAAImC,gBAAgB,CAAC;UAAEJ,OAAO,EAAE,IAAI,CAACuC;QAAS,CAAC,EAAEqB,UAAU,CAAC,EAAE;UAC5D,IAAI,CAACV,QAAQ,CAAC;YAAEX,QAAQ,EAAEqB;UAAW,CAAC,CAAC;QACzC;MACF;MACA,IAAI,CAACC,YAAY,CAAC,CAAC;IACrB,CAAC;IAED7E,UAAU,EAAE;MACVgE,OAAO,EAAE,SAASA,OAAOA,CAACC,GAAG,EAAEO,MAAM,EAAE;QACrC,IAAI,CAACjE,mBAAmB,CAAC0D,GAAG,EAAEO,MAAM,CAAC,EAAE;UACrC,IAAIxE,UAAU,GAAGD,gBAAgB,CAACkE,GAAG,CAAC;UACtC,IAAI,CAACC,QAAQ,CAAC;YAAEN,WAAW,EAAE5D;UAAW,CAAC,CAAC;QAC5C;MACF,CAAC;MAEDuE,IAAI,EAAE;IACR;EACF,CAAC;EACDO,OAAO,EAAE,SAASA,OAAOA,CAAA,EAAG;IAC1B,IAAIjE,OAAO,GAAG,IAAI,CAACA,OAAO;MACtBkE,UAAU,GAAG,IAAI,CAACC,WAAW;MAC7BC,SAAS,GAAG,IAAI,CAACC,UAAU;IAE/B,IAAI,IAAI,CAACC,mBAAmB,CAACtE,OAAO,CAAC,CAACX,MAAM,GAAG,CAAC,EAAE;MAChD,IAAIkF,SAAS,GAAG,IAAI,CAACC,uBAAuB,CAACxE,OAAO,CAAC;MACrD,IAAI,CAAC1B,YAAY,CAACiG,SAAS,CAACJ,WAAW,EAAED,UAAU,CAAC,IAAIK,SAAS,CAACF,UAAU,KAAKD,SAAS,EAAE;QAC1F,IAAI,CAACf,QAAQ,CAACkB,SAAS,CAAC;MAC1B;IACF;EACF,CAAC;EAEDE,OAAO,EAAE;IACPC,sBAAsB,EAAE,SAASA,sBAAsBA,CAACC,IAAI,EAAExG,KAAK,EAAE;MACnE,IAAIH,YAAY,GAAGF,eAAe,CAAC,IAAI,CAACyE,MAAM,CAAC;MAC/C,IAAI,CAACvE,YAAY,CAAC4F,gBAAgB,EAAE;QAClC,OAAO;UAAE7F,KAAK,EAAE,CAAC;QAAE,CAAC;MACtB;MACA,IAAIK,GAAG,GAAG,IAAI,CAACwG,YAAY,CAACD,IAAI,EAAExG,KAAK,CAAC;MACxC;MACA,IAAI,CAAC,IAAI,CAAC+D,kBAAkB,CAAC9D,GAAG,CAAC,EAAE;QACjC,IAAI,CAAC8D,kBAAkB,CAAC9D,GAAG,CAAC,GAAGJ,YAAY,CAAC4F,gBAAgB,CAACe,IAAI,CAAC;MACpE;MACA,IAAI,CAACzC,kBAAkB,CAAC9D,GAAG,CAAC,CAACL,KAAK,GAAG,IAAI,CAACmE,kBAAkB,CAAC9D,GAAG,CAAC,CAACL,KAAK,IAAI,CAAC,CAAC;MAC7E,OAAO,IAAI,CAACmE,kBAAkB,CAAC9D,GAAG,CAAC;IACrC,CAAC;IACDyG,mBAAmB,EAAE,SAASA,mBAAmBA,CAAA,EAAG;MAClD,IAAIC,KAAK,GAAG,IAAI;MAEhB,IAAI9G,YAAY,GAAGF,eAAe,CAAC,IAAI,CAACyE,MAAM,CAAC;MAC/C,IAAI,CAACvE,YAAY,CAAC4F,gBAAgB,EAAE;QAClC,OAAO,EAAE;MACX;MACA,OAAO,IAAI,CAACmB,WAAW,CAAC,CAAC,CAACC,MAAM,CAAC,UAAUL,IAAI,EAAEM,QAAQ,EAAE;QACzD,OAAOH,KAAK,CAACJ,sBAAsB,CAACC,IAAI,EAAEM,QAAQ,CAAC,CAAClH,KAAK,CAACmH,cAAc;MAC1E,CAAC,CAAC,CAACC,GAAG,CAAC,UAAUC,MAAM,EAAEH,QAAQ,EAAE;QACjC,OAAOH,KAAK,CAACF,YAAY,CAACQ,MAAM,EAAEH,QAAQ,CAAC;MAC7C,CAAC,CAAC;IACJ,CAAC;IACDpC,oBAAoB,EAAE,SAASA,oBAAoBA,CAAC9E,KAAK,EAAE;MACzD,IAAImF,UAAU,GAAGtH,OAAO,CAACmC,KAAK,CAACmF,UAAU,CAAC,KAAK,QAAQ,GAAGnF,KAAK,CAACmF,UAAU,GAAG,CAAC,CAAC;MAC/E,IAAIM,OAAO,GAAG,KAAK,CAAC;MACpB,IAAI,SAAS,IAAIN,UAAU,EAAE;QAC3BM,OAAO,GAAGN,UAAU,CAACM,OAAO;MAC9B,CAAC,MAAM,IAAI,gBAAgB,IAAIN,UAAU,EAAE;QACzCM,OAAO,GAAGN,UAAU,CAACmC,cAAc;MACrC;MACA,IAAI5B,QAAQ,GAAG,KAAK,CAAC;MACrB,IAAI,UAAU,IAAIP,UAAU,EAAE;QAC5BO,QAAQ,GAAGP,UAAU,CAACO,QAAQ;MAChC,CAAC,MAAM,IAAI,iBAAiB,IAAIP,UAAU,EAAE;QAC1CO,QAAQ,GAAGP,UAAU,CAACoC,eAAe;MACvC;MACA,OAAO,IAAI,CAACC,aAAa,CAACxH,KAAK,CAAC,GAAGlC,QAAQ,CAAC,CAAC,CAAC,EAAEiD,iBAAiB,EAAEoE,UAAU,EAAE;QAC7EM,OAAO,EAAEA,OAAO,IAAI,CAAC;QACrBC,QAAQ,EAAEA,QAAQ,IAAI;MACxB,CAAC,CAAC,GAAG,CAAC,CAAC;IACT,CAAC;IACDa,mBAAmB,EAAE,SAASA,mBAAmBA,CAACtE,OAAO,EAAE;MACzD,OAAOtD,UAAU,CAACsD,OAAO,IAAI,IAAI,CAACA,OAAO,IAAI,EAAE,EAAE,UAAU9B,MAAM,EAAE;QACjE,OAAO,WAAW,IAAIA,MAAM;MAC9B,CAAC,CAAC;IACJ,CAAC;IACDyE,iBAAiB,EAAE,SAASA,iBAAiBA,CAAC3C,OAAO,EAAE;MACrD,IAAIwF,cAAc,GAAGtF,qBAAqB,CAAC;QAAEF,OAAO,EAAE,IAAI,CAACA;MAAQ,CAAC,EAAEA,OAAO,CAAC;MAE9E,IAAIyF,2BAA2B,GAAG/I,UAAU,CAACsD,OAAO,IAAI,EAAE,EAAE,UAAU9B,MAAM,EAAE;QAC5E,OAAO,OAAOA,MAAM,CAACwH,oBAAoB,KAAK,WAAW;MAC3D,CAAC,CAAC;MAEF,IAAIC,cAAc,GAAGF,2BAA2B,CAACG,MAAM,CAAC,UAAUC,KAAK,EAAExF,GAAG,EAAE;QAC5E,IAAIC,MAAM,GAAGrC,YAAY,CAACoC,GAAG,CAAC;QAC9BwF,KAAK,CAACvF,MAAM,CAAC,GAAGD,GAAG,CAACqF,oBAAoB;QACxC,OAAOG,KAAK;MACd,CAAC,EAAE,CAAC,CAAC,CAAC;MAEN,OAAOhK,QAAQ,CAAC,CAAC,CAAC,EAAE8J,cAAc,EAAEH,cAAc,CAAC;IACrD,CAAC;IACD/C,mBAAmB,EAAE,SAASA,mBAAmBA,CAACzC,OAAO,EAAE;MACzD,IAAI8F,gBAAgB,GAAG,IAAI,CAACtB,uBAAuB,CAACxE,OAAO,CAAC;MAE5D,IAAI+F,mBAAmB,GAAGrJ,UAAU,CAACsD,OAAO,IAAI,EAAE,EAAE,UAAU9B,MAAM,EAAE;QACpE,OAAOA,MAAM,CAAC8H,gBAAgB,IAAI,IAAI;MACxC,CAAC,CAAC,CAAC,CAAC,CAAC;MAEL,IAAID,mBAAmB,IAAI,CAACD,gBAAgB,CAAC5B,UAAU,EAAE;QACvD,OAAO;UACLC,WAAW,EAAE4B,mBAAmB;UAChC1B,UAAU,EAAE0B,mBAAmB,CAACC;QAClC,CAAC;MACH;MAEA,OAAOF,gBAAgB;IACzB,CAAC;IACDtB,uBAAuB,EAAE,SAASA,uBAAuBA,CAACxE,OAAO,EAAE;MACjE;MACA,IAAIiG,YAAY,GAAG,IAAI,CAAC3B,mBAAmB,CAACtE,OAAO,CAAC,CAACgF,MAAM,CAAC,UAAU3E,GAAG,EAAE;QACzE,OAAOA,GAAG,CAAC+D,SAAS;MACtB,CAAC,CAAC,CAAC,CAAC,CAAC;MAEL,IAAI6B,YAAY,EAAE;QAChB,OAAO;UACL9B,WAAW,EAAE8B,YAAY;UACzB5B,UAAU,EAAE4B,YAAY,CAAC7B;QAC3B,CAAC;MACH;MAEA,OAAO;QACLD,WAAW,EAAE,IAAI;QACjBE,UAAU,EAAE;MACd,CAAC;IACH,CAAC;IACD6B,aAAa,EAAE,SAASA,aAAaA,CAACC,KAAK,EAAE;MAC3C,IAAIC,YAAY,GAAG,IAAI,CAACxD,WAAW;QAC/BY,OAAO,GAAG4C,YAAY,CAAC5C,OAAO;QAC9BC,QAAQ,GAAG2C,YAAY,CAAC3C,QAAQ;MAEpC,IAAI,CAACD,OAAO,GAAG,CAAC,IAAIC,QAAQ,IAAI0C,KAAK,EAAE;QACrC,OAAOE,IAAI,CAACC,KAAK,CAAC,CAACH,KAAK,GAAG,CAAC,IAAI1C,QAAQ,CAAC,GAAG,CAAC;MAC/C;MACA,OAAOD,OAAO;IAChB,CAAC;IACDoB,YAAY,EAAE,SAASA,YAAYA,CAACQ,MAAM,EAAEjH,KAAK,EAAE;MACjD,IAAIuD,MAAM,GAAG,IAAI,CAACA,MAAM;MAExB,IAAI6E,SAAS,GAAG,OAAO7E,MAAM,KAAK,UAAU,GAAGA,MAAM,CAAC0D,MAAM,EAAEjH,KAAK,CAAC,GAAGiH,MAAM,CAAC1D,MAAM,CAAC;MACrFnE,OAAO,CAACgJ,SAAS,KAAKjH,SAAS,EAAE,OAAO,EAAE,sEAAsE,GAAG,qDAAqD,CAAC;MACzK,OAAOiH,SAAS,KAAKjH,SAAS,GAAGnB,KAAK,GAAGoI,SAAS;IACpD,CAAC;IACDC,WAAW,EAAE,SAASA,WAAWA,CAACzG,KAAK,EAAE;MACvC,IAAI0G,IAAI,GAAG1G,KAAK,IAAI,IAAI,CAAC2G,KAAK;QAC1BtC,SAAS,GAAGqC,IAAI,CAACpC,UAAU;QAC3BH,UAAU,GAAGuC,IAAI,CAACtC,WAAW;MAEjC,IAAI,CAACC,SAAS,IAAI,CAACF,UAAU,IAAI,OAAOA,UAAU,CAACyC,MAAM,KAAK,UAAU,EAAE;QACxE;MACF;MAEA,OAAO,UAAUpI,CAAC,EAAEC,CAAC,EAAE;QACrB,IAAIoI,MAAM,GAAG1C,UAAU,CAACyC,MAAM,CAACpI,CAAC,EAAEC,CAAC,EAAE4F,SAAS,CAAC;QAC/C,IAAIwC,MAAM,KAAK,CAAC,EAAE;UAChB,OAAOxC,SAAS,KAAK,SAAS,GAAG,CAACwC,MAAM,GAAGA,MAAM;QACnD;QACA,OAAO,CAAC;MACV,CAAC;IACH,CAAC;IACDC,kBAAkB,EAAE,SAASA,kBAAkBA,CAAA,EAAG;MAChD,IAAI/E,IAAI,GAAG,IAAI,CAACgF,YAAY,CAAC,CAAC;MAC9B,IAAI,CAAC9D,aAAa,GAAGlB,IAAI,CAACzC,MAAM;MAChC,IAAImE,OAAO,GAAG,KAAK,CAAC;MACpB,IAAIC,QAAQ,GAAG,KAAK,CAAC;MACrB,IAAIb,WAAW,GAAG,IAAI,CAACA,WAAW;MAClC;MACA,IAAI,CAAC,IAAI,CAAC2C,aAAa,CAAC,CAAC,EAAE;QACzB9B,QAAQ,GAAGsD,MAAM,CAACC,SAAS;QAC3BxD,OAAO,GAAG,CAAC;MACb,CAAC,MAAM;QACLC,QAAQ,GAAGb,WAAW,CAACa,QAAQ;QAC/BD,OAAO,GAAG,IAAI,CAAC0C,aAAa,CAACtD,WAAW,CAACuD,KAAK,IAAIrE,IAAI,CAACzC,MAAM,CAAC;MAChE;;MAEA;MACA;MACA;MACA;MACA,IAAIyC,IAAI,CAACzC,MAAM,GAAGoE,QAAQ,IAAIA,QAAQ,KAAKsD,MAAM,CAACC,SAAS,EAAE;QAC3DlF,IAAI,GAAGA,IAAI,CAACmF,KAAK,CAAC,CAACzD,OAAO,GAAG,CAAC,IAAIC,QAAQ,EAAED,OAAO,GAAGC,QAAQ,CAAC;MACjE;MACA,OAAO3B,IAAI;IACb,CAAC;IACDiD,WAAW,EAAE,SAASA,WAAWA,CAAA,EAAG;MAClC,IAAIlD,kBAAkB,GAAG,IAAI,CAACU,MAAM,CAACV,kBAAkB;MAEvD,OAAOrF,SAAS,CAAC,IAAI,CAACsK,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,EAAEjF,kBAAkB,CAAC;IACtE,CAAC;IACDqF,sBAAsB,EAAE,SAASA,sBAAsBA,CAAA,EAAG;MACxD,IAAIrF,kBAAkB,GAAG,IAAI,CAACU,MAAM,CAACV,kBAAkB;MAEvD,OAAOrF,SAAS,CAAC,IAAI,CAACqK,kBAAkB,CAAC,CAAC,EAAEhF,kBAAkB,CAAC;IACjE,CAAC;IACDiF,YAAY,EAAE,SAASA,YAAYA,CAAC/G,KAAK,EAAE;MACzC,IAAIoH,MAAM,GAAG,IAAI;MAEjB,IAAInC,MAAM,GAAG5F,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;MAErF,IAAIgI,YAAY,GAAGrH,KAAK,IAAI,IAAI,CAAC2G,KAAK;MACtC,IAAIvG,OAAO,GAAGiH,YAAY,CAAC1E,QAAQ;MACnC,IAAIvB,UAAU,GAAG,IAAI,CAACoB,MAAM,CAACpB,UAAU;MAEvC,IAAIW,IAAI,GAAGX,UAAU,IAAI,EAAE;MAC3B;MACAW,IAAI,GAAGA,IAAI,CAACmF,KAAK,CAAC,CAAC,CAAC;MACpB,IAAII,QAAQ,GAAG,IAAI,CAACb,WAAW,CAACY,YAAY,CAAC;MAC7C,IAAIC,QAAQ,EAAE;QACZ;QACA;QACAvF,IAAI,GAAG,IAAI,CAACwF,aAAa,CAAC,EAAE,CAACC,MAAM,CAAC5L,kBAAkB,CAACmG,IAAI,CAAC,CAAC,EAAEuF,QAAQ,CAAC;MAC1E;MACA;MACA,IAAIrC,MAAM,IAAI7E,OAAO,EAAE;QACrBK,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,CAACC,OAAO,CAAC,UAAUO,SAAS,EAAE;UAChD,IAAIN,GAAG,GAAG8G,MAAM,CAACK,UAAU,CAAC7G,SAAS,CAAC;UACtC,IAAI,CAACN,GAAG,EAAE;YACR;UACF;UACA,IAAIoH,MAAM,GAAGtH,OAAO,CAACQ,SAAS,CAAC,IAAI,EAAE;UACrC,IAAI8G,MAAM,CAACpI,MAAM,KAAK,CAAC,EAAE;YACvB;UACF;UACA,IAAIqI,QAAQ,GAAGrH,GAAG,CAACqH,QAAQ;UAC3B5F,IAAI,GAAG4F,QAAQ,GAAG5F,IAAI,CAACkD,MAAM,CAAC,UAAUI,MAAM,EAAE;YAC9C,OAAOqC,MAAM,CAAC/G,IAAI,CAAC,UAAUiH,CAAC,EAAE;cAC9B,OAAOD,QAAQ,CAACC,CAAC,EAAEvC,MAAM,CAAC;YAC5B,CAAC,CAAC;UACJ,CAAC,CAAC,GAAGtD,IAAI;QACX,CAAC,CAAC;MACJ;MACA,OAAOA,IAAI;IACb,CAAC;IACD8F,KAAK,EAAE,SAASA,KAAKA,CAACC,SAAS,EAAEzC,MAAM,EAAEjH,KAAK,EAAE;MAC9C,IAAI2J,SAAS,GAAG,IAAI,CAACA,SAAS;MAE9B,IAAIC,MAAM,GAAGD,SAAS,GAAGA,SAAS,CAAC1C,MAAM,EAAEjH,KAAK,CAAC,GAAG,CAAC,CAAC;MACtD,OAAOvB,UAAU,CAACmL,MAAM,EAAE;QACxBhK,KAAK,EAAE;UACL8J,SAAS,EAAEA,SAAS;UACpB3G,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBQ,MAAM,EAAE,IAAI,CAACkD,YAAY,CAACQ,MAAM,EAAEjH,KAAK;QACzC;MACF,CAAC,CAAC;IACJ,CAAC;IACD6J,kBAAkB,EAAE,SAASA,kBAAkBA,CAAC1F,eAAe,EAAE2F,aAAa,EAAE;MAC9E,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAIC,SAAS,GAAGF,aAAa,CAACE,SAAS;QACnC/C,MAAM,GAAG6C,aAAa,CAAC7C,MAAM;QAC7BgD,OAAO,GAAGH,aAAa,CAACG,OAAO;QAC/BC,aAAa,GAAGJ,aAAa,CAACI,aAAa;QAC3CC,WAAW,GAAGL,aAAa,CAACK,WAAW;MAE3C,IAAItK,YAAY,GAAGF,eAAe,CAAC,IAAI,CAACyE,MAAM,CAAC;MAC/C,IAAIvE,YAAY,IAAI,EAAE,iBAAiB,IAAIA,YAAY,CAAC,EAAE;QACxD,IAAI,CAACkD,KAAK,CAACoB,eAAe,GAAGA,eAAe;MAC9C;MACA,IAAIR,IAAI,GAAG,IAAI,CAACiD,WAAW,CAAC,CAAC;MAC7B,IAAI,CAAC/G,YAAY,CAACe,QAAQ,IAAI,CAACf,YAAY,CAACmK,SAAS,CAAC,EAAE;QACtD;MACF;MACA,IAAII,YAAY,GAAGzG,IAAI,CAACkD,MAAM,CAAC,UAAUvF,GAAG,EAAE+I,CAAC,EAAE;QAC/C,OAAOlG,eAAe,CAACmG,OAAO,CAACP,MAAM,CAACtD,YAAY,CAACnF,GAAG,EAAE+I,CAAC,CAAC,CAAC,IAAI,CAAC;MAClE,CAAC,CAAC;MACF,IAAIxK,YAAY,CAACe,QAAQ,EAAE;QACzBf,YAAY,CAACe,QAAQ,CAACuD,eAAe,EAAEiG,YAAY,CAAC;MACtD;MACA,IAAIJ,SAAS,KAAK,UAAU,IAAInK,YAAY,CAAC0K,QAAQ,EAAE;QACrD1K,YAAY,CAAC0K,QAAQ,CAACtD,MAAM,EAAEgD,OAAO,EAAEG,YAAY,EAAED,WAAW,CAAC;MACnE,CAAC,MAAM,IAAIH,SAAS,KAAK,kBAAkB,IAAInK,YAAY,CAAC2K,gBAAgB,EAAE;QAC5E,IAAIC,UAAU,GAAG9G,IAAI,CAACkD,MAAM,CAAC,UAAUvF,GAAG,EAAE+I,CAAC,EAAE;UAC7C,OAAOH,aAAa,CAACI,OAAO,CAACP,MAAM,CAACtD,YAAY,CAACnF,GAAG,EAAE+I,CAAC,CAAC,CAAC,IAAI,CAAC;QAChE,CAAC,CAAC;QACFxK,YAAY,CAAC2K,gBAAgB,CAACP,OAAO,EAAEG,YAAY,EAAEK,UAAU,CAAC;MAClE,CAAC,MAAM,IAAIT,SAAS,KAAK,aAAa,IAAInK,YAAY,CAAC6K,WAAW,EAAE;QAClE,IAAIC,WAAW,GAAGhH,IAAI,CAACkD,MAAM,CAAC,UAAUvF,GAAG,EAAE+I,CAAC,EAAE;UAC9C,OAAOH,aAAa,CAACI,OAAO,CAACP,MAAM,CAACtD,YAAY,CAACnF,GAAG,EAAE+I,CAAC,CAAC,CAAC,IAAI,CAAC;QAChE,CAAC,CAAC;QACFxK,YAAY,CAAC6K,WAAW,CAACT,OAAO,EAAEG,YAAY,EAAEO,WAAW,CAAC;MAC9D,CAAC,MAAM,IAAIX,SAAS,KAAK,gBAAgB,IAAInK,YAAY,CAAC+K,cAAc,EAAE;QACxE/K,YAAY,CAAC+K,cAAc,CAACzG,eAAe,CAAC;MAC9C;IACF,CAAC;IACD0G,0BAA0B,EAAE,SAASA,0BAA0BA,CAACC,iBAAiB,EAAE;MACjF,IAAIjH,MAAM,GAAG,IAAI,CAACO,MAAM,CAACP,MAAM;MAE/B,IAAIkH,KAAK,GAAG,IAAI,CAACC,KAAK,CAACC,OAAO;MAC9B,IAAIH,iBAAiB,EAAE;QACrB,OAAOA,iBAAiB;MAC1B;MACA;MACA,OAAOjH,MAAM,IAAIkH,KAAK,GAAG,YAAY;QACnC,OAAOA,KAAK,CAACG,YAAY,CAAC,CAAC;MAC7B,CAAC,GAAG/J,SAAS;IACf,CAAC;IACDgK,gBAAgB,EAAE,SAASA,gBAAgBA,CAAA,EAAG;MAC5C,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAIvH,MAAM,GAAG,IAAI,CAACO,MAAM,CAACP,MAAM;MAE/B,IAAIA,MAAM,IAAIA,MAAM,CAACwH,wBAAwB,KAAK,KAAK,EAAE;QACvDhM,QAAQ,CAAC,CAAC,EAAE;UACViM,YAAY,EAAE,SAASA,YAAYA,CAAA,EAAG;YACpC,OAAOF,MAAM,CAACJ,KAAK,CAACC,OAAO,CAACM,YAAY,CAAC,CAAC;UAC5C;QACF,CAAC,CAAC;MACJ;IACF,CAAC;IACDpL,YAAY,EAAE,SAASA,YAAYA,CAACC,CAAC,EAAEC,CAAC,EAAE;MACxC,IAAID,CAAC,IAAIC,CAAC,IAAID,CAAC,CAACH,GAAG,IAAIG,CAAC,CAACH,GAAG,KAAKI,CAAC,CAACJ,GAAG,EAAE;QACtC,OAAO,IAAI;MACb;MACA,OAAOG,CAAC,KAAKC,CAAC,IAAIvC,YAAY,CAACsC,CAAC,EAAEC,CAAC,EAAE,UAAUC,KAAK,EAAEC,KAAK,EAAE;QAC3D,IAAI,OAAOD,KAAK,KAAK,UAAU,IAAI,OAAOC,KAAK,KAAK,UAAU,EAAE;UAC9D,OAAOD,KAAK,KAAKC,KAAK,IAAID,KAAK,CAACE,QAAQ,CAAC,CAAC,KAAKD,KAAK,CAACC,QAAQ,CAAC,CAAC;QACjE;MACF,CAAC,CAAC;IACJ,CAAC;IACDgL,YAAY,EAAE,SAASA,YAAYA,CAACzL,MAAM,EAAE0L,WAAW,EAAE;MACvD,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAI9L,KAAK,GAAG,IAAI,CAACwE,MAAM;MACvB,IAAIW,UAAU,GAAGrH,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC+G,WAAW,CAAC;MAC/C,IAAIzC,OAAO,GAAGtE,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC6G,QAAQ,EAAEhH,eAAe,CAAC,CAAC,CAAC,EAAEuC,YAAY,CAACC,MAAM,CAAC,EAAE0L,WAAW,CAAC,CAAC;MACjG;MACA,IAAIE,iBAAiB,GAAG,EAAE;MAC1BrN,OAAO,CAAC,IAAI,CAACuD,OAAO,EAAE,UAAU+J,CAAC,EAAE;QACjC,IAAI,CAACA,CAAC,CAACC,QAAQ,EAAE;UACfF,iBAAiB,CAACG,IAAI,CAAChM,YAAY,CAAC8L,CAAC,CAAC,CAAC;QACzC;MACF,CAAC,CAAC;MACFvJ,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,CAACC,OAAO,CAAC,UAAUO,SAAS,EAAE;QAChD,IAAImJ,iBAAiB,CAACrB,OAAO,CAAC9H,SAAS,CAAC,GAAG,CAAC,EAAE;UAC5C,OAAOR,OAAO,CAACQ,SAAS,CAAC;QAC3B;MACF,CAAC,CAAC;MAEF,IAAI5C,KAAK,CAACmF,UAAU,EAAE;QACpB;QACAA,UAAU,CAACM,OAAO,GAAG,CAAC;QACtBN,UAAU,CAACnE,QAAQ,CAACmE,UAAU,CAACM,OAAO,CAAC;MACzC;MAEA,IAAI0G,QAAQ,GAAG;QACbtH,WAAW,EAAEM,UAAU;QACvBR,QAAQ,EAAE,CAAC;MACb,CAAC;MACD,IAAIyH,iBAAiB,GAAGtO,QAAQ,CAAC,CAAC,CAAC,EAAEsE,OAAO,CAAC;MAC7C;MACAL,uBAAuB,CAAC;QAAEE,OAAO,EAAEjC,KAAK,CAACiC;MAAQ,CAAC,CAAC,CAACI,OAAO,CAAC,UAAUC,GAAG,EAAE;QACzE,IAAIM,SAAS,GAAG1C,YAAY,CAACoC,GAAG,CAAC;QACjC,IAAIM,SAAS,EAAE;UACb,OAAOwJ,iBAAiB,CAACxJ,SAAS,CAAC;QACrC;MACF,CAAC,CAAC;MACF,IAAIH,MAAM,CAACC,IAAI,CAAC0J,iBAAiB,CAAC,CAAC9K,MAAM,GAAG,CAAC,EAAE;QAC7C6K,QAAQ,CAACxH,QAAQ,GAAGyH,iBAAiB;MACvC;;MAEA;MACA,IAAIvO,OAAO,CAACmC,KAAK,CAACmF,UAAU,CAAC,KAAK,QAAQ,IAAI,SAAS,IAAInF,KAAK,CAACmF,UAAU,EAAE;QAC3EgH,QAAQ,CAACtH,WAAW,GAAG/G,QAAQ,CAAC,CAAC,CAAC,EAAEqH,UAAU,EAAE;UAC9CM,OAAO,EAAE,IAAI,CAACZ,WAAW,CAACY;QAC5B,CAAC,CAAC;MACJ;MAEA,IAAI,CAACH,QAAQ,CAAC6G,QAAQ,EAAE,YAAY;QAClCL,MAAM,CAACP,gBAAgB,CAAC,CAAC;QACzBO,MAAM,CAAC3I,KAAK,CAACsB,cAAc,GAAG,KAAK;QACnCqH,MAAM,CAACO,KAAK,CAACC,KAAK,CAACR,MAAM,EAAE,CAAC,QAAQ,CAAC,CAACtC,MAAM,CAAC5L,kBAAkB,CAACkO,MAAM,CAACS,sBAAsB,CAACzO,QAAQ,CAAC,CAAC,CAAC,EAAEgO,MAAM,CAACnD,KAAK,EAAE;UACvH6D,eAAe,EAAE,KAAK;UACtB7H,QAAQ,EAAEvC,OAAO;UACjByC,WAAW,EAAEM;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC;IACJ,CAAC;IACDsH,YAAY,EAAE,SAASA,YAAYA,CAACpF,MAAM,EAAEH,QAAQ,EAAEpH,CAAC,EAAE;MACvD,IAAI4M,MAAM,GAAG,IAAI;MAEjB,IAAIrC,OAAO,GAAGvK,CAAC,CAAC6M,MAAM,CAACtC,OAAO;MAC9B,IAAIE,WAAW,GAAGzK,CAAC,CAACyK,WAAW;MAC/B,IAAIqC,gBAAgB,GAAG,IAAI,CAACzJ,KAAK,CAACsB,cAAc,GAAG,EAAE,GAAG,IAAI,CAACqC,mBAAmB,CAAC,CAAC;MAClF,IAAIvC,eAAe,GAAG,IAAI,CAACpB,KAAK,CAACoB,eAAe,CAACiF,MAAM,CAACoD,gBAAgB,CAAC;MACzE,IAAIvM,GAAG,GAAG,IAAI,CAACwG,YAAY,CAACQ,MAAM,EAAEH,QAAQ,CAAC;MAC7C,IAAInC,KAAK,GAAG,IAAI,CAAC4D,KAAK,CAAC5D,KAAK;MAE5B,IAAI8H,IAAI,GAAG,IAAI,CAAC1D,sBAAsB,CAAC,CAAC;MACxC,IAAI2D,SAAS,GAAG5F,QAAQ;MACxB,IAAI,IAAI,CAAC1C,MAAM,CAACR,iBAAiB,EAAE;QACjC8I,SAAS,GAAGD,IAAI,CAACE,SAAS,CAAC,UAAUrL,GAAG,EAAE;UACxC,OAAOgL,MAAM,CAAC7F,YAAY,CAACnF,GAAG,EAAEwF,QAAQ,CAAC,KAAK7G,GAAG;QACnD,CAAC,CAAC;MACJ;MACA,IAAIkK,WAAW,CAACyC,QAAQ,IAAIjI,KAAK,KAAKxD,SAAS,IAAIuL,SAAS,KAAK/H,KAAK,EAAE;QACtE,IAAIuF,aAAa,GAAG,EAAE;QACtB,IAAI2C,SAAS,GAAG3E,IAAI,CAAC4E,IAAI,CAACnI,KAAK,GAAG+H,SAAS,CAAC;QAC5C,IAAIK,IAAI,GAAG7E,IAAI,CAAC8E,GAAG,CAACrI,KAAK,GAAG+H,SAAS,CAAC;QACtC,IAAIO,IAAI,GAAG,CAAC;QAEZ,IAAIC,KAAK,GAAG,SAASA,KAAKA,CAAA,EAAG;UAC3B,IAAI7C,CAAC,GAAGqC,SAAS,GAAGO,IAAI,GAAGJ,SAAS;UACpCI,IAAI,IAAI,CAAC;UACT,IAAI3L,GAAG,GAAGmL,IAAI,CAACpC,CAAC,CAAC;UACjB,IAAI9G,MAAM,GAAG+I,MAAM,CAAC7F,YAAY,CAACnF,GAAG,EAAE+I,CAAC,CAAC;UACxC,IAAI8C,aAAa,GAAGb,MAAM,CAAC/F,sBAAsB,CAACjF,GAAG,EAAE+I,CAAC,CAAC;UACzD,IAAI,CAAC8C,aAAa,CAACC,QAAQ,EAAE;YAC3B,IAAIjJ,eAAe,CAACkJ,QAAQ,CAAC9J,MAAM,CAAC,EAAE;cACpC,IAAI,CAAC0G,OAAO,EAAE;gBACZ9F,eAAe,GAAGA,eAAe,CAAC0C,MAAM,CAAC,UAAUyG,CAAC,EAAE;kBACpD,OAAO/J,MAAM,KAAK+J,CAAC;gBACrB,CAAC,CAAC;gBACFpD,aAAa,CAAC4B,IAAI,CAACvI,MAAM,CAAC;cAC5B;YACF,CAAC,MAAM,IAAI0G,OAAO,EAAE;cAClB9F,eAAe,CAAC2H,IAAI,CAACvI,MAAM,CAAC;cAC5B2G,aAAa,CAAC4B,IAAI,CAACvI,MAAM,CAAC;YAC5B;UACF;QACF,CAAC;QAED,OAAO0J,IAAI,IAAIF,IAAI,EAAE;UACnBG,KAAK,CAAC,CAAC;QACT;QAEA,IAAI,CAAChI,QAAQ,CAAC;UAAEP,KAAK,EAAE+H;QAAU,CAAC,CAAC;QACnC,IAAI,CAAC3J,KAAK,CAACsB,cAAc,GAAG,IAAI;QAChC,IAAI,CAACwF,kBAAkB,CAAC1F,eAAe,EAAE;UACvC6F,SAAS,EAAE,kBAAkB;UAC7B/C,MAAM,EAAEA,MAAM;UACdgD,OAAO,EAAEA,OAAO;UAChBC,aAAa,EAAEA,aAAa;UAC5BC,WAAW,EAAEA;QACf,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,IAAIF,OAAO,EAAE;UACX9F,eAAe,CAAC2H,IAAI,CAAC,IAAI,CAACrF,YAAY,CAACQ,MAAM,EAAEyF,SAAS,CAAC,CAAC;QAC5D,CAAC,MAAM;UACLvI,eAAe,GAAGA,eAAe,CAAC0C,MAAM,CAAC,UAAUwD,CAAC,EAAE;YACpD,OAAOpK,GAAG,KAAKoK,CAAC;UAClB,CAAC,CAAC;QACJ;QACA,IAAI,CAACnF,QAAQ,CAAC;UAAEP,KAAK,EAAE+H;QAAU,CAAC,CAAC;QACnC,IAAI,CAAC3J,KAAK,CAACsB,cAAc,GAAG,IAAI;QAChC,IAAI,CAACwF,kBAAkB,CAAC1F,eAAe,EAAE;UACvC6F,SAAS,EAAE,UAAU;UACrB/C,MAAM,EAAEA,MAAM;UACdgD,OAAO,EAAEA,OAAO;UAChBC,aAAa,EAAE/I,SAAS;UACxBgJ,WAAW,EAAEA;QACf,CAAC,CAAC;MACJ;IACF,CAAC;IACDoD,iBAAiB,EAAE,SAASA,iBAAiBA,CAACtG,MAAM,EAAEH,QAAQ,EAAEpH,CAAC,EAAE;MACjE,IAAIuK,OAAO,GAAGvK,CAAC,CAAC6M,MAAM,CAACtC,OAAO;MAC9B,IAAIE,WAAW,GAAGzK,CAAC,CAACyK,WAAW;MAC/B,IAAIlK,GAAG,GAAG,IAAI,CAACwG,YAAY,CAACQ,MAAM,EAAEH,QAAQ,CAAC;MAC7C,IAAI3C,eAAe,GAAG,CAAClE,GAAG,CAAC;MAC3B,IAAI,CAAC8C,KAAK,CAACsB,cAAc,GAAG,IAAI;MAChC,IAAI,CAACwF,kBAAkB,CAAC1F,eAAe,EAAE;QACvC6F,SAAS,EAAE,UAAU;QACrB/C,MAAM,EAAEA,MAAM;QACdgD,OAAO,EAAEA,OAAO;QAChBC,aAAa,EAAE/I,SAAS;QACxBgJ,WAAW,EAAEA;MACf,CAAC,CAAC;IACJ,CAAC;IACDqD,eAAe,EAAE,SAASA,eAAeA,CAACC,YAAY,EAAEzN,KAAK,EAAE0N,YAAY,EAAE;MAC3E,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAIhK,IAAI,GAAG,IAAI,CAACoF,sBAAsB,CAAC,CAAC;MACxC,IAAIyD,gBAAgB,GAAG,IAAI,CAACzJ,KAAK,CAACsB,cAAc,GAAG,EAAE,GAAG,IAAI,CAACqC,mBAAmB,CAAC,CAAC;MAClF,IAAIvC,eAAe,GAAG,IAAI,CAACpB,KAAK,CAACoB,eAAe,CAACiF,MAAM,CAACoD,gBAAgB,CAAC;MACzE,IAAIoB,iBAAiB,GAAGjK,IAAI,CAACkD,MAAM,CAAC,UAAUL,IAAI,EAAE6D,CAAC,EAAE;QACrD,OAAO,CAACsD,MAAM,CAACpH,sBAAsB,CAACC,IAAI,EAAE6D,CAAC,CAAC,CAACzK,KAAK,CAACwN,QAAQ;MAC/D,CAAC,CAAC,CAACpG,GAAG,CAAC,UAAUR,IAAI,EAAE6D,CAAC,EAAE;QACxB,OAAOsD,MAAM,CAAClH,YAAY,CAACD,IAAI,EAAE6D,CAAC,CAAC;MACrC,CAAC,CAAC;MAEF,IAAIH,aAAa,GAAG,EAAE;MACtB,IAAIF,SAAS,GAAG,aAAa;MAC7B,IAAIC,OAAO,GAAG,KAAK,CAAC;MACpB;MACA,QAAQwD,YAAY;QAClB,KAAK,KAAK;UACRG,iBAAiB,CAAC3L,OAAO,CAAC,UAAUhC,GAAG,EAAE;YACvC,IAAIkE,eAAe,CAACmG,OAAO,CAACrK,GAAG,CAAC,GAAG,CAAC,EAAE;cACpCkE,eAAe,CAAC2H,IAAI,CAAC7L,GAAG,CAAC;cACzBiK,aAAa,CAAC4B,IAAI,CAAC7L,GAAG,CAAC;YACzB;UACF,CAAC,CAAC;UACF+J,SAAS,GAAG,aAAa;UACzBC,OAAO,GAAG,IAAI;UACd;QACF,KAAK,WAAW;UACd2D,iBAAiB,CAAC3L,OAAO,CAAC,UAAUhC,GAAG,EAAE;YACvC,IAAIkE,eAAe,CAACmG,OAAO,CAACrK,GAAG,CAAC,IAAI,CAAC,EAAE;cACrCkE,eAAe,CAAC0J,MAAM,CAAC1J,eAAe,CAACmG,OAAO,CAACrK,GAAG,CAAC,EAAE,CAAC,CAAC;cACvDiK,aAAa,CAAC4B,IAAI,CAAC7L,GAAG,CAAC;YACzB;UACF,CAAC,CAAC;UACF+J,SAAS,GAAG,aAAa;UACzBC,OAAO,GAAG,KAAK;UACf;QACF,KAAK,QAAQ;UACX2D,iBAAiB,CAAC3L,OAAO,CAAC,UAAUhC,GAAG,EAAE;YACvC,IAAIkE,eAAe,CAACmG,OAAO,CAACrK,GAAG,CAAC,GAAG,CAAC,EAAE;cACpCkE,eAAe,CAAC2H,IAAI,CAAC7L,GAAG,CAAC;YAC3B,CAAC,MAAM;cACLkE,eAAe,CAAC0J,MAAM,CAAC1J,eAAe,CAACmG,OAAO,CAACrK,GAAG,CAAC,EAAE,CAAC,CAAC;YACzD;YACAiK,aAAa,CAAC4B,IAAI,CAAC7L,GAAG,CAAC;YACvB+J,SAAS,GAAG,gBAAgB;UAC9B,CAAC,CAAC;UACF;QACF;UACE;MACJ;MAEA,IAAI,CAACjH,KAAK,CAACsB,cAAc,GAAG,IAAI;MAChC;MACA,IAAIxE,YAAY,GAAG,IAAI,CAACA,YAAY;MAEpC,IAAIiO,yBAAyB,GAAG,CAAC;MACjC,IAAIjO,YAAY,IAAIA,YAAY,CAACkO,qBAAqB,EAAE;QACtDD,yBAAyB,GAAG,CAAC;MAC/B;MACA,IAAI9N,KAAK,IAAI8N,yBAAyB,IAAI,OAAOJ,YAAY,KAAK,UAAU,EAAE;QAC5E,OAAOA,YAAY,CAACE,iBAAiB,CAAC;MACxC;MACA,IAAI,CAAC/D,kBAAkB,CAAC1F,eAAe,EAAE;QACvC6F,SAAS,EAAEA,SAAS;QACpBC,OAAO,EAAEA,OAAO;QAChBC,aAAa,EAAEA;MACjB,CAAC,CAAC;IACJ,CAAC;IACD8D,gBAAgB,EAAE,SAASA,gBAAgBA,CAAC3I,OAAO,EAAE;MACnD,IAAIzF,KAAK,GAAG,IAAI,CAACwE,MAAM;MACvB,IAAIW,UAAU,GAAGrH,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC+G,WAAW,CAAC;MAC/C,IAAIY,OAAO,EAAE;QACXN,UAAU,CAACM,OAAO,GAAGA,OAAO;MAC9B,CAAC,MAAM;QACLN,UAAU,CAACM,OAAO,GAAGN,UAAU,CAACM,OAAO,IAAI,CAAC;MAC9C;MAEA,KAAK,IAAI4I,IAAI,GAAGhN,SAAS,CAACC,MAAM,EAAEgN,cAAc,GAAGzN,KAAK,CAACwN,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEE,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGF,IAAI,EAAEE,IAAI,EAAE,EAAE;QAChHD,cAAc,CAACC,IAAI,GAAG,CAAC,CAAC,GAAGlN,SAAS,CAACkN,IAAI,CAAC;MAC5C;MAEApJ,UAAU,CAACnE,QAAQ,CAACsL,KAAK,CAACnH,UAAU,EAAE,CAACA,UAAU,CAACM,OAAO,CAAC,CAAC+D,MAAM,CAAC5L,kBAAkB,CAAC0Q,cAAc,CAAC,CAAC,CAAC;MAEtG,IAAInC,QAAQ,GAAG;QACbtH,WAAW,EAAEM;MACf,CAAC;MACD;MACA,IAAInF,KAAK,CAACmF,UAAU,IAAItH,OAAO,CAACmC,KAAK,CAACmF,UAAU,CAAC,KAAK,QAAQ,IAAI,SAAS,IAAInF,KAAK,CAACmF,UAAU,EAAE;QAC/FgH,QAAQ,CAACtH,WAAW,GAAG/G,QAAQ,CAAC,CAAC,CAAC,EAAEqH,UAAU,EAAE;UAC9CM,OAAO,EAAE,IAAI,CAACZ,WAAW,CAACY;QAC5B,CAAC,CAAC;MACJ;MACA,IAAI,CAACH,QAAQ,CAAC6G,QAAQ,EAAE,IAAI,CAACZ,gBAAgB,CAAC;MAE9C,IAAI,CAACpI,KAAK,CAACsB,cAAc,GAAG,KAAK;MACjC,IAAI,CAAC4H,KAAK,CAACC,KAAK,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC9C,MAAM,CAAC5L,kBAAkB,CAAC,IAAI,CAAC2O,sBAAsB,CAACzO,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC6K,KAAK,EAAE;QAC/G6D,eAAe,EAAE,KAAK;QACtB3H,WAAW,EAAEM;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IACDqJ,oBAAoB,EAAE,SAASA,oBAAoBA,CAAC/I,OAAO,EAAEC,QAAQ,EAAE;MACrE,IAAIP,UAAU,GAAG,IAAI,CAACN,WAAW;MACjCM,UAAU,CAAClE,gBAAgB,CAACwE,OAAO,EAAEC,QAAQ,CAAC;MAC9C,IAAI+I,cAAc,GAAG3Q,QAAQ,CAAC,CAAC,CAAC,EAAEqH,UAAU,EAAE;QAC5CO,QAAQ,EAAEA,QAAQ;QAClBD,OAAO,EAAEA;MACX,CAAC,CAAC;MACF,IAAI,CAACH,QAAQ,CAAC;QAAET,WAAW,EAAE4J;MAAe,CAAC,EAAE,IAAI,CAAClD,gBAAgB,CAAC;MACrE,IAAI,CAACc,KAAK,CAACC,KAAK,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC9C,MAAM,CAAC5L,kBAAkB,CAAC,IAAI,CAAC2O,sBAAsB,CAACzO,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC6K,KAAK,EAAE;QAC/G9D,WAAW,EAAE4J;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IACDC,eAAe,EAAE,SAASA,eAAeA,CAACvO,MAAM,EAAE;MAChD,IAAI0D,cAAc,GAAG1D,MAAM,CAAC0D,cAAc,IAAI,IAAI,CAACA,cAAc;MACjE,IAAIwC,SAAS,GAAG,IAAI,CAACC,UAAU;QAC3BH,UAAU,GAAG,IAAI,CAACC,WAAW;MACjC;;MAEA,IAAIuI,YAAY,GAAG,KAAK,CAAC;MACzB;MACA,IAAIpO,YAAY,CAAC4F,UAAU,EAAEhG,MAAM,CAAC,IAAIkG,SAAS,KAAK9E,SAAS,EAAE;QAC/D;QACA,IAAIqN,WAAW,GAAG/K,cAAc,CAAC6G,OAAO,CAACrE,SAAS,CAAC,GAAG,CAAC;QACvDsI,YAAY,GAAGC,WAAW,KAAK/K,cAAc,CAACvC,MAAM,GAAGC,SAAS,GAAGsC,cAAc,CAAC+K,WAAW,CAAC;MAChG,CAAC,MAAM;QACLD,YAAY,GAAG9K,cAAc,CAAC,CAAC,CAAC;MAClC;MACA,IAAIsI,QAAQ,GAAG;QACb7F,UAAU,EAAEqI,YAAY;QACxBvI,WAAW,EAAEuI,YAAY,GAAGxO,MAAM,GAAG;MACvC,CAAC;;MAED;MACA,IAAI,IAAI,CAACoG,mBAAmB,CAAC,CAAC,CAACjF,MAAM,KAAK,CAAC,EAAE;QAC3C,IAAI,CAACgE,QAAQ,CAAC6G,QAAQ,EAAE,IAAI,CAACZ,gBAAgB,CAAC;MAChD;MACA,IAAI,CAACc,KAAK,CAACC,KAAK,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC9C,MAAM,CAAC5L,kBAAkB,CAAC,IAAI,CAAC2O,sBAAsB,CAACzO,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC6K,KAAK,EAAEwD,QAAQ,CAAC,EAAEhM,MAAM,CAAC,CAAC,CAAC,CAAC;IACxI,CAAC;IACDqH,aAAa,EAAE,SAASA,aAAaA,CAACxH,KAAK,EAAE;MAC3C,OAAO,CAACA,KAAK,IAAI,IAAI,CAACwE,MAAM,EAAEW,UAAU,KAAK,KAAK;IACpD,CAAC;IACD0J,YAAY,EAAE,SAASA,YAAYA,CAAC1O,MAAM,EAAE;MAC1C,IAAIgG,UAAU,GAAG,IAAI,CAACC,WAAW;MAEjC,IAAI,CAACjG,MAAM,IAAI,CAACgG,UAAU,EAAE;QAC1B,OAAO,KAAK;MACd;MACA,OAAOjG,YAAY,CAACiG,UAAU,CAAC,KAAKjG,YAAY,CAACC,MAAM,CAAC;IAC1D,CAAC;IAGD;IACAoM,sBAAsB,EAAE,SAASA,sBAAsBA,CAACvK,KAAK,EAAE7B,MAAM,EAAE;MACrE,IAAIgF,UAAU,GAAGrH,QAAQ,CAAC,CAAC,CAAC,EAAEkE,KAAK,CAAC6C,WAAW,CAAC;MAChD;MACA,OAAOM,UAAU,CAACnE,QAAQ;MAC1B,OAAOmE,UAAU,CAAClE,gBAAgB;MAClC,IAAImB,OAAO,GAAGJ,KAAK,CAAC2C,QAAQ;MAC5B,IAAIiE,MAAM,GAAG,CAAC,CAAC;MACf,IAAIkG,aAAa,GAAG3O,MAAM;MAC1B,IAAI6B,KAAK,CAACoE,WAAW,IAAIpE,KAAK,CAACsE,UAAU,EAAE;QACzCwI,aAAa,GAAG9M,KAAK,CAACoE,WAAW;QACjCwC,MAAM,CAACzI,MAAM,GAAG6B,KAAK,CAACoE,WAAW;QACjCwC,MAAM,CAACmG,KAAK,GAAG/M,KAAK,CAACsE,UAAU;MACjC;MAEA,IAAIwI,aAAa,EAAE;QACjBlG,MAAM,CAACoG,KAAK,GAAGF,aAAa,CAACxO,SAAS;QACtCsI,MAAM,CAAChG,SAAS,GAAG1C,YAAY,CAAC4O,aAAa,CAAC;MAChD;MAEA,IAAIG,KAAK,GAAG;QACVC,iBAAiB,EAAE,IAAI,CAACnG,YAAY,CAAC/G,KAAK;MAC5C,CAAC;MAED,OAAO,CAACmD,UAAU,EAAE/C,OAAO,EAAEwG,MAAM,EAAEqG,KAAK,CAAC;IAC7C,CAAC;IACDxF,UAAU,EAAE,SAASA,UAAUA,CAAC0F,KAAK,EAAE;MACrC,IAAIhP,MAAM,GAAG,KAAK,CAAC;MACnBzB,OAAO,CAAC,IAAI,CAACuD,OAAO,EAAE,UAAU+J,CAAC,EAAE;QACjC,IAAI9L,YAAY,CAAC8L,CAAC,CAAC,KAAKmD,KAAK,EAAE;UAC7BhP,MAAM,GAAG6L,CAAC;QACZ;MACF,CAAC,CAAC;MACF,OAAO7L,MAAM;IACf,CAAC;IACDoJ,aAAa,EAAE,SAASA,aAAaA,CAACxF,IAAI,EAAEuF,QAAQ,EAAE;MACpD,IAAI8F,MAAM,GAAG,IAAI;MAEjB,IAAIC,mBAAmB,GAAG,IAAI,CAACvL,kBAAkB;QAC7CA,kBAAkB,GAAGuL,mBAAmB,KAAK9N,SAAS,GAAG,UAAU,GAAG8N,mBAAmB;MAE7F,OAAOtL,IAAI,CAACuL,IAAI,CAAChG,QAAQ,CAAC,CAAClC,GAAG,CAAC,UAAUR,IAAI,EAAE;QAC7C,OAAOA,IAAI,CAAC9C,kBAAkB,CAAC,GAAGhG,QAAQ,CAAC,CAAC,CAAC,EAAE8I,IAAI,EAAEjJ,eAAe,CAAC,CAAC,CAAC,EAAEmG,kBAAkB,EAAEsL,MAAM,CAAC7F,aAAa,CAAC,EAAE,CAACC,MAAM,CAAC5L,kBAAkB,CAACgJ,IAAI,CAAC9C,kBAAkB,CAAC,CAAC,CAAC,EAAEwF,QAAQ,CAAC,CAAC,CAAC,GAAG1C,IAAI;MAC/L,CAAC,CAAC;IACJ,CAAC;IACD2I,gBAAgB,EAAE,SAASA,gBAAgBA,CAACzF,SAAS,EAAE;MACrD,IAAI0F,CAAC,GAAG,IAAI,CAACC,cAAc;MAE3B,OAAO,UAAUC,KAAK,EAAE;QACtB,IAAIC,UAAU,GAAGD,KAAK,CAACC,UAAU;UAC7BC,QAAQ,GAAGF,KAAK,CAACE,QAAQ;UACzBC,gBAAgB,GAAGH,KAAK,CAACG,gBAAgB;UACzCxI,MAAM,GAAGqI,KAAK,CAACrI,MAAM;UACrByI,QAAQ,GAAGJ,KAAK,CAACI,QAAQ;QAE7B,IAAIH,UAAU,EAAE;UACd,OAAOH,CAAC,CACNlQ,cAAc,EACd;YACEyQ,KAAK,EAAE;cAAEC,aAAa,EAAE,OAAO;cAAEzQ,aAAa,EAAEA,aAAa,CAAC0Q;YAAM;UACtE,CAAC,EACD,CAAC,UAAUvM,MAAM,EAAE;YACjB,IAAIwM,WAAW;YAEf,OAAOV,CAAC,CAAC9P,WAAW,EAAE;cACpB,OAAO,EAAEzB,UAAU,CAAC6L,SAAS,GAAG,kBAAkB,GAAGoG,WAAW,GAAG,CAAC,CAAC,EAAEvS,eAAe,CAACuS,WAAW,EAAEpG,SAAS,GAAG,gBAAgB,EAAE,CAAC8F,QAAQ,CAAC,EAAEjS,eAAe,CAACuS,WAAW,EAAEpG,SAAS,GAAG,eAAe,EAAE8F,QAAQ,CAAC,EAAEM,WAAW,CAAC,CAAC;cAChOC,EAAE,EAAE;gBACF,OAAO,EAAE,SAASC,KAAKA,CAACC,KAAK,EAAE;kBAC7BP,QAAQ,CAACzI,MAAM,EAAEgJ,KAAK,CAAC;gBACzB;cACF,CAAC;cACDN,KAAK,EAAE;gBACL,YAAY,EAAEH,QAAQ,GAAGlM,MAAM,CAAC4M,QAAQ,GAAG5M,MAAM,CAAC6M,MAAM;gBACxDC,OAAO,EAAE;cACX;YACF,CAAC,CAAC;UACJ,CAAC,CACH,CAAC;QACH;QAEA,IAAIX,gBAAgB,EAAE;UACpB,OAAOL,CAAC,CAAC,MAAM,EAAE;YAAE,OAAO,EAAE1F,SAAS,GAAG,mBAAmB,GAAGA,SAAS,GAAG;UAAc,CAAC,CAAC;QAC5F;QAEA,OAAO,IAAI;MACb,CAAC;IACH,CAAC;IACD2G,gBAAgB,EAAE,SAASA,gBAAgBA,CAAC3G,SAAS,EAAE4G,kBAAkB,EAAE;MACzE,IAAIlB,CAAC,GAAG,IAAI,CAACC,cAAc;;MAE3B;MACA,IAAI,CAAC,IAAI,CAACjI,aAAa,CAAC,CAAC,EAAE;QACzB,OAAO,IAAI;MACb;MACA,IAAIlE,IAAI,GAAG,SAAS;MACpB,IAAI6B,UAAU,GAAG,IAAI,CAACN,WAAW;MAEjC,IAAIM,UAAU,CAAC7B,IAAI,EAAE;QACnBA,IAAI,GAAG6B,UAAU,CAAC7B,IAAI;MACxB,CAAC,MAAM,IAAI,IAAI,CAACA,IAAI,KAAK,QAAQ,IAAI,IAAI,CAACA,IAAI,KAAK,OAAO,EAAE;QAC1DA,IAAI,GAAG,OAAO;MAChB;MACA,IAAIqN,QAAQ,GAAGxL,UAAU,CAACwL,QAAQ,IAAI,QAAQ;MAC9C,IAAIvI,KAAK,GAAGjD,UAAU,CAACiD,KAAK,IAAI,IAAI,CAACnD,aAAa;MAElD,IAAI2L,GAAG,GAAGzL,UAAU,CAAC,OAAO,CAAC;QACzB0L,KAAK,GAAG1L,UAAU,CAAC0L,KAAK;QACxB7P,QAAQ,GAAGmE,UAAU,CAACnE,QAAQ;QAC9BC,gBAAgB,GAAGkE,UAAU,CAAClE,gBAAgB;QAC9C6P,SAAS,GAAGpT,wBAAwB,CAACyH,UAAU,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;;MAG1G,IAAI4L,eAAe,GAAGlS,UAAU,CAAC;QAC/BwB,GAAG,EAAE,aAAa,GAAGqQ,kBAAkB;QACvC,OAAO,EAAEzS,UAAU,CAAC2S,GAAG,EAAE9G,SAAS,GAAG,aAAa,CAAC;QACnD9J,KAAK,EAAElC,QAAQ,CAAC,CAAC,CAAC,EAAEgT,SAAS,EAAE;UAC7B1I,KAAK,EAAEA,KAAK;UACZ9E,IAAI,EAAEA,IAAI;UACVmC,OAAO,EAAE,IAAI,CAAC0C,aAAa,CAACC,KAAK;QACnC,CAAC,CAAC;QACFyI,KAAK,EAAEA,KAAK;QACZV,EAAE,EAAE;UACFa,MAAM,EAAE,IAAI,CAAC5C,gBAAgB;UAC7B6C,cAAc,EAAE,IAAI,CAACzC;QACvB;MACF,CAAC,CAAC;MACF,OAAOpG,KAAK,GAAG,CAAC,KAAKuI,QAAQ,KAAKD,kBAAkB,IAAIC,QAAQ,KAAK,MAAM,CAAC,GAAGnB,CAAC,CAACrQ,UAAU,EAAE4R,eAAe,CAAC,GAAG,IAAI;IACtH,CAAC;IACDG,kBAAkB,EAAE,SAASA,kBAAkBA,CAACC,IAAI,EAAE;MACpD,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAI5B,CAAC,GAAG,IAAI,CAACC,cAAc;MAE3B,OAAO,UAAU4B,CAAC,EAAEhK,MAAM,EAAEjH,KAAK,EAAE;QACjC,IAAIuD,MAAM,GAAGyN,MAAM,CAACvK,YAAY,CAACQ,MAAM,EAAEjH,KAAK,CAAC,CAAC,CAAC;QACjD,IAAIJ,KAAK,GAAGoR,MAAM,CAACzK,sBAAsB,CAACU,MAAM,EAAEjH,KAAK,CAAC;QACxD,IAAIkR,YAAY,GAAG,SAASA,YAAYA,CAACxR,CAAC,EAAE;UAC1CqR,IAAI,KAAK,OAAO,GAAGC,MAAM,CAACzD,iBAAiB,CAACtG,MAAM,EAAEjH,KAAK,EAAEN,CAAC,CAAC,GAAGsR,MAAM,CAAC3E,YAAY,CAACpF,MAAM,EAAEjH,KAAK,EAAEN,CAAC,CAAC;QACvG,CAAC;QACD,IAAIyR,iBAAiB,GAAG1S,UAAU,CAAC;UACjCmB,KAAK,EAAE;YACLmR,IAAI,EAAEA,IAAI;YACVhO,KAAK,EAAEiO,MAAM,CAACjO,KAAK;YACnB+D,QAAQ,EAAEvD,MAAM;YAChBiJ,gBAAgB,EAAEwE,MAAM,CAACtK,mBAAmB,CAAC;UAC/C,CAAC;UACDqJ,EAAE,EAAE;YACFa,MAAM,EAAEM;UACV;QACF,CAAC,EAAEtR,KAAK,CAAC;QAET,OAAOwP,CAAC,CACN,MAAM,EACN;UACEW,EAAE,EAAE;YACF,OAAO,EAAEtQ;UACX;QACF,CAAC,EACD,CAAC2P,CAAC,CAACpR,YAAY,EAAEmT,iBAAiB,CAAC,CACrC,CAAC;MACH,CAAC;IACH,CAAC;IACDC,kBAAkB,EAAE,SAASA,kBAAkBA,CAACC,KAAK,EAAE;MACrD,IAAIC,OAAO,GAAG,IAAI;MAElB,IAAI5H,SAAS,GAAG2H,KAAK,CAAC3H,SAAS;QAC3BpG,MAAM,GAAG+N,KAAK,CAAC/N,MAAM;QACrBwH,iBAAiB,GAAGuG,KAAK,CAACvG,iBAAiB;MAC/C,IAAIsE,CAAC,GAAG,IAAI,CAACC,cAAc;MAC3B,IAAIxP,YAAY,GAAG,IAAI,CAACA,YAAY;MAEpC,IAAIgC,OAAO,GAAG,IAAI,CAACA,OAAO,CAACuH,MAAM,CAAC,CAAC;MACnC,IAAIvJ,YAAY,EAAE;QAChB,IAAI8D,IAAI,GAAG,IAAI,CAACoF,sBAAsB,CAAC,CAAC,CAAClC,MAAM,CAAC,UAAUL,IAAI,EAAExG,KAAK,EAAE;UACrE,IAAIH,YAAY,CAAC4F,gBAAgB,EAAE;YACjC,OAAO,CAAC6L,OAAO,CAAC/K,sBAAsB,CAACC,IAAI,EAAExG,KAAK,CAAC,CAACJ,KAAK,CAACwN,QAAQ;UACpE;UACA,OAAO,IAAI;QACb,CAAC,CAAC;QACF,IAAImE,oBAAoB,GAAG1T,UAAU,CAAC6L,SAAS,GAAG,mBAAmB,EAAEnM,eAAe,CAAC,CAAC,CAAC,EAAEmM,SAAS,GAAG,0BAA0B,EAAE7J,YAAY,CAAC2R,UAAU,CAAC,CAAC;QAC5J,IAAIC,eAAe,GAAGlU,eAAe,CAAC;UACpC0C,GAAG,EAAE,kBAAkB;UACvByR,YAAY,EAAE,IAAI,CAACZ,kBAAkB,CAACjR,YAAY,CAACkR,IAAI,CAAC;UACxDY,SAAS,EAAEJ,oBAAoB;UAC/BK,KAAK,EAAE/R,YAAY,CAAC+R,KAAK;UACzBC,KAAK,EAAEhS,YAAY,CAACiS,WAAW;UAC/BC,KAAK,EAAElS,YAAY,CAACmS;QACtB,CAAC,EAAEpU,mBAAmB,EAAE;UACtB,OAAO,EAAE8L,SAAS,GAAG;QACvB,CAAC,CAAC;QACF,IAAI7J,YAAY,CAACkR,IAAI,KAAK,OAAO,EAAE;UACjC,IAAIkB,mBAAmB,GAAGtO,IAAI,CAACjC,KAAK,CAAC,UAAU8E,IAAI,EAAExG,KAAK,EAAE;YAC1D,OAAOsR,OAAO,CAAC/K,sBAAsB,CAACC,IAAI,EAAExG,KAAK,CAAC,CAACJ,KAAK,CAACwN,QAAQ;UACnE,CAAC,CAAC;UACFqE,eAAe,CAACM,KAAK,GAAGN,eAAe,CAACM,KAAK,IAAI3C,CAAC,CAACnR,oBAAoB,EAAE;YACvE0R,KAAK,EAAE;cACL5M,KAAK,EAAE,IAAI,CAACA,KAAK;cACjBO,MAAM,EAAEA,MAAM;cACdK,IAAI,EAAEA,IAAI;cACV4C,sBAAsB,EAAE,IAAI,CAACA,sBAAsB;cACnDE,YAAY,EAAE,IAAI,CAACA,YAAY;cAC/B2G,QAAQ,EAAE6E,mBAAmB;cAC7BvI,SAAS,EAAEA,SAAS;cAEpB8H,UAAU,EAAE3R,YAAY,CAAC2R,UAAU;cACnCzD,qBAAqB,EAAElO,YAAY,CAACkO,qBAAqB;cACzDjD,iBAAiB,EAAE,IAAI,CAACD,0BAA0B,CAACC,iBAAiB;YACtE,CAAC;YACDiF,EAAE,EAAE;cACF,QAAQ,EAAE,IAAI,CAACvC;YACjB;UACF,CAAC,CAAC;QACJ;QACA,IAAI,OAAO,IAAI3N,YAAY,EAAE;UAC3B4R,eAAe,CAACG,KAAK,GAAG/R,YAAY,CAAC+R,KAAK;QAC5C,CAAC,MAAM,IAAI/P,OAAO,CAACU,IAAI,CAAC,UAAUxC,MAAM,EAAE;UACxC,OAAOA,MAAM,CAAC6R,KAAK,KAAK,MAAM,IAAI7R,MAAM,CAAC6R,KAAK,KAAK,IAAI;QACzD,CAAC,CAAC,EAAE;UACFH,eAAe,CAACG,KAAK,GAAG,MAAM;QAChC;QACA,IAAI/P,OAAO,CAAC,CAAC,CAAC,IAAIA,OAAO,CAAC,CAAC,CAAC,CAAC5B,GAAG,KAAK,kBAAkB,EAAE;UACvD4B,OAAO,CAAC,CAAC,CAAC,GAAG4P,eAAe;QAC9B,CAAC,MAAM;UACL5P,OAAO,CAACqQ,OAAO,CAACT,eAAe,CAAC;QAClC;MACF;MACA,OAAO5P,OAAO;IAChB,CAAC;IACDsQ,qBAAqB,EAAE,SAASA,qBAAqBA,CAACC,KAAK,EAAE;MAC3D,IAAIC,OAAO,GAAG,IAAI;MAElB,IAAI3I,SAAS,GAAG0I,KAAK,CAAC1I,SAAS;QAC3B4I,iBAAiB,GAAGF,KAAK,CAACE,iBAAiB;QAC3CzQ,OAAO,GAAGuQ,KAAK,CAACvQ,OAAO;QACvByB,MAAM,GAAG8O,KAAK,CAAC9O,MAAM;QACrBwH,iBAAiB,GAAGsH,KAAK,CAACtH,iBAAiB;MAC/C,IAAIsE,CAAC,GAAG,IAAI,CAACC,cAAc;MAC3B,IAAIpJ,SAAS,GAAG,IAAI,CAACC,UAAU;QAC3BlE,OAAO,GAAG,IAAI,CAACuC,QAAQ;MAE3B,OAAOjG,OAAO,CAACuD,OAAO,EAAE,UAAU9B,MAAM,EAAEsK,CAAC,EAAE;QAC3C,IAAIkI,YAAY;QAEhB,IAAItS,GAAG,GAAGH,YAAY,CAACC,MAAM,EAAEsK,CAAC,CAAC;QACjC,IAAImI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAIC,UAAU,GAAG,KAAK,CAAC;QACvB,IAAIC,gBAAgB,GAAG3S,MAAM,CAAC2S,gBAAgB;QAC9C,IAAIjE,YAAY,GAAG4D,OAAO,CAAC5D,YAAY,CAAC1O,MAAM,CAAC;QAC/C,IAAIA,MAAM,CAACiC,OAAO,IAAIjC,MAAM,CAACiC,OAAO,CAACd,MAAM,GAAG,CAAC,IAAInB,MAAM,CAACyS,cAAc,EAAE;UACxE,IAAIG,UAAU,GAAG1S,GAAG,IAAI+B,OAAO,GAAGA,OAAO,CAAC/B,GAAG,CAAC,GAAG,EAAE;UACnDuS,cAAc,GAAGpD,CAAC,CAACrR,cAAc,EAAE;YACjC4R,KAAK,EAAE;cACLiD,YAAY,EAAEC,MAAM,CAAC,CAAC;cACtBvP,MAAM,EAAEA,MAAM;cACdvD,MAAM,EAAEA,MAAM;cACd+S,YAAY,EAAEH,UAAU;cACxBI,aAAa,EAAEV,OAAO,CAAC7G,YAAY;cACnC9B,SAAS,EAAEA,SAAS,GAAG,SAAS;cAChC4I,iBAAiB,EAAEA,iBAAiB,IAAI,cAAc;cACtDxH,iBAAiB,EAAEuH,OAAO,CAACxH,0BAA0B,CAACC,iBAAiB;YACzE,CAAC;YACD7K,GAAG,EAAE;UACP,CAAC,CAAC;QACJ;QACA,IAAIF,MAAM,CAACyI,MAAM,EAAE;UACjB,IAAI/E,cAAc,GAAG1D,MAAM,CAAC0D,cAAc,IAAI4O,OAAO,CAAC5O,cAAc;UACpE,IAAIuP,QAAQ,GAAGvE,YAAY,IAAIxI,SAAS,KAAK,QAAQ;UACrD,IAAIgN,SAAS,GAAGxE,YAAY,IAAIxI,SAAS,KAAK,SAAS;UACvD,IAAIiN,MAAM,GAAGzP,cAAc,CAAC6G,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI8E,CAAC,CAACpQ,IAAI,EAAE;YAC9D,OAAO,EAAE0K,SAAS,GAAG,oBAAoB,IAAIsJ,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC;YACrErD,KAAK,EAAE;cAAEoB,IAAI,EAAE,UAAU;cACvBoC,KAAK,EAAE;YACT,CAAC;YACDlT,GAAG,EAAE;UACP,CAAC,CAAC;UAEF,IAAImT,OAAO,GAAG3P,cAAc,CAAC6G,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI8E,CAAC,CAACpQ,IAAI,EAAE;YAChE,OAAO,EAAE0K,SAAS,GAAG,sBAAsB,IAAIuJ,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC;YACxEtD,KAAK,EAAE;cAAEoB,IAAI,EAAE,YAAY;cACzBoC,KAAK,EAAE;YACT,CAAC;YACDlT,GAAG,EAAE;UACP,CAAC,CAAC;UAEFwS,UAAU,GAAGrD,CAAC,CACZ,KAAK,EACL;YACEO,KAAK,EAAE;cACLoC,KAAK,EAAEzO,MAAM,CAAC+P;YAChB,CAAC;YACD,OAAO,EAAExV,UAAU,CAAC6L,SAAS,GAAG,sBAAsB,EAAEwJ,MAAM,IAAIE,OAAO,IAAI1J,SAAS,GAAG,2BAA2B,CAAC;YACrHzJ,GAAG,EAAE;UACP,CAAC,EACD,CAACiT,MAAM,EAAEE,OAAO,CAClB,CAAC;UACDV,gBAAgB,GAAG,SAASA,gBAAgBA,CAACxQ,GAAG,EAAE;YAChD,IAAIoR,QAAQ,GAAG,CAAC,CAAC;YACjB;YACA,IAAIvT,MAAM,CAAC2S,gBAAgB,EAAE;cAC3BY,QAAQ,GAAG5V,QAAQ,CAAC,CAAC,CAAC,EAAEqC,MAAM,CAAC2S,gBAAgB,CAACxQ,GAAG,CAAC,CAAC;YACvD;YACAoR,QAAQ,CAACvD,EAAE,GAAGuD,QAAQ,CAACvD,EAAE,IAAI,CAAC,CAAC;YAC/B;YACA,IAAIwD,iBAAiB,GAAGD,QAAQ,CAACvD,EAAE,CAACC,KAAK;YACzCsD,QAAQ,CAACvD,EAAE,CAACC,KAAK,GAAG,YAAY;cAC9BqC,OAAO,CAAC/D,eAAe,CAACvO,MAAM,CAAC;cAC/B,IAAIwT,iBAAiB,EAAE;gBACrBA,iBAAiB,CAACrH,KAAK,CAAC/K,SAAS,EAAEF,SAAS,CAAC;cAC/C;YACF,CAAC;YACD,OAAOqS,QAAQ;UACjB,CAAC;QACH;QACA,OAAO5V,QAAQ,CAAC,CAAC,CAAC,EAAEqC,MAAM,EAAE;UAC1B4R,SAAS,EAAE9T,UAAU,CAACkC,MAAM,CAAC4R,SAAS,GAAGY,YAAY,GAAG,CAAC,CAAC,EAAEhV,eAAe,CAACgV,YAAY,EAAE7I,SAAS,GAAG,qBAAqB,EAAE+I,UAAU,IAAID,cAAc,CAAC,EAAEjV,eAAe,CAACgV,YAAY,EAAE7I,SAAS,GAAG,qBAAqB,EAAE8I,cAAc,CAAC,EAAEjV,eAAe,CAACgV,YAAY,EAAE7I,SAAS,GAAG,qBAAqB,EAAE+I,UAAU,CAAC,EAAElV,eAAe,CAACgV,YAAY,EAAE7I,SAAS,GAAG,cAAc,EAAE+E,YAAY,IAAIxI,SAAS,CAAC,EAAEsM,YAAY,CAAC,CAAC;UAChaR,KAAK,EAAE,CAAC3C,CAAC,CACP,MAAM,EACN;YAAEnP,GAAG,EAAE,OAAO;YAAE,OAAO,EAAEyJ,SAAS,GAAG;UAAiB,CAAC,EACvD,CAAC0F,CAAC,CACA,KAAK,EACL;YAAE,OAAO,EAAEqD,UAAU,GAAG/I,SAAS,GAAG,iBAAiB,GAAGvI;UAAU,CAAC,EACnE,CAACiO,CAAC,CACA,MAAM,EACN;YAAE,OAAO,EAAE1F,SAAS,GAAG;UAAgB,CAAC,EACxC,CAAC2I,OAAO,CAACmB,iBAAiB,CAACzT,MAAM,CAACgS,KAAK,CAAC,CAC1C,CAAC,EAAE3C,CAAC,CACF,MAAM,EACN;YAAE,OAAO,EAAE1F,SAAS,GAAG;UAAiB,CAAC,EACzC,CAAC+I,UAAU,CACb,CAAC,CACH,CAAC,CACH,CAAC,EAAED,cAAc,CAAC;UAClBE,gBAAgB,EAAEA;QACpB,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC;IACDc,iBAAiB,EAAE,SAASA,iBAAiBA,CAACzB,KAAK,EAAE;MACnD,IAAI0B,MAAM,GAAG,IAAI,CAAClL,KAAK;QACnBvG,OAAO,GAAGyR,MAAM,CAAClP,QAAQ;QACzB0B,SAAS,GAAGwN,MAAM,CAACvN,UAAU;QAC7BH,UAAU,GAAG0N,MAAM,CAACzN,WAAW;MACnC;;MAEA,IAAI+L,KAAK,YAAY2B,QAAQ,EAAE;QAC7B,OAAO3B,KAAK,CAAC;UACX/P,OAAO,EAAEA,OAAO;UAChBiE,SAAS,EAAEA,SAAS;UACpBF,UAAU,EAAEA;QACd,CAAC,CAAC;MACJ;MACA,OAAOgM,KAAK;IACd,CAAC;IACD4B,WAAW,EAAE,SAASA,WAAWA,CAACC,KAAK,EAAE;MACvC,IAAIC,YAAY;QACZC,OAAO,GAAG,IAAI;MAElB,IAAIpK,SAAS,GAAGkK,KAAK,CAAClK,SAAS;QAC3BqK,WAAW,GAAGH,KAAK,CAACG,WAAW;QAC/BzB,iBAAiB,GAAGsB,KAAK,CAACtB,iBAAiB;QAC3C0B,aAAa,GAAGJ,KAAK,CAACI,aAAa;QACnCC,wBAAwB,GAAGL,KAAK,CAAC9I,iBAAiB;QAClDoJ,iBAAiB,GAAGN,KAAK,CAACM,iBAAiB;MAC/C,IAAI9E,CAAC,GAAG,IAAI,CAACC,cAAc;MAE3B,IAAI8E,eAAe,GAAGzV,cAAc,CAAC,IAAI,CAAC;QACtC8E,UAAU,GAAG2Q,eAAe,CAAC3Q,UAAU;QACvCF,MAAM,GAAG6Q,eAAe,CAAC7Q,MAAM;QAC/BwH,iBAAiB,GAAGqJ,eAAe,CAACrJ,iBAAiB;QACrDsJ,UAAU,GAAGD,eAAe,CAACC,UAAU;QACvC1D,SAAS,GAAGpT,wBAAwB,CAAC6W,eAAe,EAAE,CAAC,YAAY,EAAE,QAAQ,EAAE,mBAAmB,EAAE,YAAY,CAAC,CAAC;MAEtH,IAAIxQ,IAAI,GAAG,IAAI,CAAC+E,kBAAkB,CAAC,CAAC;MACpC,IAAI2L,gBAAgB,GAAG,IAAI,CAACzQ,iBAAiB,IAAI,IAAI,CAACyQ,gBAAgB,KAAK,KAAK;;MAEhF;MACA,IAAIC,qBAAqB,GAAGxJ,iBAAiB,IAAImJ,wBAAwB;;MAEzE;MACA,IAAIM,YAAY,GAAG7W,QAAQ,CAAC,CAAC,CAAC,EAAEsW,aAAa,EAAE1Q,MAAM,CAAC;MACtD,IAAI,CAACA,MAAM,IAAI,CAACA,MAAM,CAACkR,SAAS,EAAE;QAChCD,YAAY,CAACC,SAAS,GAAGT,WAAW,CAAC3E,CAAC,EAAE,OAAO,CAAC;MAClD;MAEA,IAAIqF,WAAW,GAAG5W,UAAU,EAAEgW,YAAY,GAAG,CAAC,CAAC,EAAEtW,eAAe,CAACsW,YAAY,EAAEnK,SAAS,GAAG,GAAG,GAAG,IAAI,CAACxG,IAAI,EAAE,IAAI,CAAC,EAAE3F,eAAe,CAACsW,YAAY,EAAEnK,SAAS,GAAG,WAAW,EAAE,IAAI,CAACtG,QAAQ,CAAC,EAAE7F,eAAe,CAACsW,YAAY,EAAEnK,SAAS,GAAG,QAAQ,EAAE,CAAC/F,IAAI,CAACzC,MAAM,CAAC,EAAE3D,eAAe,CAACsW,YAAY,EAAEnK,SAAS,GAAG,wBAAwB,EAAE,CAAClG,UAAU,CAAC,EAAEqQ,YAAY,CAAC,CAAC;MAE7V,IAAIa,uBAAuB,GAAG,IAAI,CAACtD,kBAAkB,CAAC;QACpD1H,SAAS,EAAEA,SAAS;QACpBpG,MAAM,EAAEiR,YAAY;QACpBzJ,iBAAiB,EAAEwJ;MACrB,CAAC,CAAC;MACF,IAAIzS,OAAO,GAAG,IAAI,CAACsQ,qBAAqB,CAAC;QACvCtQ,OAAO,EAAE6S,uBAAuB;QAChChL,SAAS,EAAEA,SAAS;QACpB4I,iBAAiB,EAAEA,iBAAiB;QACpChP,MAAM,EAAEiR,YAAY;QACpBzJ,iBAAiB,EAAEwJ;MACrB,CAAC,CAAC,CAACtN,GAAG,CAAC,UAAUjH,MAAM,EAAEsK,CAAC,EAAE;QAC1B,IAAIsK,SAAS,GAAGjX,QAAQ,CAAC,CAAC,CAAC,EAAEqC,MAAM,CAAC;QACpC4U,SAAS,CAAC1U,GAAG,GAAGH,YAAY,CAAC6U,SAAS,EAAEtK,CAAC,CAAC;QAC1C,OAAOsK,SAAS;MAClB,CAAC,CAAC;MAEF,IAAIC,qBAAqB,GAAG/S,OAAO,CAAC,CAAC,CAAC,IAAIA,OAAO,CAAC,CAAC,CAAC,CAAC5B,GAAG,KAAK,kBAAkB,GAAG,CAAC,GAAG,CAAC;MACvF,IAAI,uBAAuB,IAAIyQ,SAAS,EAAE;QACxCkE,qBAAqB,GAAGlE,SAAS,CAACkE,qBAAqB;MACzD;MACA,IAAIC,YAAY,GAAG;QACjB5U,GAAG,EAAE,OAAO;QACZL,KAAK,EAAElC,QAAQ,CAAC;UACd0W,UAAU,EAAEA,UAAU,IAAI,IAAI,CAACjF,gBAAgB,CAACzF,SAAS;QAC3D,CAAC,EAAEgH,SAAS,EAAE;UACZ/G,SAAS,EAAE,SAASA,SAASA,CAAC1C,MAAM,EAAEjH,KAAK,EAAE;YAC3C,OAAO8T,OAAO,CAACrK,KAAK,CAACC,SAAS,EAAEzC,MAAM,EAAEjH,KAAK,CAAC;UAChD,CAAC;UACDgB,UAAU,EAAE,IAAI,CAAC4D,WAAW;UAC5B8E,SAAS,EAAEA,SAAS;UACpB/F,IAAI,EAAEA,IAAI;UACV9B,OAAO,EAAEA,OAAO;UAChB2B,UAAU,EAAEA,UAAU;UACtBoR,qBAAqB,EAAEA,qBAAqB;UAC5CP,gBAAgB,EAAEA,gBAAgB;UAClCG,SAAS,EAAED,YAAY,CAACC,SAAS;UACjCN,iBAAiB,EAAEA;QACrB,CAAC,CAAC;QACFnE,EAAE,EAAEpR,YAAY,CAAC,IAAI,CAAC;QACtB,OAAO,EAAE8V,WAAW;QACpBK,GAAG,EAAE;MACP,CAAC;MACD,OAAO1F,CAAC,CAACzR,OAAO,EAAEkX,YAAY,CAAC;IACjC;EACF,CAAC;EAEDE,MAAM,EAAE,SAASA,MAAMA,CAAA,EAAG;IACxB,IAAIC,OAAO,GAAG,IAAI;IAElB,IAAI5F,CAAC,GAAGnO,SAAS,CAAC,CAAC,CAAC;IACpB,IAAIgU,kBAAkB,GAAG,IAAI,CAACvL,SAAS;MACnCwL,0BAA0B,GAAG,IAAI,CAAC5C,iBAAiB;MACnD6C,0BAA0B,GAAG,IAAI,CAACjB,iBAAiB;IAEvD,IAAIvQ,IAAI,GAAG,IAAI,CAAC+E,kBAAkB,CAAC,CAAC;IACpC,IAAI0M,eAAe,GAAG,IAAI,CAACxS,cAAc;MACrCyS,wBAAwB,GAAGD,eAAe,CAACtK,iBAAiB;MAC5DwK,GAAG,GAAGF,eAAe,CAAClB,iBAAiB;IAE3C,IAAIpJ,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,IAAIuK,wBAAwB;IAC1E,IAAInB,iBAAiB,GAAGiB,0BAA0B,IAAIG,GAAG;IACzD,IAAInS,OAAO,GAAG,IAAI,CAACA,OAAO;IAC1B,IAAI,OAAOA,OAAO,KAAK,SAAS,EAAE;MAChCA,OAAO,GAAG;QACRvD,KAAK,EAAE;UACL2V,QAAQ,EAAEpS;QACZ;MACF,CAAC;IACH,CAAC,MAAM;MACLA,OAAO,GAAG;QACRvD,KAAK,EAAElC,QAAQ,CAAC,CAAC,CAAC,EAAEyF,OAAO;MAC7B,CAAC;IACH;IACA,IAAIqS,YAAY,GAAG,IAAI,CAAC5S,cAAc,CAAC4S,YAAY;IACnD,IAAIzB,WAAW,GAAG,IAAI,CAACnR,cAAc,CAACmR,WAAW;IAEjD,IAAIrK,SAAS,GAAG8L,YAAY,CAAC,OAAO,EAAEP,kBAAkB,CAAC;IACzD,IAAI3C,iBAAiB,GAAGkD,YAAY,CAAC,UAAU,EAAEN,0BAA0B,CAAC;IAE5E,IAAInK,KAAK,GAAGqE,CAAC,CAAClQ,cAAc,EAAE;MAC5ByQ,KAAK,EAAE;QACLC,aAAa,EAAE,OAAO;QACtBzQ,aAAa,EAAEA,aAAa,CAAC0Q,KAAK;QAClChE,QAAQ,EAAE,SAASA,QAAQA,CAACvI,MAAM,EAAE;UAClC,OAAO0R,OAAO,CAACrB,WAAW,CAAC;YACzBjK,SAAS,EAAEA,SAAS;YACpBqK,WAAW,EAAEA,WAAW;YACxBzB,iBAAiB,EAAEA,iBAAiB;YACpC0B,aAAa,EAAE1Q,MAAM;YACrBwH,iBAAiB,EAAEA,iBAAiB;YACpCoJ,iBAAiB,EAAEA;UACrB,CAAC,CAAC;QACJ;MACF;IACF,CAAC,CAAC;;IAEF;IACA;IACA,IAAIuB,oBAAoB,GAAG,IAAI,CAACrO,aAAa,CAAC,CAAC,IAAIzD,IAAI,IAAIA,IAAI,CAACzC,MAAM,KAAK,CAAC,GAAGwI,SAAS,GAAG,kBAAkB,GAAGA,SAAS,GAAG,qBAAqB;IACjJ,IAAIgM,SAAS,GAAGhY,QAAQ,CAAC,CAAC,CAAC,EAAEyF,OAAO,EAAE;MACpC,OAAO,EAAEA,OAAO,CAACvD,KAAK,IAAIuD,OAAO,CAACvD,KAAK,CAAC2V,QAAQ,GAAGE,oBAAoB,GAAG,GAAG,GAAG/L,SAAS,GAAG,cAAc,GAAG;IAC/G,CAAC,CAAC;IACF,OAAO0F,CAAC,CACN,KAAK,EACL;MAAE,OAAO,EAAEvR,UAAU,CAAC6L,SAAS,GAAG,UAAU;IAAE,CAAC,EAC/C,CAAC0F,CAAC,CACAnQ,IAAI,EACJyW,SAAS,EACT,CAAC,IAAI,CAACrF,gBAAgB,CAAC3G,SAAS,EAAE,KAAK,CAAC,EAAEqB,KAAK,EAAE,IAAI,CAACsF,gBAAgB,CAAC3G,SAAS,EAAE,QAAQ,CAAC,CAC7F,CAAC,CACH,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}