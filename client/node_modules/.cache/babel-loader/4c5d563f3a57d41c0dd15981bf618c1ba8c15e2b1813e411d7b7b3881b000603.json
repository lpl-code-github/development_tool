{"ast":null,"code":"import { computed, defineComponent, getCurrentInstance, nextTick, onBeforeUnmount, onMounted, watch } from 'vue';\nimport useConfigInject from '../../config-provider/hooks/useConfigInject';\nimport isVisible from '../../vc-util/Dom/isVisible';\nimport classNames from '../classNames';\nimport { findDOMNode } from '../props-util';\nimport useStyle from './style';\nimport useWave from './useWave';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Wave',\n  props: {\n    disabled: Boolean\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const instance = getCurrentInstance();\n    const {\n      prefixCls\n    } = useConfigInject('wave', props);\n    // ============================== Style ===============================\n    const [, hashId] = useStyle(prefixCls);\n    // =============================== Wave ===============================\n    const showWave = useWave(instance, computed(() => classNames(prefixCls.value, hashId.value)));\n    let onClick;\n    const clear = () => {\n      const node = findDOMNode(instance);\n      node.removeEventListener('click', onClick, true);\n    };\n    onMounted(() => {\n      watch(() => props.disabled, () => {\n        clear();\n        nextTick(() => {\n          const node = findDOMNode(instance);\n          if (!node || node.nodeType !== 1 || props.disabled) {\n            return;\n          }\n          // Click handler\n          const onClick = e => {\n            // Fix radio button click twice\n            if (e.target.tagName === 'INPUT' || !isVisible(e.target) ||\n            // No need wave\n            !node.getAttribute || node.getAttribute('disabled') || node.disabled || node.className.includes('disabled') || node.className.includes('-leave')) {\n              return;\n            }\n            showWave();\n          };\n          // Bind events\n          node.addEventListener('click', onClick, true);\n        });\n      }, {\n        immediate: true,\n        flush: 'post'\n      });\n    });\n    onBeforeUnmount(() => {\n      clear();\n    });\n    return () => {\n      var _a;\n      // ============================== Render ==============================\n      const children = (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)[0];\n      return children;\n    };\n  }\n});","map":{"version":3,"names":["computed","defineComponent","getCurrentInstance","nextTick","onBeforeUnmount","onMounted","watch","useConfigInject","isVisible","classNames","findDOMNode","useStyle","useWave","compatConfig","MODE","name","props","disabled","Boolean","setup","_ref","slots","instance","prefixCls","hashId","showWave","value","onClick","clear","node","removeEventListener","nodeType","e","target","tagName","getAttribute","className","includes","addEventListener","immediate","flush","_a","children","default","call"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/_util/wave/index.js"],"sourcesContent":["import { computed, defineComponent, getCurrentInstance, nextTick, onBeforeUnmount, onMounted, watch } from 'vue';\nimport useConfigInject from '../../config-provider/hooks/useConfigInject';\nimport isVisible from '../../vc-util/Dom/isVisible';\nimport classNames from '../classNames';\nimport { findDOMNode } from '../props-util';\nimport useStyle from './style';\nimport useWave from './useWave';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Wave',\n  props: {\n    disabled: Boolean\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const instance = getCurrentInstance();\n    const {\n      prefixCls\n    } = useConfigInject('wave', props);\n    // ============================== Style ===============================\n    const [, hashId] = useStyle(prefixCls);\n    // =============================== Wave ===============================\n    const showWave = useWave(instance, computed(() => classNames(prefixCls.value, hashId.value)));\n    let onClick;\n    const clear = () => {\n      const node = findDOMNode(instance);\n      node.removeEventListener('click', onClick, true);\n    };\n    onMounted(() => {\n      watch(() => props.disabled, () => {\n        clear();\n        nextTick(() => {\n          const node = findDOMNode(instance);\n          if (!node || node.nodeType !== 1 || props.disabled) {\n            return;\n          }\n          // Click handler\n          const onClick = e => {\n            // Fix radio button click twice\n            if (e.target.tagName === 'INPUT' || !isVisible(e.target) ||\n            // No need wave\n            !node.getAttribute || node.getAttribute('disabled') || node.disabled || node.className.includes('disabled') || node.className.includes('-leave')) {\n              return;\n            }\n            showWave();\n          };\n          // Bind events\n          node.addEventListener('click', onClick, true);\n        });\n      }, {\n        immediate: true,\n        flush: 'post'\n      });\n    });\n    onBeforeUnmount(() => {\n      clear();\n    });\n    return () => {\n      var _a;\n      // ============================== Render ==============================\n      const children = (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)[0];\n      return children;\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}