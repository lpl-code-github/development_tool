{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../../_util/vue-types';\nimport { setTransform, isTransform3dSupported, getLeft, getStyle, getTop, getActiveIndex } from './utils';\nimport BaseMixin from '../../_util/BaseMixin';\nfunction componentDidUpdate(component, init) {\n  var _component$$props = component.$props,\n    _component$$props$sty = _component$$props.styles,\n    styles = _component$$props$sty === undefined ? {} : _component$$props$sty,\n    panels = _component$$props.panels,\n    activeKey = _component$$props.activeKey,\n    direction = _component$$props.direction;\n  var rootNode = component.getRef('root');\n  var wrapNode = component.getRef('nav') || rootNode;\n  var inkBarNode = component.getRef('inkBar');\n  var activeTab = component.getRef('activeTab');\n  var inkBarNodeStyle = inkBarNode.style;\n  var tabBarPosition = component.$props.tabBarPosition;\n  var activeIndex = getActiveIndex(panels, activeKey);\n  if (init) {\n    // prevent mount animation\n    inkBarNodeStyle.display = 'none';\n  }\n  if (activeTab) {\n    var tabNode = activeTab;\n    var transformSupported = isTransform3dSupported(inkBarNodeStyle);\n\n    // Reset current style\n    setTransform(inkBarNodeStyle, '');\n    inkBarNodeStyle.width = '';\n    inkBarNodeStyle.height = '';\n    inkBarNodeStyle.left = '';\n    inkBarNodeStyle.top = '';\n    inkBarNodeStyle.bottom = '';\n    inkBarNodeStyle.right = '';\n    if (tabBarPosition === 'top' || tabBarPosition === 'bottom') {\n      var left = getLeft(tabNode, wrapNode);\n      var width = tabNode.offsetWidth;\n      // If tabNode'width width equal to wrapNode'width when tabBarPosition is top or bottom\n      // It means no css working, then ink bar should not have width until css is loaded\n      // Fix https://github.com/ant-design/ant-design/issues/7564\n      if (width === rootNode.offsetWidth) {\n        width = 0;\n      } else if (styles.inkBar && styles.inkBar.width !== undefined) {\n        width = parseFloat(styles.inkBar.width, 10);\n        if (width) {\n          left += (tabNode.offsetWidth - width) / 2;\n        }\n      }\n      if (direction === 'rtl') {\n        left = getStyle(tabNode, 'margin-left') - left;\n      }\n      // use 3d gpu to optimize render\n      if (transformSupported) {\n        setTransform(inkBarNodeStyle, 'translate3d(' + left + 'px,0,0)');\n      } else {\n        inkBarNodeStyle.left = left + 'px';\n      }\n      inkBarNodeStyle.width = width + 'px';\n    } else {\n      var top = getTop(tabNode, wrapNode, true);\n      var height = tabNode.offsetHeight;\n      if (styles.inkBar && styles.inkBar.height !== undefined) {\n        height = parseFloat(styles.inkBar.height, 10);\n        if (height) {\n          top += (tabNode.offsetHeight - height) / 2;\n        }\n      }\n      if (transformSupported) {\n        setTransform(inkBarNodeStyle, 'translate3d(0,' + top + 'px,0)');\n        inkBarNodeStyle.top = '0';\n      } else {\n        inkBarNodeStyle.top = top + 'px';\n      }\n      inkBarNodeStyle.height = height + 'px';\n    }\n  }\n  inkBarNodeStyle.display = activeIndex !== -1 ? 'block' : 'none';\n}\nexport default {\n  name: 'InkTabBarNode',\n  mixins: [BaseMixin],\n  props: {\n    inkBarAnimated: {\n      type: Boolean,\n      'default': true\n    },\n    direction: PropTypes.string,\n    prefixCls: String,\n    styles: Object,\n    tabBarPosition: String,\n    saveRef: PropTypes.func.def(function () {}),\n    getRef: PropTypes.func.def(function () {}),\n    panels: PropTypes.array,\n    activeKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  },\n  updated: function updated() {\n    this.$nextTick(function () {\n      componentDidUpdate(this);\n    });\n  },\n  mounted: function mounted() {\n    this.$nextTick(function () {\n      componentDidUpdate(this, true);\n    });\n  },\n  render: function render() {\n    var _classes;\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n      _styles = this.styles,\n      styles = _styles === undefined ? {} : _styles,\n      inkBarAnimated = this.inkBarAnimated;\n    var className = prefixCls + '-ink-bar';\n    var classes = (_classes = {}, _defineProperty(_classes, className, true), _defineProperty(_classes, inkBarAnimated ? className + '-animated' : className + '-no-animated', true), _classes);\n    return h('div', _mergeJSXProps([{\n      style: styles.inkBar,\n      'class': classes,\n      key: 'inkBar'\n    }, {\n      directives: [{\n        name: 'ant-ref',\n        value: this.saveRef('inkBar')\n      }]\n    }]));\n  }\n};","map":{"version":3,"names":["_mergeJSXProps","_defineProperty","PropTypes","setTransform","isTransform3dSupported","getLeft","getStyle","getTop","getActiveIndex","BaseMixin","componentDidUpdate","component","init","_component$$props","$props","_component$$props$sty","styles","undefined","panels","activeKey","direction","rootNode","getRef","wrapNode","inkBarNode","activeTab","inkBarNodeStyle","style","tabBarPosition","activeIndex","display","tabNode","transformSupported","width","height","left","top","bottom","right","offsetWidth","inkBar","parseFloat","offsetHeight","name","mixins","props","inkBarAnimated","type","Boolean","string","prefixCls","String","Object","saveRef","func","def","array","oneOfType","number","updated","$nextTick","mounted","render","_classes","h","arguments","_styles","className","classes","key","directives","value"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/client/node_modules/ant-design-vue/es/vc-tabs/src/InkTabBarNode.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../../_util/vue-types';\nimport { setTransform, isTransform3dSupported, getLeft, getStyle, getTop, getActiveIndex } from './utils';\nimport BaseMixin from '../../_util/BaseMixin';\n\nfunction componentDidUpdate(component, init) {\n  var _component$$props = component.$props,\n      _component$$props$sty = _component$$props.styles,\n      styles = _component$$props$sty === undefined ? {} : _component$$props$sty,\n      panels = _component$$props.panels,\n      activeKey = _component$$props.activeKey,\n      direction = _component$$props.direction;\n\n  var rootNode = component.getRef('root');\n  var wrapNode = component.getRef('nav') || rootNode;\n  var inkBarNode = component.getRef('inkBar');\n  var activeTab = component.getRef('activeTab');\n  var inkBarNodeStyle = inkBarNode.style;\n  var tabBarPosition = component.$props.tabBarPosition;\n  var activeIndex = getActiveIndex(panels, activeKey);\n  if (init) {\n    // prevent mount animation\n    inkBarNodeStyle.display = 'none';\n  }\n  if (activeTab) {\n    var tabNode = activeTab;\n    var transformSupported = isTransform3dSupported(inkBarNodeStyle);\n\n    // Reset current style\n    setTransform(inkBarNodeStyle, '');\n    inkBarNodeStyle.width = '';\n    inkBarNodeStyle.height = '';\n    inkBarNodeStyle.left = '';\n    inkBarNodeStyle.top = '';\n    inkBarNodeStyle.bottom = '';\n    inkBarNodeStyle.right = '';\n\n    if (tabBarPosition === 'top' || tabBarPosition === 'bottom') {\n      var left = getLeft(tabNode, wrapNode);\n      var width = tabNode.offsetWidth;\n      // If tabNode'width width equal to wrapNode'width when tabBarPosition is top or bottom\n      // It means no css working, then ink bar should not have width until css is loaded\n      // Fix https://github.com/ant-design/ant-design/issues/7564\n      if (width === rootNode.offsetWidth) {\n        width = 0;\n      } else if (styles.inkBar && styles.inkBar.width !== undefined) {\n        width = parseFloat(styles.inkBar.width, 10);\n        if (width) {\n          left += (tabNode.offsetWidth - width) / 2;\n        }\n      }\n      if (direction === 'rtl') {\n        left = getStyle(tabNode, 'margin-left') - left;\n      }\n      // use 3d gpu to optimize render\n      if (transformSupported) {\n        setTransform(inkBarNodeStyle, 'translate3d(' + left + 'px,0,0)');\n      } else {\n        inkBarNodeStyle.left = left + 'px';\n      }\n      inkBarNodeStyle.width = width + 'px';\n    } else {\n      var top = getTop(tabNode, wrapNode, true);\n      var height = tabNode.offsetHeight;\n      if (styles.inkBar && styles.inkBar.height !== undefined) {\n        height = parseFloat(styles.inkBar.height, 10);\n        if (height) {\n          top += (tabNode.offsetHeight - height) / 2;\n        }\n      }\n      if (transformSupported) {\n        setTransform(inkBarNodeStyle, 'translate3d(0,' + top + 'px,0)');\n        inkBarNodeStyle.top = '0';\n      } else {\n        inkBarNodeStyle.top = top + 'px';\n      }\n      inkBarNodeStyle.height = height + 'px';\n    }\n  }\n  inkBarNodeStyle.display = activeIndex !== -1 ? 'block' : 'none';\n}\n\nexport default {\n  name: 'InkTabBarNode',\n  mixins: [BaseMixin],\n  props: {\n    inkBarAnimated: {\n      type: Boolean,\n      'default': true\n    },\n    direction: PropTypes.string,\n    prefixCls: String,\n    styles: Object,\n    tabBarPosition: String,\n    saveRef: PropTypes.func.def(function () {}),\n    getRef: PropTypes.func.def(function () {}),\n    panels: PropTypes.array,\n    activeKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  },\n  updated: function updated() {\n    this.$nextTick(function () {\n      componentDidUpdate(this);\n    });\n  },\n  mounted: function mounted() {\n    this.$nextTick(function () {\n      componentDidUpdate(this, true);\n    });\n  },\n  render: function render() {\n    var _classes;\n\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        _styles = this.styles,\n        styles = _styles === undefined ? {} : _styles,\n        inkBarAnimated = this.inkBarAnimated;\n\n    var className = prefixCls + '-ink-bar';\n    var classes = (_classes = {}, _defineProperty(_classes, className, true), _defineProperty(_classes, inkBarAnimated ? className + '-animated' : className + '-no-animated', true), _classes);\n    return h('div', _mergeJSXProps([{\n      style: styles.inkBar,\n      'class': classes,\n      key: 'inkBar'\n    }, {\n      directives: [{\n        name: 'ant-ref',\n        value: this.saveRef('inkBar')\n      }]\n    }]));\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}