{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport MyHeader from \"@/components/common/MyHeader\";\nexport default {\n  name: \"App\",\n  components: {\n    MyHeader\n  },\n  data() {\n    return {\n      collapsed: false,\n      defaultSelectedKeys: null,\n      breadcrumb: [],\n      selectedKeys: [],\n      simpleSidebarData: [],\n      subSidebarData: []\n    };\n  },\n  mounted() {\n    var simpleSidebarData = [{\n      key: \"1\",\n      icon: \"code\",\n      text: \"日志\",\n      link: '/index'\n    }, {\n      key: \"2\",\n      icon: \"code\",\n      text: \"脚本\",\n      link: '/script'\n    }, {\n      key: \"3\",\n      icon: \"bug\",\n      text: \"调试\",\n      link: '/debug'\n    }];\n    var subSidebarData = [{\n      key: \"4\",\n      icon: \"branches\",\n      text: \"测试\",\n      children: [{\n        key: \"4-1\",\n        text: \"数据库备份\",\n        link: \"/backup\"\n      }, {\n        key: \"4-2\",\n        text: \"Newman\",\n        link: \"/newman\"\n      }]\n    }, {\n      key: \"5\",\n      icon: \"codepen\",\n      text: \"生成器\",\n      children: [{\n        key: \"5-1\",\n        text: \"代码生成器\",\n        link: \"/code-generator\"\n      }, {\n        key: \"5-2\",\n        text: \"Slate生成器\",\n        link: \"/slate-generator\"\n      }]\n    }];\n    this.simpleSidebarData = simpleSidebarData;\n    this.subSidebarData = subSidebarData;\n    var path = this.$route.path.toString();\n    let result = [];\n    // 路由与导航列表匹配则高亮\n    // 在simpleSidebarData中查找\n    for (let item of this.simpleSidebarData) {\n      if (item.link === path) {\n        result.push(item.key);\n        break;\n      }\n    }\n    // 在subSidebarData中查找\n    for (let item of this.subSidebarData) {\n      if (item.link === path) {\n        result.push(item.key);\n        break;\n      }\n      if (item.children && item.children.length > 0) {\n        for (let child of item.children) {\n          if (child.link === path) {\n            result.push(child.key);\n            break;\n          }\n        }\n      }\n    }\n    console.log(result);\n    this.defaultSelectedKeys = result;\n    // this.selectedKeys = this.defaultSelectedKeys;\n    // this.breadcrumb = this.findTextByKey(newVal[0]);\n  },\n\n  methods: {\n    findTextByKey(key) {\n      let result = [];\n      // 在simpleSidebarData中查找\n      for (let item of this.simpleSidebarData) {\n        if (item.key === key) {\n          result.push(item.text);\n          break;\n        }\n      }\n      // 在subSidebarData中查找\n      for (let item of this.subSidebarData) {\n        if (item.key === key) {\n          result.push(item.text);\n          break;\n        }\n        if (item.children && item.children.length > 0) {\n          for (let child of item.children) {\n            if (child.key === key) {\n              result.push(item.text);\n              result.push(child.text);\n              break;\n            }\n          }\n        }\n      }\n      return result;\n    },\n    findKeyByLink(link) {\n      return result;\n    }\n  },\n  watch: {\n    selectedKeys: {\n      handler(newVal) {\n        this.breadcrumb = this.findTextByKey(newVal[0]);\n      },\n      deep: true\n    }\n  }\n};","map":{"version":3,"names":["MyHeader","name","components","data","collapsed","defaultSelectedKeys","breadcrumb","selectedKeys","simpleSidebarData","subSidebarData","mounted","key","icon","text","link","children","path","$route","toString","result","item","push","length","child","console","log","methods","findTextByKey","findKeyByLink","watch","handler","newVal","deep"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div class=\"app\">\n    <a-layout id=\"components-layout-demo-side\" style=\"height: 100vh!important;\">\n      <a-layout-sider v-model=\"collapsed\" collapsible>\n        <div class=\"logo_img\">\n          <img class=\"logo\" src=\"./assets/r1_logo.png\" style=\"background: none;width: 35%;height: auto\"/>\n        </div>\n\n        <!--  导航栏 这里应该拆成组件 -->\n        <a-menu theme=\"dark\" v-model=\"selectedKeys\" :default-selected-keys=\"defaultSelectedKeys\" mode=\"inline\"\n                :forceSubMenuRender=\"true\"\n        >\n          <!-- 一级菜单 -->\n          <a-menu-item v-for=\"item in simpleSidebarData\" :key=\"item.key\">\n            <router-link :to=\"item.link\"></router-link>\n            <a-icon :type=\"item.icon\"/>\n            <span>{{ item.text }}</span>\n          </a-menu-item>\n          <!-- 多级菜单 -->\n          <a-sub-menu v-for=\"item in subSidebarData\" :key=\"item.key\">\n            <span slot=\"title\">\n              <a-icon :type=\"item.icon\"/>\n              <span>{{ item.text }}</span>\n            </span>\n            <a-menu-item v-for=\"child in item.children\" :key=\"child.key\">\n              <router-link :to=\"child.link\"></router-link>\n              {{ child.text }}\n            </a-menu-item>\n          </a-sub-menu>\n        </a-menu>\n\n      </a-layout-sider>\n      <a-layout style=\"height: 100%;overflow-y: hidden\">\n        <!--  头部组件  -->\n        <MyHeader></MyHeader>\n\n        <!-- 显示内容  -->\n        <a-layout-content style=\"margin: 10px 16px;\">\n          <a-breadcrumb>\n            <span>/&nbsp;&nbsp;</span>\n            <a-breadcrumb-item v-for=\"item in breadcrumb\" :key=\"item\">\n              {{ item }}\n            </a-breadcrumb-item>\n          </a-breadcrumb>\n\n          <router-view style=\"height:95%;overflow-y: auto\"></router-view>\n        </a-layout-content>\n        <a-layout-footer style=\"text-align: center;height: 7%\">\n          Development Tool ©2023 Created by Teamsupport ApiTeam\n        </a-layout-footer>\n      </a-layout>\n    </a-layout>\n  </div>\n</template>\n\n<script>\nimport MyHeader from \"@/components/common/MyHeader\";\n\nexport default {\n  name: \"App\",\n  components: {MyHeader},\n  data() {\n    return {\n      collapsed: false,\n      defaultSelectedKeys: null,\n      breadcrumb: [],\n      selectedKeys: [],\n      simpleSidebarData:[],\n      subSidebarData:[]\n\n    };\n  },\n  mounted() {\n\n    var simpleSidebarData =  [\n      {\n        key: \"1\",\n        icon: \"code\",\n        text: \"日志\",\n        link: '/index'\n      },\n      {\n        key: \"2\",\n        icon: \"code\",\n        text: \"脚本\",\n        link: '/script'\n      },\n      {\n        key: \"3\",\n        icon: \"bug\",\n        text: \"调试\",\n        link: '/debug'\n      },\n    ]\n        var subSidebarData =  [\n      {\n        key: \"4\",\n        icon: \"branches\",\n        text: \"测试\",\n        children: [\n          {key: \"4-1\", text: \"数据库备份\", link: \"/backup\"},\n          {key: \"4-2\", text: \"Newman\", link: \"/newman\"}\n        ]\n      },\n      {\n        key: \"5\",\n        icon: \"codepen\",\n        text: \"生成器\",\n        children: [\n          {key: \"5-1\", text: \"代码生成器\", link: \"/code-generator\"},\n          {key: \"5-2\", text: \"Slate生成器\", link: \"/slate-generator\"}\n        ]\n      }\n    ]\n    this.simpleSidebarData = simpleSidebarData\n    this.subSidebarData = subSidebarData\n    \n    var path = this.$route.path.toString();\n    let result = [];\n    // 路由与导航列表匹配则高亮\n    // 在simpleSidebarData中查找\n    for (let item of this.simpleSidebarData) {\n      if (item.link === path) {\n        result.push(item.key);\n        break;\n      }\n    }\n    // 在subSidebarData中查找\n    for (let item of this.subSidebarData) {\n      if (item.link === path) {\n        result.push(item.key);\n        break;\n      }\n      if (item.children && item.children.length > 0) {\n        for (let child of item.children) {\n          if (child.link === path) {\n            result.push(child.key);\n            break;\n          }\n        }\n      }\n    }\n    console.log(result)\n    this.defaultSelectedKeys = result\n    // this.selectedKeys = this.defaultSelectedKeys;\n    // this.breadcrumb = this.findTextByKey(newVal[0]);\n  },\n  methods: {\n    findTextByKey(key) {\n      let result = [];\n      // 在simpleSidebarData中查找\n      for (let item of this.simpleSidebarData) {\n        if (item.key === key) {\n          result.push(item.text);\n          break;\n        }\n      }\n      // 在subSidebarData中查找\n      for (let item of this.subSidebarData) {\n        if (item.key === key) {\n          result.push(item.text);\n          break;\n        }\n        if (item.children && item.children.length > 0) {\n          for (let child of item.children) {\n            if (child.key === key) {\n              result.push(item.text);\n              result.push(child.text);\n              break;\n            }\n          }\n        }\n      }\n      return result;\n    },\n    findKeyByLink(link) {\n\n\n      return result;\n    }\n  },\n  watch: {\n    selectedKeys: {\n      handler(newVal) {\n        this.breadcrumb = this.findTextByKey(newVal[0]);\n      },\n      deep: true\n    }\n  },\n\n};\n</script>\n\n<style>\n#components-layout-demo-side .logo {\n  height: 32px;\n  background: rgba(255, 255, 255, 0.2);\n  margin: 16px;\n}\n\n.logo_img {\n  display: flex !important;\n  justify-content: center !important;\n\n}\n\n.app {\n  max-height: 100vh !important;\n  overflow-y: hidden;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}