{"ast":null,"code":"import { getValue } from '../utils/miscUtil';\nimport { isSameDate, getQuarter } from '../utils/dateUtil';\nimport { computed } from 'vue';\nexport default function useRangeDisabled(_ref, openRecordsRef) {\n  let {\n    picker,\n    locale,\n    selectedValue,\n    disabledDate,\n    disabled,\n    generateConfig\n  } = _ref;\n  const startDate = computed(() => getValue(selectedValue.value, 0));\n  const endDate = computed(() => getValue(selectedValue.value, 1));\n  function weekFirstDate(date) {\n    return generateConfig.value.locale.getWeekFirstDate(locale.value.locale, date);\n  }\n  function monthNumber(date) {\n    const year = generateConfig.value.getYear(date);\n    const month = generateConfig.value.getMonth(date);\n    return year * 100 + month;\n  }\n  function quarterNumber(date) {\n    const year = generateConfig.value.getYear(date);\n    const quarter = getQuarter(generateConfig.value, date);\n    return year * 10 + quarter;\n  }\n  const disabledStartDate = date => {\n    var _a;\n    if (disabledDate && ((_a = disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate.value) === null || _a === void 0 ? void 0 : _a.call(disabledDate, date))) {\n      return true;\n    }\n    // Disabled range\n    if (disabled[1] && endDate) {\n      return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(date, endDate.value);\n    }\n    // Disabled part\n    if (openRecordsRef.value[1] && endDate.value) {\n      switch (picker.value) {\n        case 'quarter':\n          return quarterNumber(date) > quarterNumber(endDate.value);\n        case 'month':\n          return monthNumber(date) > monthNumber(endDate.value);\n        case 'week':\n          return weekFirstDate(date) > weekFirstDate(endDate.value);\n        default:\n          return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(date, endDate.value);\n      }\n    }\n    return false;\n  };\n  const disabledEndDate = date => {\n    var _a;\n    if ((_a = disabledDate.value) === null || _a === void 0 ? void 0 : _a.call(disabledDate, date)) {\n      return true;\n    }\n    // Disabled range\n    if (disabled[0] && startDate) {\n      return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(startDate.value, date);\n    }\n    // Disabled part\n    if (openRecordsRef.value[0] && startDate.value) {\n      switch (picker.value) {\n        case 'quarter':\n          return quarterNumber(date) < quarterNumber(startDate.value);\n        case 'month':\n          return monthNumber(date) < monthNumber(startDate.value);\n        case 'week':\n          return weekFirstDate(date) < weekFirstDate(startDate.value);\n        default:\n          return !isSameDate(generateConfig.value, date, startDate.value) && generateConfig.value.isAfter(startDate.value, date);\n      }\n    }\n    return false;\n  };\n  return [disabledStartDate, disabledEndDate];\n}","map":{"version":3,"names":["getValue","isSameDate","getQuarter","computed","useRangeDisabled","_ref","openRecordsRef","picker","locale","selectedValue","disabledDate","disabled","generateConfig","startDate","value","endDate","weekFirstDate","date","getWeekFirstDate","monthNumber","year","getYear","month","getMonth","quarterNumber","quarter","disabledStartDate","_a","call","isAfter","disabledEndDate"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-picker/hooks/useRangeDisabled.js"],"sourcesContent":["import { getValue } from '../utils/miscUtil';\nimport { isSameDate, getQuarter } from '../utils/dateUtil';\nimport { computed } from 'vue';\nexport default function useRangeDisabled(_ref, openRecordsRef) {\n  let {\n    picker,\n    locale,\n    selectedValue,\n    disabledDate,\n    disabled,\n    generateConfig\n  } = _ref;\n  const startDate = computed(() => getValue(selectedValue.value, 0));\n  const endDate = computed(() => getValue(selectedValue.value, 1));\n  function weekFirstDate(date) {\n    return generateConfig.value.locale.getWeekFirstDate(locale.value.locale, date);\n  }\n  function monthNumber(date) {\n    const year = generateConfig.value.getYear(date);\n    const month = generateConfig.value.getMonth(date);\n    return year * 100 + month;\n  }\n  function quarterNumber(date) {\n    const year = generateConfig.value.getYear(date);\n    const quarter = getQuarter(generateConfig.value, date);\n    return year * 10 + quarter;\n  }\n  const disabledStartDate = date => {\n    var _a;\n    if (disabledDate && ((_a = disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate.value) === null || _a === void 0 ? void 0 : _a.call(disabledDate, date))) {\n      return true;\n    }\n    // Disabled range\n    if (disabled[1] && endDate) {\n      return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(date, endDate.value);\n    }\n    // Disabled part\n    if (openRecordsRef.value[1] && endDate.value) {\n      switch (picker.value) {\n        case 'quarter':\n          return quarterNumber(date) > quarterNumber(endDate.value);\n        case 'month':\n          return monthNumber(date) > monthNumber(endDate.value);\n        case 'week':\n          return weekFirstDate(date) > weekFirstDate(endDate.value);\n        default:\n          return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(date, endDate.value);\n      }\n    }\n    return false;\n  };\n  const disabledEndDate = date => {\n    var _a;\n    if ((_a = disabledDate.value) === null || _a === void 0 ? void 0 : _a.call(disabledDate, date)) {\n      return true;\n    }\n    // Disabled range\n    if (disabled[0] && startDate) {\n      return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(startDate.value, date);\n    }\n    // Disabled part\n    if (openRecordsRef.value[0] && startDate.value) {\n      switch (picker.value) {\n        case 'quarter':\n          return quarterNumber(date) < quarterNumber(startDate.value);\n        case 'month':\n          return monthNumber(date) < monthNumber(startDate.value);\n        case 'week':\n          return weekFirstDate(date) < weekFirstDate(startDate.value);\n        default:\n          return !isSameDate(generateConfig.value, date, startDate.value) && generateConfig.value.isAfter(startDate.value, date);\n      }\n    }\n    return false;\n  };\n  return [disabledStartDate, disabledEndDate];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}