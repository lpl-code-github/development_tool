{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport ResizeObserver from '../vc-resize-observer';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport raf from '../_util/raf';\nimport warning from '../_util/warning';\nimport BaseMixin from '../_util/BaseMixin';\nimport inputProps from './inputProps';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getListeners } from '../_util/props-util';\nvar RESIZE_STATUS_NONE = 0;\nvar RESIZE_STATUS_RESIZING = 1;\nvar RESIZE_STATUS_RESIZED = 2;\nvar TextAreaProps = _extends({}, inputProps, {\n  autosize: PropTypes.oneOfType([Object, Boolean]),\n  autoSize: PropTypes.oneOfType([Object, Boolean])\n});\nvar ResizableTextArea = {\n  name: 'ResizableTextArea',\n  props: TextAreaProps,\n  data: function data() {\n    return {\n      textareaStyles: {},\n      resizeStatus: RESIZE_STATUS_NONE\n    };\n  },\n  mixins: [BaseMixin],\n  mounted: function mounted() {\n    var _this = this;\n    this.$nextTick(function () {\n      _this.resizeTextarea();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    raf.cancel(this.nextFrameActionId);\n    raf.cancel(this.resizeFrameId);\n  },\n  watch: {\n    value: function value() {\n      var _this2 = this;\n      this.$nextTick(function () {\n        _this2.resizeTextarea();\n      });\n    }\n  },\n  methods: {\n    handleResize: function handleResize(size) {\n      var resizeStatus = this.$data.resizeStatus;\n      var autoSize = this.$props.autoSize;\n      if (resizeStatus !== RESIZE_STATUS_NONE) {\n        return;\n      }\n      this.$emit('resize', size);\n      if (autoSize) {\n        this.resizeOnNextFrame();\n      }\n    },\n    resizeOnNextFrame: function resizeOnNextFrame() {\n      raf.cancel(this.nextFrameActionId);\n      this.nextFrameActionId = raf(this.resizeTextarea);\n    },\n    resizeTextarea: function resizeTextarea() {\n      var _this3 = this;\n      var autoSize = this.$props.autoSize || this.$props.autosize;\n      if (!autoSize || !this.$refs.textArea) {\n        return;\n      }\n      var minRows = autoSize.minRows,\n        maxRows = autoSize.maxRows;\n      var textareaStyles = calculateNodeHeight(this.$refs.textArea, false, minRows, maxRows);\n      this.setState({\n        textareaStyles: textareaStyles,\n        resizeStatus: RESIZE_STATUS_RESIZING\n      }, function () {\n        raf.cancel(_this3.resizeFrameId);\n        _this3.resizeFrameId = raf(function () {\n          _this3.setState({\n            resizeStatus: RESIZE_STATUS_RESIZED\n          }, function () {\n            _this3.resizeFrameId = raf(function () {\n              _this3.setState({\n                resizeStatus: RESIZE_STATUS_NONE\n              });\n              _this3.fixFirefoxAutoScroll();\n            });\n          });\n        });\n      });\n    },\n    // https://github.com/ant-design/ant-design/issues/21870\n    fixFirefoxAutoScroll: function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === this.$refs.textArea) {\n          var currentStart = this.$refs.textArea.selectionStart;\n          var currentEnd = this.$refs.textArea.selectionEnd;\n          this.$refs.textArea.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {\n        // Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    renderTextArea: function renderTextArea() {\n      var h = this.$createElement;\n      var props = getOptionProps(this);\n      var prefixCls = props.prefixCls,\n        autoSize = props.autoSize,\n        autosize = props.autosize,\n        disabled = props.disabled;\n      var _$data = this.$data,\n        textareaStyles = _$data.textareaStyles,\n        resizeStatus = _$data.resizeStatus;\n      warning(autosize === undefined, 'Input.TextArea', 'autosize is deprecated, please use autoSize instead.');\n      var otherProps = omit(props, ['prefixCls', 'autoSize', 'autosize', 'defaultValue', 'allowClear', 'type', 'lazy', 'value']);\n      var cls = classNames(prefixCls, _defineProperty({}, prefixCls + '-disabled', disabled));\n      var domProps = {};\n      // Fix https://github.com/ant-design/ant-design/issues/6776\n      // Make sure it could be reset when using form.getFieldDecorator\n      if ('value' in props) {\n        domProps.value = props.value || '';\n      }\n      var style = _extends({}, textareaStyles, resizeStatus === RESIZE_STATUS_RESIZING ? {\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      } : null);\n      var textareaProps = {\n        attrs: otherProps,\n        domProps: domProps,\n        style: style,\n        'class': cls,\n        on: omit(getListeners(this), 'pressEnter'),\n        directives: [{\n          name: 'ant-input'\n        }]\n      };\n      return h(ResizeObserver, {\n        on: {\n          'resize': this.handleResize\n        },\n        attrs: {\n          disabled: !(autoSize || autosize)\n        }\n      }, [h('textarea', _mergeJSXProps([textareaProps, {\n        ref: 'textArea'\n      }]))]);\n    }\n  },\n  render: function render() {\n    return this.renderTextArea();\n  }\n};\nexport default ResizableTextArea;","map":{"version":3,"names":["_mergeJSXProps","_defineProperty","_extends","ResizeObserver","omit","classNames","calculateNodeHeight","raf","warning","BaseMixin","inputProps","PropTypes","getOptionProps","getListeners","RESIZE_STATUS_NONE","RESIZE_STATUS_RESIZING","RESIZE_STATUS_RESIZED","TextAreaProps","autosize","oneOfType","Object","Boolean","autoSize","ResizableTextArea","name","props","data","textareaStyles","resizeStatus","mixins","mounted","_this","$nextTick","resizeTextarea","beforeDestroy","cancel","nextFrameActionId","resizeFrameId","watch","value","_this2","methods","handleResize","size","$data","$props","$emit","resizeOnNextFrame","_this3","$refs","textArea","minRows","maxRows","setState","fixFirefoxAutoScroll","document","activeElement","currentStart","selectionStart","currentEnd","selectionEnd","setSelectionRange","e","renderTextArea","h","$createElement","prefixCls","disabled","_$data","undefined","otherProps","cls","domProps","style","overflowX","overflowY","textareaProps","attrs","on","directives","ref","render"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/client/node_modules/ant-design-vue/es/input/ResizableTextArea.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport ResizeObserver from '../vc-resize-observer';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport raf from '../_util/raf';\nimport warning from '../_util/warning';\nimport BaseMixin from '../_util/BaseMixin';\nimport inputProps from './inputProps';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getListeners } from '../_util/props-util';\n\nvar RESIZE_STATUS_NONE = 0;\nvar RESIZE_STATUS_RESIZING = 1;\nvar RESIZE_STATUS_RESIZED = 2;\n\nvar TextAreaProps = _extends({}, inputProps, {\n  autosize: PropTypes.oneOfType([Object, Boolean]),\n  autoSize: PropTypes.oneOfType([Object, Boolean])\n});\nvar ResizableTextArea = {\n  name: 'ResizableTextArea',\n  props: TextAreaProps,\n  data: function data() {\n    return {\n      textareaStyles: {},\n      resizeStatus: RESIZE_STATUS_NONE\n    };\n  },\n\n  mixins: [BaseMixin],\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.resizeTextarea();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    raf.cancel(this.nextFrameActionId);\n    raf.cancel(this.resizeFrameId);\n  },\n\n  watch: {\n    value: function value() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        _this2.resizeTextarea();\n      });\n    }\n  },\n  methods: {\n    handleResize: function handleResize(size) {\n      var resizeStatus = this.$data.resizeStatus;\n      var autoSize = this.$props.autoSize;\n\n\n      if (resizeStatus !== RESIZE_STATUS_NONE) {\n        return;\n      }\n      this.$emit('resize', size);\n      if (autoSize) {\n        this.resizeOnNextFrame();\n      }\n    },\n    resizeOnNextFrame: function resizeOnNextFrame() {\n      raf.cancel(this.nextFrameActionId);\n      this.nextFrameActionId = raf(this.resizeTextarea);\n    },\n    resizeTextarea: function resizeTextarea() {\n      var _this3 = this;\n\n      var autoSize = this.$props.autoSize || this.$props.autosize;\n      if (!autoSize || !this.$refs.textArea) {\n        return;\n      }\n      var minRows = autoSize.minRows,\n          maxRows = autoSize.maxRows;\n\n      var textareaStyles = calculateNodeHeight(this.$refs.textArea, false, minRows, maxRows);\n      this.setState({ textareaStyles: textareaStyles, resizeStatus: RESIZE_STATUS_RESIZING }, function () {\n        raf.cancel(_this3.resizeFrameId);\n        _this3.resizeFrameId = raf(function () {\n          _this3.setState({ resizeStatus: RESIZE_STATUS_RESIZED }, function () {\n            _this3.resizeFrameId = raf(function () {\n              _this3.setState({ resizeStatus: RESIZE_STATUS_NONE });\n              _this3.fixFirefoxAutoScroll();\n            });\n          });\n        });\n      });\n    },\n\n    // https://github.com/ant-design/ant-design/issues/21870\n    fixFirefoxAutoScroll: function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === this.$refs.textArea) {\n          var currentStart = this.$refs.textArea.selectionStart;\n          var currentEnd = this.$refs.textArea.selectionEnd;\n          this.$refs.textArea.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {\n        // Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    renderTextArea: function renderTextArea() {\n      var h = this.$createElement;\n\n      var props = getOptionProps(this);\n      var prefixCls = props.prefixCls,\n          autoSize = props.autoSize,\n          autosize = props.autosize,\n          disabled = props.disabled;\n      var _$data = this.$data,\n          textareaStyles = _$data.textareaStyles,\n          resizeStatus = _$data.resizeStatus;\n\n      warning(autosize === undefined, 'Input.TextArea', 'autosize is deprecated, please use autoSize instead.');\n      var otherProps = omit(props, ['prefixCls', 'autoSize', 'autosize', 'defaultValue', 'allowClear', 'type', 'lazy', 'value']);\n      var cls = classNames(prefixCls, _defineProperty({}, prefixCls + '-disabled', disabled));\n      var domProps = {};\n      // Fix https://github.com/ant-design/ant-design/issues/6776\n      // Make sure it could be reset when using form.getFieldDecorator\n      if ('value' in props) {\n        domProps.value = props.value || '';\n      }\n      var style = _extends({}, textareaStyles, resizeStatus === RESIZE_STATUS_RESIZING ? { overflowX: 'hidden', overflowY: 'hidden' } : null);\n      var textareaProps = {\n        attrs: otherProps,\n        domProps: domProps,\n        style: style,\n        'class': cls,\n        on: omit(getListeners(this), 'pressEnter'),\n        directives: [{\n          name: 'ant-input'\n        }]\n      };\n      return h(\n        ResizeObserver,\n        {\n          on: {\n            'resize': this.handleResize\n          },\n          attrs: { disabled: !(autoSize || autosize) }\n        },\n        [h('textarea', _mergeJSXProps([textareaProps, { ref: 'textArea' }]))]\n      );\n    }\n  },\n\n  render: function render() {\n    return this.renderTextArea();\n  }\n};\n\nexport default ResizableTextArea;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}