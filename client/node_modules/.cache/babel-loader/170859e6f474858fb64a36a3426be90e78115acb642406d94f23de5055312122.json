{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _extends from 'babel-runtime/helpers/extends';\nimport Vue from 'vue';\nimport ConfirmDialog from './ConfirmDialog';\nimport { destroyFns } from './Modal';\nimport Base from '../base';\nimport Omit from 'omit.js';\nexport default function confirm(config) {\n  var div = document.createElement('div');\n  var el = document.createElement('div');\n  div.appendChild(el);\n  document.body.appendChild(div);\n  var currentConfig = _extends({}, Omit(config, ['parentContext']), {\n    close: close,\n    visible: true\n  });\n  var confirmDialogInstance = null;\n  var confirmDialogProps = {\n    props: {}\n  };\n  function close() {\n    destroy.apply(undefined, arguments);\n  }\n  function update(newConfig) {\n    currentConfig = _extends({}, currentConfig, newConfig);\n    confirmDialogProps.props = currentConfig;\n  }\n  function destroy() {\n    if (confirmDialogInstance && div.parentNode) {\n      confirmDialogInstance.$destroy();\n      confirmDialogInstance = null;\n      div.parentNode.removeChild(div);\n    }\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n    if (config.onCancel && triggerCancel) {\n      config.onCancel.apply(config, args);\n    }\n    for (var i = 0; i < destroyFns.length; i++) {\n      var fn = destroyFns[i];\n      if (fn === close) {\n        destroyFns.splice(i, 1);\n        break;\n      }\n    }\n  }\n  function render(props) {\n    confirmDialogProps.props = props;\n    var V = Base.Vue || Vue;\n    return new V({\n      el: el,\n      parent: config.parentContext,\n      data: function data() {\n        return {\n          confirmDialogProps: confirmDialogProps\n        };\n      },\n      render: function render() {\n        var h = arguments[0];\n\n        // 先解构，避免报错，原因不详\n        var cdProps = _extends({}, this.confirmDialogProps);\n        return h(ConfirmDialog, cdProps);\n      }\n    });\n  }\n  confirmDialogInstance = render(currentConfig);\n  destroyFns.push(close);\n  return {\n    destroy: close,\n    update: update\n  };\n}","map":{"version":3,"names":["_extends","Vue","ConfirmDialog","destroyFns","Base","Omit","confirm","config","div","document","createElement","el","appendChild","body","currentConfig","close","visible","confirmDialogInstance","confirmDialogProps","props","destroy","apply","undefined","arguments","update","newConfig","parentNode","$destroy","removeChild","_len","length","args","Array","_key","triggerCancel","some","param","onCancel","i","fn","splice","render","V","parent","parentContext","data","h","cdProps","push"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/client/node_modules/ant-design-vue/es/modal/confirm.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport Vue from 'vue';\nimport ConfirmDialog from './ConfirmDialog';\nimport { destroyFns } from './Modal';\nimport Base from '../base';\nimport Omit from 'omit.js';\n\nexport default function confirm(config) {\n  var div = document.createElement('div');\n  var el = document.createElement('div');\n  div.appendChild(el);\n  document.body.appendChild(div);\n  var currentConfig = _extends({}, Omit(config, ['parentContext']), { close: close, visible: true });\n\n  var confirmDialogInstance = null;\n  var confirmDialogProps = { props: {} };\n  function close() {\n    destroy.apply(undefined, arguments);\n  }\n  function update(newConfig) {\n    currentConfig = _extends({}, currentConfig, newConfig);\n    confirmDialogProps.props = currentConfig;\n  }\n  function destroy() {\n    if (confirmDialogInstance && div.parentNode) {\n      confirmDialogInstance.$destroy();\n      confirmDialogInstance = null;\n      div.parentNode.removeChild(div);\n    }\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n    if (config.onCancel && triggerCancel) {\n      config.onCancel.apply(config, args);\n    }\n    for (var i = 0; i < destroyFns.length; i++) {\n      var fn = destroyFns[i];\n      if (fn === close) {\n        destroyFns.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  function render(props) {\n    confirmDialogProps.props = props;\n    var V = Base.Vue || Vue;\n    return new V({\n      el: el,\n      parent: config.parentContext,\n      data: function data() {\n        return { confirmDialogProps: confirmDialogProps };\n      },\n      render: function render() {\n        var h = arguments[0];\n\n        // 先解构，避免报错，原因不详\n        var cdProps = _extends({}, this.confirmDialogProps);\n        return h(ConfirmDialog, cdProps);\n      }\n    });\n  }\n\n  confirmDialogInstance = render(currentConfig);\n  destroyFns.push(close);\n  return {\n    destroy: close,\n    update: update\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}