{"ast":null,"code":"import { watch, computed, inject, provide, ref, onBeforeUnmount, getCurrentInstance, defineComponent } from 'vue';\nimport devWarning from '../vc-util/devWarning';\nimport createContext from '../_util/createContext';\nconst ContextKey = Symbol('ContextProps');\nconst InternalContextKey = Symbol('InternalContextProps');\nexport const useProvideFormItemContext = function (props) {\n  let useValidation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : computed(() => true);\n  const formItemFields = ref(new Map());\n  const addFormItemField = (key, type) => {\n    formItemFields.value.set(key, type);\n    formItemFields.value = new Map(formItemFields.value);\n  };\n  const removeFormItemField = key => {\n    formItemFields.value.delete(key);\n    formItemFields.value = new Map(formItemFields.value);\n  };\n  const instance = getCurrentInstance();\n  watch([useValidation, formItemFields], () => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (useValidation.value && formItemFields.value.size > 1) {\n        devWarning(false, 'Form.Item', `FormItem can only collect one field item, you haved set ${[...formItemFields.value.values()].map(v => `\\`${v.name}\\``).join(', ')} ${formItemFields.value.size} field items.\n        You can set not need to be collected fields into \\`a-form-item-rest\\``);\n        let cur = instance;\n        while (cur.parent) {\n          console.warn('at', cur.type);\n          cur = cur.parent;\n        }\n      }\n    }\n  });\n  provide(ContextKey, props);\n  provide(InternalContextKey, {\n    addFormItemField,\n    removeFormItemField\n  });\n};\nconst defaultContext = {\n  id: computed(() => undefined),\n  onFieldBlur: () => {},\n  onFieldChange: () => {},\n  clearValidate: () => {}\n};\nconst defaultInternalContext = {\n  addFormItemField: () => {},\n  removeFormItemField: () => {}\n};\nexport const useInjectFormItemContext = () => {\n  const internalContext = inject(InternalContextKey, defaultInternalContext);\n  const formItemFieldKey = Symbol('FormItemFieldKey');\n  const instance = getCurrentInstance();\n  internalContext.addFormItemField(formItemFieldKey, instance.type);\n  onBeforeUnmount(() => {\n    internalContext.removeFormItemField(formItemFieldKey);\n  });\n  // We should prevent the passing of context for children\n  provide(InternalContextKey, defaultInternalContext);\n  provide(ContextKey, defaultContext);\n  return inject(ContextKey, defaultContext);\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'AFormItemRest',\n  setup(_, _ref) {\n    let {\n      slots\n    } = _ref;\n    provide(InternalContextKey, defaultInternalContext);\n    provide(ContextKey, defaultContext);\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\nexport const FormItemInputContext = createContext({});\nexport const NoFormStatus = defineComponent({\n  name: 'NoFormStatus',\n  setup(_, _ref2) {\n    let {\n      slots\n    } = _ref2;\n    FormItemInputContext.useProvide({});\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});","map":{"version":3,"names":["watch","computed","inject","provide","ref","onBeforeUnmount","getCurrentInstance","defineComponent","devWarning","createContext","ContextKey","Symbol","InternalContextKey","useProvideFormItemContext","props","useValidation","arguments","length","undefined","formItemFields","Map","addFormItemField","key","type","value","set","removeFormItemField","delete","instance","process","env","NODE_ENV","size","values","map","v","name","join","cur","parent","console","warn","defaultContext","id","onFieldBlur","onFieldChange","clearValidate","defaultInternalContext","useInjectFormItemContext","internalContext","formItemFieldKey","compatConfig","MODE","setup","_","_ref","slots","_a","default","call","FormItemInputContext","NoFormStatus","_ref2","useProvide"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/form/FormItemContext.js"],"sourcesContent":["import { watch, computed, inject, provide, ref, onBeforeUnmount, getCurrentInstance, defineComponent } from 'vue';\nimport devWarning from '../vc-util/devWarning';\nimport createContext from '../_util/createContext';\nconst ContextKey = Symbol('ContextProps');\nconst InternalContextKey = Symbol('InternalContextProps');\nexport const useProvideFormItemContext = function (props) {\n  let useValidation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : computed(() => true);\n  const formItemFields = ref(new Map());\n  const addFormItemField = (key, type) => {\n    formItemFields.value.set(key, type);\n    formItemFields.value = new Map(formItemFields.value);\n  };\n  const removeFormItemField = key => {\n    formItemFields.value.delete(key);\n    formItemFields.value = new Map(formItemFields.value);\n  };\n  const instance = getCurrentInstance();\n  watch([useValidation, formItemFields], () => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (useValidation.value && formItemFields.value.size > 1) {\n        devWarning(false, 'Form.Item', `FormItem can only collect one field item, you haved set ${[...formItemFields.value.values()].map(v => `\\`${v.name}\\``).join(', ')} ${formItemFields.value.size} field items.\n        You can set not need to be collected fields into \\`a-form-item-rest\\``);\n        let cur = instance;\n        while (cur.parent) {\n          console.warn('at', cur.type);\n          cur = cur.parent;\n        }\n      }\n    }\n  });\n  provide(ContextKey, props);\n  provide(InternalContextKey, {\n    addFormItemField,\n    removeFormItemField\n  });\n};\nconst defaultContext = {\n  id: computed(() => undefined),\n  onFieldBlur: () => {},\n  onFieldChange: () => {},\n  clearValidate: () => {}\n};\nconst defaultInternalContext = {\n  addFormItemField: () => {},\n  removeFormItemField: () => {}\n};\nexport const useInjectFormItemContext = () => {\n  const internalContext = inject(InternalContextKey, defaultInternalContext);\n  const formItemFieldKey = Symbol('FormItemFieldKey');\n  const instance = getCurrentInstance();\n  internalContext.addFormItemField(formItemFieldKey, instance.type);\n  onBeforeUnmount(() => {\n    internalContext.removeFormItemField(formItemFieldKey);\n  });\n  // We should prevent the passing of context for children\n  provide(InternalContextKey, defaultInternalContext);\n  provide(ContextKey, defaultContext);\n  return inject(ContextKey, defaultContext);\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'AFormItemRest',\n  setup(_, _ref) {\n    let {\n      slots\n    } = _ref;\n    provide(InternalContextKey, defaultInternalContext);\n    provide(ContextKey, defaultContext);\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\nexport const FormItemInputContext = createContext({});\nexport const NoFormStatus = defineComponent({\n  name: 'NoFormStatus',\n  setup(_, _ref2) {\n    let {\n      slots\n    } = _ref2;\n    FormItemInputContext.useProvide({});\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});"],"mappings":"AAAA,SAASA,KAAK,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,OAAO,EAAEC,GAAG,EAAEC,eAAe,EAAEC,kBAAkB,EAAEC,eAAe,QAAQ,KAAK;AACjH,OAAOC,UAAU,MAAM,uBAAuB;AAC9C,OAAOC,aAAa,MAAM,wBAAwB;AAClD,MAAMC,UAAU,GAAGC,MAAM,CAAC,cAAc,CAAC;AACzC,MAAMC,kBAAkB,GAAGD,MAAM,CAAC,sBAAsB,CAAC;AACzD,OAAO,MAAME,yBAAyB,GAAG,SAAAA,CAAUC,KAAK,EAAE;EACxD,IAAIC,aAAa,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAGf,QAAQ,CAAC,MAAM,IAAI,CAAC;EAC5G,MAAMkB,cAAc,GAAGf,GAAG,CAAC,IAAIgB,GAAG,CAAC,CAAC,CAAC;EACrC,MAAMC,gBAAgB,GAAGA,CAACC,GAAG,EAAEC,IAAI,KAAK;IACtCJ,cAAc,CAACK,KAAK,CAACC,GAAG,CAACH,GAAG,EAAEC,IAAI,CAAC;IACnCJ,cAAc,CAACK,KAAK,GAAG,IAAIJ,GAAG,CAACD,cAAc,CAACK,KAAK,CAAC;EACtD,CAAC;EACD,MAAME,mBAAmB,GAAGJ,GAAG,IAAI;IACjCH,cAAc,CAACK,KAAK,CAACG,MAAM,CAACL,GAAG,CAAC;IAChCH,cAAc,CAACK,KAAK,GAAG,IAAIJ,GAAG,CAACD,cAAc,CAACK,KAAK,CAAC;EACtD,CAAC;EACD,MAAMI,QAAQ,GAAGtB,kBAAkB,CAAC,CAAC;EACrCN,KAAK,CAAC,CAACe,aAAa,EAAEI,cAAc,CAAC,EAAE,MAAM;IAC3C,IAAIU,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;MACzC,IAAIhB,aAAa,CAACS,KAAK,IAAIL,cAAc,CAACK,KAAK,CAACQ,IAAI,GAAG,CAAC,EAAE;QACxDxB,UAAU,CAAC,KAAK,EAAE,WAAW,EAAG,2DAA0D,CAAC,GAAGW,cAAc,CAACK,KAAK,CAACS,MAAM,CAAC,CAAC,CAAC,CAACC,GAAG,CAACC,CAAC,IAAK,KAAIA,CAAC,CAACC,IAAK,IAAG,CAAC,CAACC,IAAI,CAAC,IAAI,CAAE,IAAGlB,cAAc,CAACK,KAAK,CAACQ,IAAK;AACvM,8EAA8E,CAAC;QACvE,IAAIM,GAAG,GAAGV,QAAQ;QAClB,OAAOU,GAAG,CAACC,MAAM,EAAE;UACjBC,OAAO,CAACC,IAAI,CAAC,IAAI,EAAEH,GAAG,CAACf,IAAI,CAAC;UAC5Be,GAAG,GAAGA,GAAG,CAACC,MAAM;QAClB;MACF;IACF;EACF,CAAC,CAAC;EACFpC,OAAO,CAACO,UAAU,EAAEI,KAAK,CAAC;EAC1BX,OAAO,CAACS,kBAAkB,EAAE;IAC1BS,gBAAgB;IAChBK;EACF,CAAC,CAAC;AACJ,CAAC;AACD,MAAMgB,cAAc,GAAG;EACrBC,EAAE,EAAE1C,QAAQ,CAAC,MAAMiB,SAAS,CAAC;EAC7B0B,WAAW,EAAEA,CAAA,KAAM,CAAC,CAAC;EACrBC,aAAa,EAAEA,CAAA,KAAM,CAAC,CAAC;EACvBC,aAAa,EAAEA,CAAA,KAAM,CAAC;AACxB,CAAC;AACD,MAAMC,sBAAsB,GAAG;EAC7B1B,gBAAgB,EAAEA,CAAA,KAAM,CAAC,CAAC;EAC1BK,mBAAmB,EAAEA,CAAA,KAAM,CAAC;AAC9B,CAAC;AACD,OAAO,MAAMsB,wBAAwB,GAAGA,CAAA,KAAM;EAC5C,MAAMC,eAAe,GAAG/C,MAAM,CAACU,kBAAkB,EAAEmC,sBAAsB,CAAC;EAC1E,MAAMG,gBAAgB,GAAGvC,MAAM,CAAC,kBAAkB,CAAC;EACnD,MAAMiB,QAAQ,GAAGtB,kBAAkB,CAAC,CAAC;EACrC2C,eAAe,CAAC5B,gBAAgB,CAAC6B,gBAAgB,EAAEtB,QAAQ,CAACL,IAAI,CAAC;EACjElB,eAAe,CAAC,MAAM;IACpB4C,eAAe,CAACvB,mBAAmB,CAACwB,gBAAgB,CAAC;EACvD,CAAC,CAAC;EACF;EACA/C,OAAO,CAACS,kBAAkB,EAAEmC,sBAAsB,CAAC;EACnD5C,OAAO,CAACO,UAAU,EAAEgC,cAAc,CAAC;EACnC,OAAOxC,MAAM,CAACQ,UAAU,EAAEgC,cAAc,CAAC;AAC3C,CAAC;AACD,eAAenC,eAAe,CAAC;EAC7B4C,YAAY,EAAE;IACZC,IAAI,EAAE;EACR,CAAC;EACDhB,IAAI,EAAE,eAAe;EACrBiB,KAAKA,CAACC,CAAC,EAAEC,IAAI,EAAE;IACb,IAAI;MACFC;IACF,CAAC,GAAGD,IAAI;IACRpD,OAAO,CAACS,kBAAkB,EAAEmC,sBAAsB,CAAC;IACnD5C,OAAO,CAACO,UAAU,EAAEgC,cAAc,CAAC;IACnC,OAAO,MAAM;MACX,IAAIe,EAAE;MACN,OAAO,CAACA,EAAE,GAAGD,KAAK,CAACE,OAAO,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,IAAI,CAACH,KAAK,CAAC;IACjF,CAAC;EACH;AACF,CAAC,CAAC;AACF,OAAO,MAAMI,oBAAoB,GAAGnD,aAAa,CAAC,CAAC,CAAC,CAAC;AACrD,OAAO,MAAMoD,YAAY,GAAGtD,eAAe,CAAC;EAC1C6B,IAAI,EAAE,cAAc;EACpBiB,KAAKA,CAACC,CAAC,EAAEQ,KAAK,EAAE;IACd,IAAI;MACFN;IACF,CAAC,GAAGM,KAAK;IACTF,oBAAoB,CAACG,UAAU,CAAC,CAAC,CAAC,CAAC;IACnC,OAAO,MAAM;MACX,IAAIN,EAAE;MACN,OAAO,CAACA,EAAE,GAAGD,KAAK,CAACE,OAAO,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,IAAI,CAACH,KAAK,CAAC;IACjF,CAAC;EACH;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}