{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { provide, defineComponent, unref, inject, watch, shallowRef } from 'vue';\nimport CacheEntity from './Cache';\nimport { arrayType, booleanType, objectType, someType, stringType, withInstall } from '../type';\nimport initDefaultProps from '../props-util/initDefaultProps';\nexport const ATTR_TOKEN = 'data-token-hash';\nexport const ATTR_MARK = 'data-css-hash';\nexport const ATTR_DEV_CACHE_PATH = 'data-dev-cache-path';\n// Mark css-in-js instance in style element\nexport const CSS_IN_JS_INSTANCE = '__cssinjs_instance__';\nexport const CSS_IN_JS_INSTANCE_ID = Math.random().toString(12).slice(2);\nexport function createCache() {\n  if (typeof document !== 'undefined' && document.head && document.body) {\n    const styles = document.body.querySelectorAll(`style[${ATTR_MARK}]`) || [];\n    const {\n      firstChild\n    } = document.head;\n    Array.from(styles).forEach(style => {\n      style[CSS_IN_JS_INSTANCE] = style[CSS_IN_JS_INSTANCE] || CSS_IN_JS_INSTANCE_ID;\n      // Not force move if no head\n      document.head.insertBefore(style, firstChild);\n    });\n    // Deduplicate of moved styles\n    const styleHash = {};\n    Array.from(document.querySelectorAll(`style[${ATTR_MARK}]`)).forEach(style => {\n      var _a;\n      const hash = style.getAttribute(ATTR_MARK);\n      if (styleHash[hash]) {\n        if (style[CSS_IN_JS_INSTANCE] === CSS_IN_JS_INSTANCE_ID) {\n          (_a = style.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(style);\n        }\n      } else {\n        styleHash[hash] = true;\n      }\n    });\n  }\n  return new CacheEntity();\n}\nconst StyleContextKey = Symbol('StyleContextKey');\nconst defaultStyleContext = {\n  cache: createCache(),\n  defaultCache: true,\n  hashPriority: 'low'\n};\nexport const useStyleInject = () => {\n  return inject(StyleContextKey, shallowRef(_extends({}, defaultStyleContext)));\n};\nexport const useStyleProvider = props => {\n  const parentContext = useStyleInject();\n  const context = shallowRef(_extends({}, defaultStyleContext));\n  watch([props, parentContext], () => {\n    const mergedContext = _extends({}, parentContext.value);\n    const propsValue = unref(props);\n    Object.keys(propsValue).forEach(key => {\n      const value = propsValue[key];\n      if (propsValue[key] !== undefined) {\n        mergedContext[key] = value;\n      }\n    });\n    const {\n      cache\n    } = propsValue;\n    mergedContext.cache = mergedContext.cache || createCache();\n    mergedContext.defaultCache = !cache && parentContext.value.defaultCache;\n    context.value = mergedContext;\n  }, {\n    immediate: true\n  });\n  provide(StyleContextKey, context);\n  return context;\n};\nexport const styleProviderProps = () => ({\n  autoClear: booleanType(),\n  /** @private Test only. Not work in production. */\n  mock: stringType(),\n  /**\n   * Only set when you need ssr to extract style on you own.\n   * If not provided, it will auto create <style /> on the end of Provider in server side.\n   */\n  cache: objectType(),\n  /** Tell children that this context is default generated context */\n  defaultCache: booleanType(),\n  /** Use `:where` selector to reduce hashId css selector priority */\n  hashPriority: stringType(),\n  /** Tell cssinjs where to inject style in */\n  container: someType(),\n  /** Component wil render inline  `<style />` for fallback in SSR. Not recommend. */\n  ssrInline: booleanType(),\n  /** Transform css before inject in document. Please note that `transformers` do not support dynamic update */\n  transformers: arrayType(),\n  /**\n   * Linters to lint css before inject in document.\n   * Styles will be linted after transforming.\n   * Please note that `linters` do not support dynamic update.\n   */\n  linters: arrayType()\n});\nexport const StyleProvider = withInstall(defineComponent({\n  name: 'AStyleProvider',\n  inheritAttrs: false,\n  props: initDefaultProps(styleProviderProps(), defaultStyleContext),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useStyleProvider(props);\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n}));\nexport default {\n  useStyleInject,\n  useStyleProvider,\n  StyleProvider\n};","map":{"version":3,"names":["_extends","provide","defineComponent","unref","inject","watch","shallowRef","CacheEntity","arrayType","booleanType","objectType","someType","stringType","withInstall","initDefaultProps","ATTR_TOKEN","ATTR_MARK","ATTR_DEV_CACHE_PATH","CSS_IN_JS_INSTANCE","CSS_IN_JS_INSTANCE_ID","Math","random","toString","slice","createCache","document","head","body","styles","querySelectorAll","firstChild","Array","from","forEach","style","insertBefore","styleHash","_a","hash","getAttribute","parentNode","removeChild","StyleContextKey","Symbol","defaultStyleContext","cache","defaultCache","hashPriority","useStyleInject","useStyleProvider","props","parentContext","context","mergedContext","value","propsValue","Object","keys","key","undefined","immediate","styleProviderProps","autoClear","mock","container","ssrInline","transformers","linters","StyleProvider","name","inheritAttrs","setup","_ref","slots","default","call"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/_util/cssinjs/StyleContext.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { provide, defineComponent, unref, inject, watch, shallowRef } from 'vue';\nimport CacheEntity from './Cache';\nimport { arrayType, booleanType, objectType, someType, stringType, withInstall } from '../type';\nimport initDefaultProps from '../props-util/initDefaultProps';\nexport const ATTR_TOKEN = 'data-token-hash';\nexport const ATTR_MARK = 'data-css-hash';\nexport const ATTR_DEV_CACHE_PATH = 'data-dev-cache-path';\n// Mark css-in-js instance in style element\nexport const CSS_IN_JS_INSTANCE = '__cssinjs_instance__';\nexport const CSS_IN_JS_INSTANCE_ID = Math.random().toString(12).slice(2);\nexport function createCache() {\n  if (typeof document !== 'undefined' && document.head && document.body) {\n    const styles = document.body.querySelectorAll(`style[${ATTR_MARK}]`) || [];\n    const {\n      firstChild\n    } = document.head;\n    Array.from(styles).forEach(style => {\n      style[CSS_IN_JS_INSTANCE] = style[CSS_IN_JS_INSTANCE] || CSS_IN_JS_INSTANCE_ID;\n      // Not force move if no head\n      document.head.insertBefore(style, firstChild);\n    });\n    // Deduplicate of moved styles\n    const styleHash = {};\n    Array.from(document.querySelectorAll(`style[${ATTR_MARK}]`)).forEach(style => {\n      var _a;\n      const hash = style.getAttribute(ATTR_MARK);\n      if (styleHash[hash]) {\n        if (style[CSS_IN_JS_INSTANCE] === CSS_IN_JS_INSTANCE_ID) {\n          (_a = style.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(style);\n        }\n      } else {\n        styleHash[hash] = true;\n      }\n    });\n  }\n  return new CacheEntity();\n}\nconst StyleContextKey = Symbol('StyleContextKey');\nconst defaultStyleContext = {\n  cache: createCache(),\n  defaultCache: true,\n  hashPriority: 'low'\n};\nexport const useStyleInject = () => {\n  return inject(StyleContextKey, shallowRef(_extends({}, defaultStyleContext)));\n};\nexport const useStyleProvider = props => {\n  const parentContext = useStyleInject();\n  const context = shallowRef(_extends({}, defaultStyleContext));\n  watch([props, parentContext], () => {\n    const mergedContext = _extends({}, parentContext.value);\n    const propsValue = unref(props);\n    Object.keys(propsValue).forEach(key => {\n      const value = propsValue[key];\n      if (propsValue[key] !== undefined) {\n        mergedContext[key] = value;\n      }\n    });\n    const {\n      cache\n    } = propsValue;\n    mergedContext.cache = mergedContext.cache || createCache();\n    mergedContext.defaultCache = !cache && parentContext.value.defaultCache;\n    context.value = mergedContext;\n  }, {\n    immediate: true\n  });\n  provide(StyleContextKey, context);\n  return context;\n};\nexport const styleProviderProps = () => ({\n  autoClear: booleanType(),\n  /** @private Test only. Not work in production. */\n  mock: stringType(),\n  /**\n   * Only set when you need ssr to extract style on you own.\n   * If not provided, it will auto create <style /> on the end of Provider in server side.\n   */\n  cache: objectType(),\n  /** Tell children that this context is default generated context */\n  defaultCache: booleanType(),\n  /** Use `:where` selector to reduce hashId css selector priority */\n  hashPriority: stringType(),\n  /** Tell cssinjs where to inject style in */\n  container: someType(),\n  /** Component wil render inline  `<style />` for fallback in SSR. Not recommend. */\n  ssrInline: booleanType(),\n  /** Transform css before inject in document. Please note that `transformers` do not support dynamic update */\n  transformers: arrayType(),\n  /**\n   * Linters to lint css before inject in document.\n   * Styles will be linted after transforming.\n   * Please note that `linters` do not support dynamic update.\n   */\n  linters: arrayType()\n});\nexport const StyleProvider = withInstall(defineComponent({\n  name: 'AStyleProvider',\n  inheritAttrs: false,\n  props: initDefaultProps(styleProviderProps(), defaultStyleContext),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useStyleProvider(props);\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n}));\nexport default {\n  useStyleInject,\n  useStyleProvider,\n  StyleProvider\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}