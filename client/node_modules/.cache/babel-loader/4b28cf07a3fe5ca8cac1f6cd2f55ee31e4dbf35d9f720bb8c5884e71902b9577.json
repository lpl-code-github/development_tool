{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { shallowRef, toRaw, onMounted, onUpdated, defineComponent, watchEffect, computed, nextTick, onBeforeUnmount, reactive, watch } from 'vue';\nimport Filler from './Filler';\nimport Item from './Item';\nimport ScrollBar from './ScrollBar';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport PropTypes from '../_util/vue-types';\nimport classNames from '../_util/classNames';\nimport supportsPassive from '../_util/supportsPassive';\nconst EMPTY_DATA = [];\nconst ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\nfunction renderChildren(list, startIndex, endIndex, setNodeRef, renderFunc, _ref) {\n  let {\n    getKey\n  } = _ref;\n  return list.slice(startIndex, endIndex + 1).map((item, index) => {\n    const eleIndex = startIndex + index;\n    const node = renderFunc(item, eleIndex, {\n      // style: status === 'MEASURE_START' ? { visibility: 'hidden' } : {},\n    });\n    const key = getKey(item);\n    return _createVNode(Item, {\n      \"key\": key,\n      \"setRef\": ele => setNodeRef(item, ele)\n    }, {\n      default: () => [node]\n    });\n  });\n}\nconst List = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'List',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    data: PropTypes.array,\n    height: Number,\n    itemHeight: Number,\n    /** If not match virtual scroll condition, Set List still use height of container. */\n    fullHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    itemKey: {\n      type: [String, Number, Function],\n      required: true\n    },\n    component: {\n      type: [String, Object]\n    },\n    /** Set `false` will always use real scroll instead of virtual one */\n    virtual: {\n      type: Boolean,\n      default: undefined\n    },\n    children: Function,\n    onScroll: Function,\n    onMousedown: Function,\n    onMouseenter: Function,\n    onVisibleChange: Function\n  },\n  setup(props, _ref2) {\n    let {\n      expose\n    } = _ref2;\n    // ================================= MISC =================================\n    const useVirtual = computed(() => {\n      const {\n        height,\n        itemHeight,\n        virtual\n      } = props;\n      return !!(virtual !== false && height && itemHeight);\n    });\n    const inVirtual = computed(() => {\n      const {\n        height,\n        itemHeight,\n        data\n      } = props;\n      return useVirtual.value && data && itemHeight * data.length > height;\n    });\n    const state = reactive({\n      scrollTop: 0,\n      scrollMoving: false\n    });\n    const data = computed(() => {\n      return props.data || EMPTY_DATA;\n    });\n    const mergedData = shallowRef([]);\n    watch(data, () => {\n      mergedData.value = toRaw(data.value).slice();\n    }, {\n      immediate: true\n    });\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const itemKey = shallowRef(_item => undefined);\n    watch(() => props.itemKey, val => {\n      if (typeof val === 'function') {\n        itemKey.value = val;\n      } else {\n        itemKey.value = item => item === null || item === void 0 ? void 0 : item[val];\n      }\n    }, {\n      immediate: true\n    });\n    const componentRef = shallowRef();\n    const fillerInnerRef = shallowRef();\n    const scrollBarRef = shallowRef(); // Hack on scrollbar to enable flash call\n    // =============================== Item Key ===============================\n    const getKey = item => {\n      return itemKey.value(item);\n    };\n    const sharedConfig = {\n      getKey\n    };\n    // ================================ Scroll ================================\n    function syncScrollTop(newTop) {\n      let value;\n      if (typeof newTop === 'function') {\n        value = newTop(state.scrollTop);\n      } else {\n        value = newTop;\n      }\n      const alignedTop = keepInRange(value);\n      if (componentRef.value) {\n        componentRef.value.scrollTop = alignedTop;\n      }\n      state.scrollTop = alignedTop;\n    }\n    // ================================ Height ================================\n    const [setInstance, collectHeight, heights, updatedMark] = useHeights(mergedData, getKey, null, null);\n    const calRes = reactive({\n      scrollHeight: undefined,\n      start: 0,\n      end: 0,\n      offset: undefined\n    });\n    const offsetHeight = shallowRef(0);\n    onMounted(() => {\n      nextTick(() => {\n        var _a;\n        offsetHeight.value = ((_a = fillerInnerRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n      });\n    });\n    onUpdated(() => {\n      nextTick(() => {\n        var _a;\n        offsetHeight.value = ((_a = fillerInnerRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n      });\n    });\n    watch([useVirtual, mergedData], () => {\n      if (!useVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([useVirtual, mergedData, offsetHeight, inVirtual], () => {\n      // Always use virtual scroll bar in avoid shaking\n      if (useVirtual.value && !inVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: offsetHeight.value,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n      if (componentRef.value) {\n        state.scrollTop = componentRef.value.scrollTop;\n      }\n    }, {\n      immediate: true\n    });\n    watch([inVirtual, useVirtual, () => state.scrollTop, mergedData, updatedMark, () => props.height, offsetHeight], () => {\n      if (!useVirtual.value || !inVirtual.value) {\n        return;\n      }\n      let itemTop = 0;\n      let startIndex;\n      let startOffset;\n      let endIndex;\n      const dataLen = mergedData.value.length;\n      const data = mergedData.value;\n      const scrollTop = state.scrollTop;\n      const {\n        itemHeight,\n        height\n      } = props;\n      const scrollTopHeight = scrollTop + height;\n      for (let i = 0; i < dataLen; i += 1) {\n        const item = data[i];\n        const key = getKey(item);\n        let cacheHeight = heights.get(key);\n        if (cacheHeight === undefined) {\n          cacheHeight = itemHeight;\n        }\n        const currentItemBottom = itemTop + cacheHeight;\n        if (startIndex === undefined && currentItemBottom >= scrollTop) {\n          startIndex = i;\n          startOffset = itemTop;\n        }\n        // Check item bottom in the range. We will render additional one item for motion usage\n        if (endIndex === undefined && currentItemBottom > scrollTopHeight) {\n          endIndex = i;\n        }\n        itemTop = currentItemBottom;\n      }\n      // When scrollTop at the end but data cut to small count will reach this\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n        endIndex = Math.ceil(height / itemHeight);\n      }\n      if (endIndex === undefined) {\n        endIndex = dataLen - 1;\n      }\n      // Give cache to improve scroll experience\n      endIndex = Math.min(endIndex + 1, dataLen);\n      _extends(calRes, {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      });\n    }, {\n      immediate: true\n    });\n    // =============================== In Range ===============================\n    const maxScrollHeight = computed(() => calRes.scrollHeight - props.height);\n    function keepInRange(newScrollTop) {\n      let newTop = newScrollTop;\n      if (!Number.isNaN(maxScrollHeight.value)) {\n        newTop = Math.min(newTop, maxScrollHeight.value);\n      }\n      newTop = Math.max(newTop, 0);\n      return newTop;\n    }\n    const isScrollAtTop = computed(() => state.scrollTop <= 0);\n    const isScrollAtBottom = computed(() => state.scrollTop >= maxScrollHeight.value);\n    const originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n    // ================================ Scroll ================================\n    function onScrollBar(newScrollTop) {\n      const newTop = newScrollTop;\n      syncScrollTop(newTop);\n    }\n    // When data size reduce. It may trigger native scroll event back to fit scroll position\n    function onFallbackScroll(e) {\n      var _a;\n      const {\n        scrollTop: newScrollTop\n      } = e.currentTarget;\n      if (newScrollTop !== state.scrollTop) {\n        syncScrollTop(newScrollTop);\n      }\n      // Trigger origin onScroll\n      (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    // Since this added in global,should use ref to keep update\n    const [onRawWheel, onFireFoxScroll] = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, offsetY => {\n      syncScrollTop(top => {\n        const newTop = top + offsetY;\n        return newTop;\n      });\n    });\n    // Mobile touch move\n    useMobileTouchMove(useVirtual, componentRef, (deltaY, smoothOffset) => {\n      if (originScroll(deltaY, smoothOffset)) {\n        return false;\n      }\n      onRawWheel({\n        preventDefault() {},\n        deltaY\n      });\n      return true;\n    });\n    // Firefox only\n    function onMozMousePixelScroll(e) {\n      if (useVirtual.value) {\n        e.preventDefault();\n      }\n    }\n    const removeEventListener = () => {\n      if (componentRef.value) {\n        componentRef.value.removeEventListener('wheel', onRawWheel, supportsPassive ? {\n          passive: false\n        } : false);\n        componentRef.value.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.value.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n    watchEffect(() => {\n      nextTick(() => {\n        if (componentRef.value) {\n          removeEventListener();\n          componentRef.value.addEventListener('wheel', onRawWheel, supportsPassive ? {\n            passive: false\n          } : false);\n          componentRef.value.addEventListener('DOMMouseScroll', onFireFoxScroll);\n          componentRef.value.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n        }\n      });\n    });\n    onBeforeUnmount(() => {\n      removeEventListener();\n    });\n    // ================================= Ref ==================================\n    const scrollTo = useScrollTo(componentRef, mergedData, heights, props, getKey, collectHeight, syncScrollTop, () => {\n      var _a;\n      (_a = scrollBarRef.value) === null || _a === void 0 ? void 0 : _a.delayHidden();\n    });\n    expose({\n      scrollTo\n    });\n    const componentStyle = computed(() => {\n      let cs = null;\n      if (props.height) {\n        cs = _extends({\n          [props.fullHeight ? 'height' : 'maxHeight']: props.height + 'px'\n        }, ScrollStyle);\n        if (useVirtual.value) {\n          cs.overflowY = 'hidden';\n          if (state.scrollMoving) {\n            cs.pointerEvents = 'none';\n          }\n        }\n      }\n      return cs;\n    });\n    // ================================ Effect ================================\n    /** We need told outside that some list not rendered */\n    watch([() => calRes.start, () => calRes.end, mergedData], () => {\n      if (props.onVisibleChange) {\n        const renderList = mergedData.value.slice(calRes.start, calRes.end + 1);\n        props.onVisibleChange(renderList, mergedData.value);\n      }\n    }, {\n      flush: 'post'\n    });\n    return {\n      state,\n      mergedData,\n      componentStyle,\n      onFallbackScroll,\n      onScrollBar,\n      componentRef,\n      useVirtual,\n      calRes,\n      collectHeight,\n      setInstance,\n      sharedConfig,\n      scrollBarRef,\n      fillerInnerRef\n    };\n  },\n  render() {\n    const _a = _extends(_extends({}, this.$props), this.$attrs),\n      {\n        prefixCls = 'rc-virtual-list',\n        height,\n        itemHeight,\n        // eslint-disable-next-line no-unused-vars\n        fullHeight,\n        data,\n        itemKey,\n        virtual,\n        component: Component = 'div',\n        onScroll,\n        children = this.$slots.default,\n        style,\n        class: className\n      } = _a,\n      restProps = __rest(_a, [\"prefixCls\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"itemKey\", \"virtual\", \"component\", \"onScroll\", \"children\", \"style\", \"class\"]);\n    const mergedClassName = classNames(prefixCls, className);\n    const {\n      scrollTop\n    } = this.state;\n    const {\n      scrollHeight,\n      offset,\n      start,\n      end\n    } = this.calRes;\n    const {\n      componentStyle,\n      onFallbackScroll,\n      onScrollBar,\n      useVirtual,\n      collectHeight,\n      sharedConfig,\n      setInstance,\n      mergedData\n    } = this;\n    return _createVNode(\"div\", _objectSpread({\n      \"style\": _extends(_extends({}, style), {\n        position: 'relative'\n      }),\n      \"class\": mergedClassName\n    }, restProps), [_createVNode(Component, {\n      \"class\": `${prefixCls}-holder`,\n      \"style\": componentStyle,\n      \"ref\": \"componentRef\",\n      \"onScroll\": onFallbackScroll\n    }, {\n      default: () => [_createVNode(Filler, {\n        \"prefixCls\": prefixCls,\n        \"height\": scrollHeight,\n        \"offset\": offset,\n        \"onInnerResize\": collectHeight,\n        \"ref\": \"fillerInnerRef\"\n      }, {\n        default: () => renderChildren(mergedData, start, end, setInstance, children, sharedConfig)\n      })]\n    }), useVirtual && _createVNode(ScrollBar, {\n      \"ref\": \"scrollBarRef\",\n      \"prefixCls\": prefixCls,\n      \"scrollTop\": scrollTop,\n      \"height\": height,\n      \"scrollHeight\": scrollHeight,\n      \"count\": mergedData.length,\n      \"onScroll\": onScrollBar,\n      \"onStartMove\": () => {\n        this.state.scrollMoving = true;\n      },\n      \"onStopMove\": () => {\n        this.state.scrollMoving = false;\n      }\n    }, null)]);\n  }\n});\nexport default List;","map":{"version":3,"names":["_objectSpread","_extends","resolveDirective","_resolveDirective","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","shallowRef","toRaw","onMounted","onUpdated","defineComponent","watchEffect","computed","nextTick","onBeforeUnmount","reactive","watch","Filler","Item","ScrollBar","useHeights","useScrollTo","useFrameWheel","useMobileTouchMove","useOriginScroll","PropTypes","classNames","supportsPassive","EMPTY_DATA","ScrollStyle","overflowY","overflowAnchor","renderChildren","list","startIndex","endIndex","setNodeRef","renderFunc","_ref","getKey","slice","map","item","index","eleIndex","node","key","ele","default","List","compatConfig","MODE","name","inheritAttrs","props","prefixCls","String","data","array","height","Number","itemHeight","fullHeight","type","Boolean","undefined","itemKey","Function","required","component","virtual","children","onScroll","onMousedown","onMouseenter","onVisibleChange","setup","_ref2","expose","useVirtual","inVirtual","value","state","scrollTop","scrollMoving","mergedData","immediate","_item","val","componentRef","fillerInnerRef","scrollBarRef","sharedConfig","syncScrollTop","newTop","alignedTop","keepInRange","setInstance","collectHeight","heights","updatedMark","calRes","scrollHeight","start","end","offset","offsetHeight","_a","itemTop","startOffset","dataLen","scrollTopHeight","cacheHeight","get","currentItemBottom","Math","ceil","min","maxScrollHeight","newScrollTop","isNaN","max","isScrollAtTop","isScrollAtBottom","originScroll","onScrollBar","onFallbackScroll","currentTarget","onRawWheel","onFireFoxScroll","offsetY","top","deltaY","smoothOffset","preventDefault","onMozMousePixelScroll","removeEventListener","passive","addEventListener","scrollTo","delayHidden","componentStyle","cs","pointerEvents","renderList","flush","render","$props","$attrs","Component","$slots","style","class","className","restProps","mergedClassName","position","onStartMove","onStopMove"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-virtual-list/List.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { shallowRef, toRaw, onMounted, onUpdated, defineComponent, watchEffect, computed, nextTick, onBeforeUnmount, reactive, watch } from 'vue';\nimport Filler from './Filler';\nimport Item from './Item';\nimport ScrollBar from './ScrollBar';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport PropTypes from '../_util/vue-types';\nimport classNames from '../_util/classNames';\nimport supportsPassive from '../_util/supportsPassive';\nconst EMPTY_DATA = [];\nconst ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\nfunction renderChildren(list, startIndex, endIndex, setNodeRef, renderFunc, _ref) {\n  let {\n    getKey\n  } = _ref;\n  return list.slice(startIndex, endIndex + 1).map((item, index) => {\n    const eleIndex = startIndex + index;\n    const node = renderFunc(item, eleIndex, {\n      // style: status === 'MEASURE_START' ? { visibility: 'hidden' } : {},\n    });\n    const key = getKey(item);\n    return _createVNode(Item, {\n      \"key\": key,\n      \"setRef\": ele => setNodeRef(item, ele)\n    }, {\n      default: () => [node]\n    });\n  });\n}\nconst List = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'List',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    data: PropTypes.array,\n    height: Number,\n    itemHeight: Number,\n    /** If not match virtual scroll condition, Set List still use height of container. */\n    fullHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    itemKey: {\n      type: [String, Number, Function],\n      required: true\n    },\n    component: {\n      type: [String, Object]\n    },\n    /** Set `false` will always use real scroll instead of virtual one */\n    virtual: {\n      type: Boolean,\n      default: undefined\n    },\n    children: Function,\n    onScroll: Function,\n    onMousedown: Function,\n    onMouseenter: Function,\n    onVisibleChange: Function\n  },\n  setup(props, _ref2) {\n    let {\n      expose\n    } = _ref2;\n    // ================================= MISC =================================\n    const useVirtual = computed(() => {\n      const {\n        height,\n        itemHeight,\n        virtual\n      } = props;\n      return !!(virtual !== false && height && itemHeight);\n    });\n    const inVirtual = computed(() => {\n      const {\n        height,\n        itemHeight,\n        data\n      } = props;\n      return useVirtual.value && data && itemHeight * data.length > height;\n    });\n    const state = reactive({\n      scrollTop: 0,\n      scrollMoving: false\n    });\n    const data = computed(() => {\n      return props.data || EMPTY_DATA;\n    });\n    const mergedData = shallowRef([]);\n    watch(data, () => {\n      mergedData.value = toRaw(data.value).slice();\n    }, {\n      immediate: true\n    });\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const itemKey = shallowRef(_item => undefined);\n    watch(() => props.itemKey, val => {\n      if (typeof val === 'function') {\n        itemKey.value = val;\n      } else {\n        itemKey.value = item => item === null || item === void 0 ? void 0 : item[val];\n      }\n    }, {\n      immediate: true\n    });\n    const componentRef = shallowRef();\n    const fillerInnerRef = shallowRef();\n    const scrollBarRef = shallowRef(); // Hack on scrollbar to enable flash call\n    // =============================== Item Key ===============================\n    const getKey = item => {\n      return itemKey.value(item);\n    };\n    const sharedConfig = {\n      getKey\n    };\n    // ================================ Scroll ================================\n    function syncScrollTop(newTop) {\n      let value;\n      if (typeof newTop === 'function') {\n        value = newTop(state.scrollTop);\n      } else {\n        value = newTop;\n      }\n      const alignedTop = keepInRange(value);\n      if (componentRef.value) {\n        componentRef.value.scrollTop = alignedTop;\n      }\n      state.scrollTop = alignedTop;\n    }\n    // ================================ Height ================================\n    const [setInstance, collectHeight, heights, updatedMark] = useHeights(mergedData, getKey, null, null);\n    const calRes = reactive({\n      scrollHeight: undefined,\n      start: 0,\n      end: 0,\n      offset: undefined\n    });\n    const offsetHeight = shallowRef(0);\n    onMounted(() => {\n      nextTick(() => {\n        var _a;\n        offsetHeight.value = ((_a = fillerInnerRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n      });\n    });\n    onUpdated(() => {\n      nextTick(() => {\n        var _a;\n        offsetHeight.value = ((_a = fillerInnerRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n      });\n    });\n    watch([useVirtual, mergedData], () => {\n      if (!useVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([useVirtual, mergedData, offsetHeight, inVirtual], () => {\n      // Always use virtual scroll bar in avoid shaking\n      if (useVirtual.value && !inVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: offsetHeight.value,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n      if (componentRef.value) {\n        state.scrollTop = componentRef.value.scrollTop;\n      }\n    }, {\n      immediate: true\n    });\n    watch([inVirtual, useVirtual, () => state.scrollTop, mergedData, updatedMark, () => props.height, offsetHeight], () => {\n      if (!useVirtual.value || !inVirtual.value) {\n        return;\n      }\n      let itemTop = 0;\n      let startIndex;\n      let startOffset;\n      let endIndex;\n      const dataLen = mergedData.value.length;\n      const data = mergedData.value;\n      const scrollTop = state.scrollTop;\n      const {\n        itemHeight,\n        height\n      } = props;\n      const scrollTopHeight = scrollTop + height;\n      for (let i = 0; i < dataLen; i += 1) {\n        const item = data[i];\n        const key = getKey(item);\n        let cacheHeight = heights.get(key);\n        if (cacheHeight === undefined) {\n          cacheHeight = itemHeight;\n        }\n        const currentItemBottom = itemTop + cacheHeight;\n        if (startIndex === undefined && currentItemBottom >= scrollTop) {\n          startIndex = i;\n          startOffset = itemTop;\n        }\n        // Check item bottom in the range. We will render additional one item for motion usage\n        if (endIndex === undefined && currentItemBottom > scrollTopHeight) {\n          endIndex = i;\n        }\n        itemTop = currentItemBottom;\n      }\n      // When scrollTop at the end but data cut to small count will reach this\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n        endIndex = Math.ceil(height / itemHeight);\n      }\n      if (endIndex === undefined) {\n        endIndex = dataLen - 1;\n      }\n      // Give cache to improve scroll experience\n      endIndex = Math.min(endIndex + 1, dataLen);\n      _extends(calRes, {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      });\n    }, {\n      immediate: true\n    });\n    // =============================== In Range ===============================\n    const maxScrollHeight = computed(() => calRes.scrollHeight - props.height);\n    function keepInRange(newScrollTop) {\n      let newTop = newScrollTop;\n      if (!Number.isNaN(maxScrollHeight.value)) {\n        newTop = Math.min(newTop, maxScrollHeight.value);\n      }\n      newTop = Math.max(newTop, 0);\n      return newTop;\n    }\n    const isScrollAtTop = computed(() => state.scrollTop <= 0);\n    const isScrollAtBottom = computed(() => state.scrollTop >= maxScrollHeight.value);\n    const originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n    // ================================ Scroll ================================\n    function onScrollBar(newScrollTop) {\n      const newTop = newScrollTop;\n      syncScrollTop(newTop);\n    }\n    // When data size reduce. It may trigger native scroll event back to fit scroll position\n    function onFallbackScroll(e) {\n      var _a;\n      const {\n        scrollTop: newScrollTop\n      } = e.currentTarget;\n      if (newScrollTop !== state.scrollTop) {\n        syncScrollTop(newScrollTop);\n      }\n      // Trigger origin onScroll\n      (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    // Since this added in global,should use ref to keep update\n    const [onRawWheel, onFireFoxScroll] = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, offsetY => {\n      syncScrollTop(top => {\n        const newTop = top + offsetY;\n        return newTop;\n      });\n    });\n    // Mobile touch move\n    useMobileTouchMove(useVirtual, componentRef, (deltaY, smoothOffset) => {\n      if (originScroll(deltaY, smoothOffset)) {\n        return false;\n      }\n      onRawWheel({\n        preventDefault() {},\n        deltaY\n      });\n      return true;\n    });\n    // Firefox only\n    function onMozMousePixelScroll(e) {\n      if (useVirtual.value) {\n        e.preventDefault();\n      }\n    }\n    const removeEventListener = () => {\n      if (componentRef.value) {\n        componentRef.value.removeEventListener('wheel', onRawWheel, supportsPassive ? {\n          passive: false\n        } : false);\n        componentRef.value.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.value.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n    watchEffect(() => {\n      nextTick(() => {\n        if (componentRef.value) {\n          removeEventListener();\n          componentRef.value.addEventListener('wheel', onRawWheel, supportsPassive ? {\n            passive: false\n          } : false);\n          componentRef.value.addEventListener('DOMMouseScroll', onFireFoxScroll);\n          componentRef.value.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n        }\n      });\n    });\n    onBeforeUnmount(() => {\n      removeEventListener();\n    });\n    // ================================= Ref ==================================\n    const scrollTo = useScrollTo(componentRef, mergedData, heights, props, getKey, collectHeight, syncScrollTop, () => {\n      var _a;\n      (_a = scrollBarRef.value) === null || _a === void 0 ? void 0 : _a.delayHidden();\n    });\n    expose({\n      scrollTo\n    });\n    const componentStyle = computed(() => {\n      let cs = null;\n      if (props.height) {\n        cs = _extends({\n          [props.fullHeight ? 'height' : 'maxHeight']: props.height + 'px'\n        }, ScrollStyle);\n        if (useVirtual.value) {\n          cs.overflowY = 'hidden';\n          if (state.scrollMoving) {\n            cs.pointerEvents = 'none';\n          }\n        }\n      }\n      return cs;\n    });\n    // ================================ Effect ================================\n    /** We need told outside that some list not rendered */\n    watch([() => calRes.start, () => calRes.end, mergedData], () => {\n      if (props.onVisibleChange) {\n        const renderList = mergedData.value.slice(calRes.start, calRes.end + 1);\n        props.onVisibleChange(renderList, mergedData.value);\n      }\n    }, {\n      flush: 'post'\n    });\n    return {\n      state,\n      mergedData,\n      componentStyle,\n      onFallbackScroll,\n      onScrollBar,\n      componentRef,\n      useVirtual,\n      calRes,\n      collectHeight,\n      setInstance,\n      sharedConfig,\n      scrollBarRef,\n      fillerInnerRef\n    };\n  },\n  render() {\n    const _a = _extends(_extends({}, this.$props), this.$attrs),\n      {\n        prefixCls = 'rc-virtual-list',\n        height,\n        itemHeight,\n        // eslint-disable-next-line no-unused-vars\n        fullHeight,\n        data,\n        itemKey,\n        virtual,\n        component: Component = 'div',\n        onScroll,\n        children = this.$slots.default,\n        style,\n        class: className\n      } = _a,\n      restProps = __rest(_a, [\"prefixCls\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"itemKey\", \"virtual\", \"component\", \"onScroll\", \"children\", \"style\", \"class\"]);\n    const mergedClassName = classNames(prefixCls, className);\n    const {\n      scrollTop\n    } = this.state;\n    const {\n      scrollHeight,\n      offset,\n      start,\n      end\n    } = this.calRes;\n    const {\n      componentStyle,\n      onFallbackScroll,\n      onScrollBar,\n      useVirtual,\n      collectHeight,\n      sharedConfig,\n      setInstance,\n      mergedData\n    } = this;\n    return _createVNode(\"div\", _objectSpread({\n      \"style\": _extends(_extends({}, style), {\n        position: 'relative'\n      }),\n      \"class\": mergedClassName\n    }, restProps), [_createVNode(Component, {\n      \"class\": `${prefixCls}-holder`,\n      \"style\": componentStyle,\n      \"ref\": \"componentRef\",\n      \"onScroll\": onFallbackScroll\n    }, {\n      default: () => [_createVNode(Filler, {\n        \"prefixCls\": prefixCls,\n        \"height\": scrollHeight,\n        \"offset\": offset,\n        \"onInnerResize\": collectHeight,\n        \"ref\": \"fillerInnerRef\"\n      }, {\n        default: () => renderChildren(mergedData, start, end, setInstance, children, sharedConfig)\n      })]\n    }), useVirtual && _createVNode(ScrollBar, {\n      \"ref\": \"scrollBarRef\",\n      \"prefixCls\": prefixCls,\n      \"scrollTop\": scrollTop,\n      \"height\": height,\n      \"scrollHeight\": scrollHeight,\n      \"count\": mergedData.length,\n      \"onScroll\": onScrollBar,\n      \"onStartMove\": () => {\n        this.state.scrollMoving = true;\n      },\n      \"onStopMove\": () => {\n        this.state.scrollMoving = false;\n      }\n    }, null)]);\n  }\n});\nexport default List;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}