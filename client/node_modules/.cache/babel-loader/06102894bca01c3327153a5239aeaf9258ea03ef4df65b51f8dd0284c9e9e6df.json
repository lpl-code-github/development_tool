{"ast":null,"code":"export default {\n  name: \"SwitchComponent\",\n  props: {\n    flag: {\n      type: Boolean,\n      required: true\n    },\n    tooltipText: {\n      type: String,\n      required: true\n    },\n    switchText: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      checked: false\n    };\n  },\n  watch: {\n    flag: {\n      handler: function (newVal, oldVal) {\n        console.log(newVal);\n        this.checked = newVal;\n      },\n      // 深度观察监听\n      deep: true\n    }\n  },\n  created() {\n    this.checked = this.flag;\n  },\n  methods: {\n    handleSwitch() {\n      var checked = this.flag;\n      this.$request.switchApi(this.type, checked).then(res => {\n        if (res.status !== 200) {\n          this.flag = !checked;\n        } else {\n          var status = checked ? \"已打开\" : \"已关闭\";\n          if (res.data.data.handle) {\n            this.$message.success(this.switchText + '操作成功：' + status, 3);\n          } else {\n            this.$message.error(this.switchText + '操作失败：' + status, 3);\n          }\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","props","flag","type","Boolean","required","tooltipText","String","switchText","data","loading","checked","watch","handler","newVal","oldVal","console","log","deep","created","methods","handleSwitch","$request","switchApi","then","res","status","handle","$message","success","error"],"sources":["src/components/switch/SwitchComponent.vue"],"sourcesContent":["<template>\n  <div class=\"my-switch\">\n    <a-tooltip placement=\"left\">\n      <template slot=\"title\">\n        {{ tooltipText }}\n      </template>\n      {{ switchText }}\n    </a-tooltip>\n    <a-switch v-model=\"checked\" @click=\"handleSwitch\">\n      <a-icon slot=\"checkedChildren\" type=\"check\" />\n      <a-icon slot=\"unCheckedChildren\" type=\"close\" />\n    </a-switch>\n    <br />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SwitchComponent\",\n  props: {\n    flag: {\n      type: Boolean,\n      required: true\n    },\n    tooltipText: {\n      type: String,\n      required: true\n    },\n    switchText: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      checked: false\n    };\n  },\n  watch:{\n    flag:{\n      handler: function (newVal, oldVal) {\n        console.log(newVal)\n        this.checked = newVal\n      },\n      // 深度观察监听\n      deep: true\n    },\n  },\n  created() {\n    this.checked = this.flag\n  },\n  methods: {\n    handleSwitch() {\n      var checked = this.flag;\n      this.$request.switchApi(this.type, checked).then(res => {\n        if (res.status !== 200) {\n          this.flag = !checked;\n        }else {\n          var status = checked ? \"已打开\" : \"已关闭\"\n          if (res.data.data.handle){\n            this.$message.success(this.switchText+'操作成功：' + status, 3)\n          }else {\n            this.$message.error(this.switchText+'操作失败：' + status, 3)\n          }\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"AAiBA;EACAA,IAAA;EACAC,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,QAAA;IACA;IACAC,WAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;IACAG,UAAA;MACAL,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;IACAF,IAAA;MACAA,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;EACA;EACAI,KAAA;IACA;MACAC,OAAA;MACAC,OAAA;IACA;EACA;EACAC,KAAA;IACAV,IAAA;MACAW,OAAA,WAAAA,CAAAC,MAAA,EAAAC,MAAA;QACAC,OAAA,CAAAC,GAAA,CAAAH,MAAA;QACA,KAAAH,OAAA,GAAAG,MAAA;MACA;MACA;MACAI,IAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAR,OAAA,QAAAT,IAAA;EACA;EACAkB,OAAA;IACAC,aAAA;MACA,IAAAV,OAAA,QAAAT,IAAA;MACA,KAAAoB,QAAA,CAAAC,SAAA,MAAApB,IAAA,EAAAQ,OAAA,EAAAa,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,MAAA;UACA,KAAAxB,IAAA,IAAAS,OAAA;QACA;UACA,IAAAe,MAAA,GAAAf,OAAA;UACA,IAAAc,GAAA,CAAAhB,IAAA,CAAAA,IAAA,CAAAkB,MAAA;YACA,KAAAC,QAAA,CAAAC,OAAA,MAAArB,UAAA,aAAAkB,MAAA;UACA;YACA,KAAAE,QAAA,CAAAE,KAAA,MAAAtB,UAAA,aAAAkB,MAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}