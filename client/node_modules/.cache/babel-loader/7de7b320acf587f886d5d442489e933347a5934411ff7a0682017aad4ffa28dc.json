{"ast":null,"code":"var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"my-script\"\n  }, [_c('AddScript', {\n    attrs: {\n      \"open-flag\": _vm.openAddScriptModel,\n      \"filter-option\": _vm.allTags\n    },\n    on: {\n      \"updateModelStatus\": _vm.getAddScriptModelStatus,\n      \"submit\": _vm.updateTable\n    }\n  }), _c('AddTag', {\n    attrs: {\n      \"open-flag\": _vm.openAddTagModel\n    },\n    on: {\n      \"updateModelStatus\": _vm.getAddTagModelStatus,\n      \"submit\": _vm.updateTags\n    }\n  }), _c('div', {\n    staticClass: \"my-s-button\"\n  }, [_c('a-input-search', {\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"placeholder\": \"输入脚本名或描述搜索\"\n    },\n    on: {\n      \"search\": _vm.onSearch\n    }\n  }), _c('a-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.addScript\n    }\n  }, [_vm._v(\" 添加 \")])], 1), _c('div', {\n    staticClass: \"my-s-table\"\n  }, [_c('a-table', {\n    attrs: {\n      \"columns\": _vm.columns,\n      \"data-source\": _vm.tableData,\n      \"expandedRowKeys\": _vm.expandedRowKeys,\n      \"pagination\": _vm.paginationConfig\n    },\n    on: {\n      \"expandedRowsChange\": _vm.handleExpandedRowsChange,\n      \"change\": _vm.handleChange\n    },\n    scopedSlots: _vm._u([_vm._l(['name', 'description'], function (col) {\n      return {\n        key: col,\n        fn: function (text, record, index) {\n          return [_c('div', {\n            key: col\n          }, [record.editable ? _c('a-input', {\n            staticStyle: {\n              \"margin\": \"-5px 0\"\n            },\n            attrs: {\n              \"type\": col === 'description' ? 'textarea' : '',\n              \"rows\": \"1\",\n              \"value\": text\n            },\n            on: {\n              \"change\": e => _vm.handleChangeEdit(e.target.value, record.key, col)\n            }\n          }) : [_vm._v(\" \" + _vm._s(text === \"\" || text === null ? \"/\" : text) + \" \")]], 2)];\n        }\n      };\n    }), {\n      key: \"tags\",\n      fn: function (tags, record) {\n        return _c('span', {}, [_vm._l(tags, function (t, index) {\n          return _c('a-tag', {\n            key: index,\n            attrs: {\n              \"closable\": record.editable,\n              \"color\": t.color\n            },\n            on: {\n              \"close\": function ($event) {\n                return _vm.removeTagItem(t.id, record.key, $event);\n              }\n            }\n          }, [_vm._v(\" \" + _vm._s(t.name) + \" \")]);\n        }), record.editable ? _c('a-select', {\n          staticStyle: {\n            \"width\": \"100px\",\n            \"border\": \"1px\"\n          },\n          attrs: {\n            \"size\": \"small\",\n            \"show-search\": \"\",\n            \"option-filter-prop\": \"children\",\n            \"filter-option\": _vm.filterOption,\n            \"dropdownMatchSelectWidth\": false,\n            \"value\": _vm.selectedTagsItems\n          },\n          on: {\n            \"select\": _vm.handleEditModeSelectTag\n          },\n          scopedSlots: _vm._u([{\n            key: \"dropdownRender\",\n            fn: function (menu) {\n              return _c('div', {}, [_c('v-nodes', {\n                attrs: {\n                  \"vnodes\": menu\n                }\n              }), _c('a-divider', {\n                staticStyle: {\n                  \"margin\": \"4px 0\"\n                }\n              }), _c('div', {\n                staticStyle: {\n                  \"padding\": \"4px 8px\",\n                  \"cursor\": \"pointer\"\n                },\n                on: {\n                  \"mousedown\": e => e.preventDefault(),\n                  \"click\": _vm.addTags\n                }\n              }, [_c('a-icon', {\n                attrs: {\n                  \"type\": \"plus\"\n                }\n              }), _vm._v(\" 添加新的标签 \")], 1)], 1);\n            }\n          }], null, true)\n        }, _vm._l(_vm.tmpTags, function (item, index) {\n          return _c('a-select-option', {\n            key: index,\n            attrs: {\n              \"value\": item.id\n            }\n          }, [_c('div', {\n            staticClass: \"color-box\",\n            style: {\n              'background-color': item.color\n            }\n          }), _vm._v(\" \" + _vm._s(item.name) + \" \")]);\n        }), 1) : _vm._e(), tags !== null && tags.length === 0 && !record.editable ? _c('span', [_vm._v(\"/\")]) : _vm._e()], 2);\n      }\n    }, {\n      key: \"action\",\n      fn: function (text, record, index) {\n        return [_c('div', {\n          staticClass: \"editable-row-operations\"\n        }, [record.editable ? _c('span', [_c('a', {\n          staticStyle: {\n            \"color\": \"#5f92ef\"\n          },\n          on: {\n            \"click\": () => _vm.save(record.key)\n          }\n        }, [_vm._v(\"更新\")]), _c('a-divider', {\n          staticStyle: {\n            \"background-color\": \"#a8a7a7!important\"\n          },\n          attrs: {\n            \"type\": \"vertical\"\n          }\n        }), _c('a-popconfirm', {\n          attrs: {\n            \"title\": \"确定取消吗？\"\n          },\n          on: {\n            \"confirm\": () => _vm.cancel(record.key)\n          }\n        }, [_c('a', {\n          staticStyle: {\n            \"color\": \"#5f6062\"\n          }\n        }, [_vm._v(\"取消\")])])], 1) : _c('span', [_c('a', {\n          staticStyle: {\n            \"color\": \"#5f92ef\"\n          },\n          attrs: {\n            \"disabled\": _vm.editingKey !== ''\n          },\n          on: {\n            \"click\": () => _vm.edit(record.key)\n          }\n        }, [_vm._v(\"编辑\")]), _c('a-divider', {\n          staticStyle: {\n            \"background-color\": \"#a8a7a7!important\"\n          },\n          attrs: {\n            \"type\": \"vertical\"\n          }\n        }), _c('a', {\n          staticStyle: {\n            \"color\": \"#2c982c\"\n          },\n          on: {\n            \"click\": () => _vm.runScript(record.key)\n          }\n        }, [_vm._v(\"运行\")]), _c('a-divider', {\n          staticStyle: {\n            \"background-color\": \"#a8a7a7!important\"\n          },\n          attrs: {\n            \"type\": \"vertical\"\n          }\n        }), _c('a', {\n          staticStyle: {\n            \"color\": \"#f17878\"\n          },\n          on: {\n            \"click\": function ($event) {\n              return _vm.deleteScript(record.key);\n            }\n          }\n        }, [_vm._v(\"删除\")])], 1)])];\n      }\n    }, {\n      key: \"expandedRowRender\",\n      fn: function (record) {\n        return _c('div', {\n          staticStyle: {\n            \"margin\": \"0\"\n          }\n        }, [_c('span', [_c('span', {\n          staticStyle: {\n            \"font-weight\": \"bolder\"\n          }\n        }, [_vm._v(\"脚本文件路径：\")]), _vm._v(\"   \"), !record.editable ? _c('span', [_c('a', {\n          on: {\n            \"click\": function ($event) {\n              return _vm.downloadScriptFile(record.path);\n            }\n          }\n        }, [_vm._v(_vm._s(record.path))])]) : _c('span', [_vm._v(_vm._s(record.path))]), _vm._v(\"    \"), record.editable ? _c('a-popconfirm', {\n          attrs: {\n            \"title\": \"确认重新上传脚本文件?\",\n            \"ok-text\": \"确认\",\n            \"cancel-text\": \"不了\"\n          },\n          on: {\n            \"confirm\": _vm.confirmUpload\n          }\n        }, [_c('a', {\n          staticStyle: {\n            \"color\": \"#04628a\"\n          }\n        }, [_vm._v(\"重新上传\")]), _c('a-upload', {\n          ref: \"uploadComponent\",\n          attrs: {\n            \"directory\": false,\n            \"name\": \"file\",\n            \"multiple\": false,\n            \"accept\": \".sh\",\n            \"before-upload\": _vm.beforeUpload,\n            \"custom-request\": () => _vm.uploadUpdateScriptFileAndOther(record.key),\n            \"file-list\": _vm.fileList\n          }\n        })], 1) : _vm._e()], 1), _c('br'), record.properties != null ? _c('div', {\n          staticStyle: {\n            \"margin-top\": \"15px\"\n          }\n        }, [_c('a-list', {\n          staticStyle: {\n            \"width\": \"95%\"\n          },\n          attrs: {\n            \"size\": \"small\",\n            \"bordered\": \"\",\n            \"data-source\": record.properties\n          },\n          scopedSlots: _vm._u([{\n            key: \"renderItem\",\n            fn: function (item, index) {\n              return _c('a-list-item', {}, [record.editable ? _c('div', [_c('a-input', {\n                staticStyle: {\n                  \"width\": \"400px\"\n                },\n                attrs: {\n                  \"value\": item\n                },\n                on: {\n                  \"change\": e => _vm.handleChangeEdit(e.target.value, record.key, 'properties', index)\n                }\n              }), _c('a-icon', {\n                staticStyle: {\n                  \"display\": \"inline-grid\",\n                  \"margin-left\": \"20px\"\n                },\n                attrs: {\n                  \"type\": \"minus-circle-o\"\n                },\n                on: {\n                  \"click\": function ($event) {\n                    return _vm.removePropertiesItems(record.key, index);\n                  }\n                }\n              })], 1) : _c('span', [_vm._v(_vm._s(item) + \" \")])]);\n            }\n          }], null, true)\n        }, [_c('div', {\n          attrs: {\n            \"slot\": \"header\"\n          },\n          slot: \"header\"\n        }, [!record.editable ? _c('span', {\n          staticStyle: {\n            \"font-weight\": \"bolder\"\n          }\n        }, [_vm._v(\"命令行参数\")]) : _c('span', [_c('span', {\n          staticStyle: {\n            \"font-weight\": \"bolder\"\n          }\n        }, [_vm._v(\"命令行参数\")]), _c('a-icon', {\n          staticStyle: {\n            \"margin-left\": \"20px\"\n          },\n          attrs: {\n            \"type\": \"plus-circle-o\"\n          },\n          on: {\n            \"click\": function ($event) {\n              return _vm.addPropertiesItems(record.key);\n            }\n          }\n        })], 1)])])], 1) : _vm._e()]);\n      }\n    }], null, true)\n  })], 1)], 1);\n};\nvar staticRenderFns = [];\nexport { render, staticRenderFns };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}