{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nimport KeyCode from '../_util/KeyCode';\nimport TextArea from '../input/TextArea';\nimport EnterOutlined from \"@ant-design/icons-vue/es/icons/EnterOutlined\";\nimport { defineComponent, ref, reactive, watch, onMounted, toRefs } from 'vue';\nimport classNames from '../_util/classNames';\n// CSSINJS\nimport useStyle from './style';\nconst editableProps = () => ({\n  prefixCls: String,\n  value: String,\n  maxlength: Number,\n  autoSize: {\n    type: [Boolean, Object]\n  },\n  onSave: Function,\n  onCancel: Function,\n  onEnd: Function,\n  onChange: Function,\n  originContent: String,\n  direction: String,\n  component: String\n});\nconst Editable = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Editable',\n  inheritAttrs: false,\n  props: editableProps(),\n  // emits: ['save', 'cancel', 'end', 'change'],\n  setup(props, _ref) {\n    let {\n      emit,\n      slots,\n      attrs\n    } = _ref;\n    const {\n      prefixCls\n    } = toRefs(props);\n    const state = reactive({\n      current: props.value || '',\n      lastKeyCode: undefined,\n      inComposition: false,\n      cancelFlag: false\n    });\n    watch(() => props.value, current => {\n      state.current = current;\n    });\n    const textArea = ref();\n    onMounted(() => {\n      var _a;\n      if (textArea.value) {\n        const resizableTextArea = (_a = textArea.value) === null || _a === void 0 ? void 0 : _a.resizableTextArea;\n        const innerTextArea = resizableTextArea === null || resizableTextArea === void 0 ? void 0 : resizableTextArea.textArea;\n        innerTextArea.focus();\n        const {\n          length\n        } = innerTextArea.value;\n        innerTextArea.setSelectionRange(length, length);\n      }\n    });\n    function saveTextAreaRef(node) {\n      textArea.value = node;\n    }\n    function onChange(_ref2) {\n      let {\n        target: {\n          value\n        }\n      } = _ref2;\n      state.current = value.replace(/[\\r\\n]/g, '');\n      emit('change', state.current);\n    }\n    function onCompositionStart() {\n      state.inComposition = true;\n    }\n    function onCompositionEnd() {\n      state.inComposition = false;\n    }\n    function onKeyDown(e) {\n      const {\n        keyCode\n      } = e;\n      if (keyCode === KeyCode.ENTER) {\n        e.preventDefault();\n      }\n      // We don't record keyCode when IME is using\n      if (state.inComposition) return;\n      state.lastKeyCode = keyCode;\n    }\n    function onKeyUp(e) {\n      const {\n        keyCode,\n        ctrlKey,\n        altKey,\n        metaKey,\n        shiftKey\n      } = e;\n      // Check if it's a real key\n      if (state.lastKeyCode === keyCode && !state.inComposition && !ctrlKey && !altKey && !metaKey && !shiftKey) {\n        if (keyCode === KeyCode.ENTER) {\n          confirmChange();\n          emit('end');\n        } else if (keyCode === KeyCode.ESC) {\n          state.current = props.originContent;\n          emit('cancel');\n        }\n      }\n    }\n    function onBlur() {\n      confirmChange();\n    }\n    function confirmChange() {\n      emit('save', state.current.trim());\n    }\n    // style\n    const [wrapSSR, hashId] = useStyle(prefixCls);\n    return () => {\n      const textAreaClassName = classNames({\n        [`${prefixCls.value}`]: true,\n        [`${prefixCls.value}-edit-content`]: true,\n        [`${prefixCls.value}-rtl`]: props.direction === 'rtl',\n        [props.component ? `${prefixCls.value}-${props.component}` : '']: true\n      }, attrs.class, hashId.value);\n      return wrapSSR(_createVNode(\"div\", _objectSpread(_objectSpread({}, attrs), {}, {\n        \"class\": textAreaClassName\n      }), [_createVNode(TextArea, {\n        \"ref\": saveTextAreaRef,\n        \"maxlength\": props.maxlength,\n        \"value\": state.current,\n        \"onChange\": onChange,\n        \"onKeydown\": onKeyDown,\n        \"onKeyup\": onKeyUp,\n        \"onCompositionstart\": onCompositionStart,\n        \"onCompositionend\": onCompositionEnd,\n        \"onBlur\": onBlur,\n        \"rows\": 1,\n        \"autoSize\": props.autoSize === undefined || props.autoSize\n      }, null), slots.enterIcon ? slots.enterIcon({\n        className: `${props.prefixCls}-edit-content-confirm`\n      }) : _createVNode(EnterOutlined, {\n        \"class\": `${props.prefixCls}-edit-content-confirm`\n      }, null)]));\n    };\n  }\n});\nexport default Editable;","map":{"version":3,"names":["_objectSpread","createVNode","_createVNode","KeyCode","TextArea","EnterOutlined","defineComponent","ref","reactive","watch","onMounted","toRefs","classNames","useStyle","editableProps","prefixCls","String","value","maxlength","Number","autoSize","type","Boolean","Object","onSave","Function","onCancel","onEnd","onChange","originContent","direction","component","Editable","compatConfig","MODE","name","inheritAttrs","props","setup","_ref","emit","slots","attrs","state","current","lastKeyCode","undefined","inComposition","cancelFlag","textArea","_a","resizableTextArea","innerTextArea","focus","length","setSelectionRange","saveTextAreaRef","node","_ref2","target","replace","onCompositionStart","onCompositionEnd","onKeyDown","e","keyCode","ENTER","preventDefault","onKeyUp","ctrlKey","altKey","metaKey","shiftKey","confirmChange","ESC","onBlur","trim","wrapSSR","hashId","textAreaClassName","class","enterIcon","className"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/typography/Editable.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nimport KeyCode from '../_util/KeyCode';\nimport TextArea from '../input/TextArea';\nimport EnterOutlined from \"@ant-design/icons-vue/es/icons/EnterOutlined\";\nimport { defineComponent, ref, reactive, watch, onMounted, toRefs } from 'vue';\nimport classNames from '../_util/classNames';\n// CSSINJS\nimport useStyle from './style';\nconst editableProps = () => ({\n  prefixCls: String,\n  value: String,\n  maxlength: Number,\n  autoSize: {\n    type: [Boolean, Object]\n  },\n  onSave: Function,\n  onCancel: Function,\n  onEnd: Function,\n  onChange: Function,\n  originContent: String,\n  direction: String,\n  component: String\n});\nconst Editable = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Editable',\n  inheritAttrs: false,\n  props: editableProps(),\n  // emits: ['save', 'cancel', 'end', 'change'],\n  setup(props, _ref) {\n    let {\n      emit,\n      slots,\n      attrs\n    } = _ref;\n    const {\n      prefixCls\n    } = toRefs(props);\n    const state = reactive({\n      current: props.value || '',\n      lastKeyCode: undefined,\n      inComposition: false,\n      cancelFlag: false\n    });\n    watch(() => props.value, current => {\n      state.current = current;\n    });\n    const textArea = ref();\n    onMounted(() => {\n      var _a;\n      if (textArea.value) {\n        const resizableTextArea = (_a = textArea.value) === null || _a === void 0 ? void 0 : _a.resizableTextArea;\n        const innerTextArea = resizableTextArea === null || resizableTextArea === void 0 ? void 0 : resizableTextArea.textArea;\n        innerTextArea.focus();\n        const {\n          length\n        } = innerTextArea.value;\n        innerTextArea.setSelectionRange(length, length);\n      }\n    });\n    function saveTextAreaRef(node) {\n      textArea.value = node;\n    }\n    function onChange(_ref2) {\n      let {\n        target: {\n          value\n        }\n      } = _ref2;\n      state.current = value.replace(/[\\r\\n]/g, '');\n      emit('change', state.current);\n    }\n    function onCompositionStart() {\n      state.inComposition = true;\n    }\n    function onCompositionEnd() {\n      state.inComposition = false;\n    }\n    function onKeyDown(e) {\n      const {\n        keyCode\n      } = e;\n      if (keyCode === KeyCode.ENTER) {\n        e.preventDefault();\n      }\n      // We don't record keyCode when IME is using\n      if (state.inComposition) return;\n      state.lastKeyCode = keyCode;\n    }\n    function onKeyUp(e) {\n      const {\n        keyCode,\n        ctrlKey,\n        altKey,\n        metaKey,\n        shiftKey\n      } = e;\n      // Check if it's a real key\n      if (state.lastKeyCode === keyCode && !state.inComposition && !ctrlKey && !altKey && !metaKey && !shiftKey) {\n        if (keyCode === KeyCode.ENTER) {\n          confirmChange();\n          emit('end');\n        } else if (keyCode === KeyCode.ESC) {\n          state.current = props.originContent;\n          emit('cancel');\n        }\n      }\n    }\n    function onBlur() {\n      confirmChange();\n    }\n    function confirmChange() {\n      emit('save', state.current.trim());\n    }\n    // style\n    const [wrapSSR, hashId] = useStyle(prefixCls);\n    return () => {\n      const textAreaClassName = classNames({\n        [`${prefixCls.value}`]: true,\n        [`${prefixCls.value}-edit-content`]: true,\n        [`${prefixCls.value}-rtl`]: props.direction === 'rtl',\n        [props.component ? `${prefixCls.value}-${props.component}` : '']: true\n      }, attrs.class, hashId.value);\n      return wrapSSR(_createVNode(\"div\", _objectSpread(_objectSpread({}, attrs), {}, {\n        \"class\": textAreaClassName\n      }), [_createVNode(TextArea, {\n        \"ref\": saveTextAreaRef,\n        \"maxlength\": props.maxlength,\n        \"value\": state.current,\n        \"onChange\": onChange,\n        \"onKeydown\": onKeyDown,\n        \"onKeyup\": onKeyUp,\n        \"onCompositionstart\": onCompositionStart,\n        \"onCompositionend\": onCompositionEnd,\n        \"onBlur\": onBlur,\n        \"rows\": 1,\n        \"autoSize\": props.autoSize === undefined || props.autoSize\n      }, null), slots.enterIcon ? slots.enterIcon({\n        className: `${props.prefixCls}-edit-content-confirm`\n      }) : _createVNode(EnterOutlined, {\n        \"class\": `${props.prefixCls}-edit-content-confirm`\n      }, null)]));\n    };\n  }\n});\nexport default Editable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}