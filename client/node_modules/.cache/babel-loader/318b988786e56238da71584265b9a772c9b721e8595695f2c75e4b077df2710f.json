{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport { defineComponent, computed, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport ListItem from './ListItem';\nimport Pagination from '../pagination';\nimport PropTypes from '../_util/vue-types';\nimport { booleanType } from '../_util/type';\nexport const transferListBodyProps = {\n  prefixCls: String,\n  filteredRenderItems: PropTypes.array.def([]),\n  selectedKeys: PropTypes.array,\n  disabled: booleanType(),\n  showRemove: booleanType(),\n  pagination: PropTypes.any,\n  onItemSelect: Function,\n  onScroll: Function,\n  onItemRemove: Function\n};\nfunction parsePagination(pagination) {\n  if (!pagination) {\n    return null;\n  }\n  const defaultPagination = {\n    pageSize: 10,\n    simple: true,\n    showSizeChanger: false,\n    showLessItems: false\n  };\n  if (typeof pagination === 'object') {\n    return _extends(_extends({}, defaultPagination), pagination);\n  }\n  return defaultPagination;\n}\nconst ListBody = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ListBody',\n  inheritAttrs: false,\n  props: transferListBodyProps,\n  emits: ['itemSelect', 'itemRemove', 'scroll'],\n  setup(props, _ref) {\n    let {\n      emit,\n      expose\n    } = _ref;\n    const current = ref(1);\n    const handleItemSelect = item => {\n      const {\n        selectedKeys\n      } = props;\n      const checked = selectedKeys.indexOf(item.key) >= 0;\n      emit('itemSelect', item.key, !checked);\n    };\n    const handleItemRemove = item => {\n      emit('itemRemove', [item.key]);\n    };\n    const handleScroll = e => {\n      emit('scroll', e);\n    };\n    const mergedPagination = computed(() => parsePagination(props.pagination));\n    watch([mergedPagination, () => props.filteredRenderItems], () => {\n      if (mergedPagination.value) {\n        // Calculate the page number\n        const maxPageCount = Math.ceil(props.filteredRenderItems.length / mergedPagination.value.pageSize);\n        current.value = Math.min(current.value, maxPageCount);\n      }\n    }, {\n      immediate: true\n    });\n    const items = computed(() => {\n      const {\n        filteredRenderItems\n      } = props;\n      let displayItems = filteredRenderItems;\n      if (mergedPagination.value) {\n        displayItems = filteredRenderItems.slice((current.value - 1) * mergedPagination.value.pageSize, current.value * mergedPagination.value.pageSize);\n      }\n      return displayItems;\n    });\n    const onPageChange = cur => {\n      current.value = cur;\n    };\n    expose({\n      items\n    });\n    return () => {\n      const {\n        prefixCls,\n        filteredRenderItems,\n        selectedKeys,\n        disabled: globalDisabled,\n        showRemove\n      } = props;\n      let paginationNode = null;\n      if (mergedPagination.value) {\n        paginationNode = _createVNode(Pagination, {\n          \"simple\": mergedPagination.value.simple,\n          \"showSizeChanger\": mergedPagination.value.showSizeChanger,\n          \"showLessItems\": mergedPagination.value.showLessItems,\n          \"size\": \"small\",\n          \"disabled\": globalDisabled,\n          \"class\": `${prefixCls}-pagination`,\n          \"total\": filteredRenderItems.length,\n          \"pageSize\": mergedPagination.value.pageSize,\n          \"current\": current.value,\n          \"onChange\": onPageChange\n        }, null);\n      }\n      const itemsList = items.value.map(_ref2 => {\n        let {\n          renderedEl,\n          renderedText,\n          item\n        } = _ref2;\n        const {\n          disabled\n        } = item;\n        const checked = selectedKeys.indexOf(item.key) >= 0;\n        return _createVNode(ListItem, {\n          \"disabled\": globalDisabled || disabled,\n          \"key\": item.key,\n          \"item\": item,\n          \"renderedText\": renderedText,\n          \"renderedEl\": renderedEl,\n          \"checked\": checked,\n          \"prefixCls\": prefixCls,\n          \"onClick\": handleItemSelect,\n          \"onRemove\": handleItemRemove,\n          \"showRemove\": showRemove\n        }, null);\n      });\n      return _createVNode(_Fragment, null, [_createVNode(\"ul\", {\n        \"class\": classNames(`${prefixCls}-content`, {\n          [`${prefixCls}-content-show-remove`]: showRemove\n        }),\n        \"onScroll\": handleScroll\n      }, [itemsList]), paginationNode]);\n    };\n  }\n});\nexport default ListBody;","map":{"version":3,"names":["_extends","Fragment","_Fragment","createVNode","_createVNode","defineComponent","computed","ref","watch","classNames","ListItem","Pagination","PropTypes","booleanType","transferListBodyProps","prefixCls","String","filteredRenderItems","array","def","selectedKeys","disabled","showRemove","pagination","any","onItemSelect","Function","onScroll","onItemRemove","parsePagination","defaultPagination","pageSize","simple","showSizeChanger","showLessItems","ListBody","compatConfig","MODE","name","inheritAttrs","props","emits","setup","_ref","emit","expose","current","handleItemSelect","item","checked","indexOf","key","handleItemRemove","handleScroll","e","mergedPagination","value","maxPageCount","Math","ceil","length","min","immediate","items","displayItems","slice","onPageChange","cur","globalDisabled","paginationNode","itemsList","map","_ref2","renderedEl","renderedText"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/transfer/ListBody.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport { defineComponent, computed, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport ListItem from './ListItem';\nimport Pagination from '../pagination';\nimport PropTypes from '../_util/vue-types';\nimport { booleanType } from '../_util/type';\nexport const transferListBodyProps = {\n  prefixCls: String,\n  filteredRenderItems: PropTypes.array.def([]),\n  selectedKeys: PropTypes.array,\n  disabled: booleanType(),\n  showRemove: booleanType(),\n  pagination: PropTypes.any,\n  onItemSelect: Function,\n  onScroll: Function,\n  onItemRemove: Function\n};\nfunction parsePagination(pagination) {\n  if (!pagination) {\n    return null;\n  }\n  const defaultPagination = {\n    pageSize: 10,\n    simple: true,\n    showSizeChanger: false,\n    showLessItems: false\n  };\n  if (typeof pagination === 'object') {\n    return _extends(_extends({}, defaultPagination), pagination);\n  }\n  return defaultPagination;\n}\nconst ListBody = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ListBody',\n  inheritAttrs: false,\n  props: transferListBodyProps,\n  emits: ['itemSelect', 'itemRemove', 'scroll'],\n  setup(props, _ref) {\n    let {\n      emit,\n      expose\n    } = _ref;\n    const current = ref(1);\n    const handleItemSelect = item => {\n      const {\n        selectedKeys\n      } = props;\n      const checked = selectedKeys.indexOf(item.key) >= 0;\n      emit('itemSelect', item.key, !checked);\n    };\n    const handleItemRemove = item => {\n      emit('itemRemove', [item.key]);\n    };\n    const handleScroll = e => {\n      emit('scroll', e);\n    };\n    const mergedPagination = computed(() => parsePagination(props.pagination));\n    watch([mergedPagination, () => props.filteredRenderItems], () => {\n      if (mergedPagination.value) {\n        // Calculate the page number\n        const maxPageCount = Math.ceil(props.filteredRenderItems.length / mergedPagination.value.pageSize);\n        current.value = Math.min(current.value, maxPageCount);\n      }\n    }, {\n      immediate: true\n    });\n    const items = computed(() => {\n      const {\n        filteredRenderItems\n      } = props;\n      let displayItems = filteredRenderItems;\n      if (mergedPagination.value) {\n        displayItems = filteredRenderItems.slice((current.value - 1) * mergedPagination.value.pageSize, current.value * mergedPagination.value.pageSize);\n      }\n      return displayItems;\n    });\n    const onPageChange = cur => {\n      current.value = cur;\n    };\n    expose({\n      items\n    });\n    return () => {\n      const {\n        prefixCls,\n        filteredRenderItems,\n        selectedKeys,\n        disabled: globalDisabled,\n        showRemove\n      } = props;\n      let paginationNode = null;\n      if (mergedPagination.value) {\n        paginationNode = _createVNode(Pagination, {\n          \"simple\": mergedPagination.value.simple,\n          \"showSizeChanger\": mergedPagination.value.showSizeChanger,\n          \"showLessItems\": mergedPagination.value.showLessItems,\n          \"size\": \"small\",\n          \"disabled\": globalDisabled,\n          \"class\": `${prefixCls}-pagination`,\n          \"total\": filteredRenderItems.length,\n          \"pageSize\": mergedPagination.value.pageSize,\n          \"current\": current.value,\n          \"onChange\": onPageChange\n        }, null);\n      }\n      const itemsList = items.value.map(_ref2 => {\n        let {\n          renderedEl,\n          renderedText,\n          item\n        } = _ref2;\n        const {\n          disabled\n        } = item;\n        const checked = selectedKeys.indexOf(item.key) >= 0;\n        return _createVNode(ListItem, {\n          \"disabled\": globalDisabled || disabled,\n          \"key\": item.key,\n          \"item\": item,\n          \"renderedText\": renderedText,\n          \"renderedEl\": renderedEl,\n          \"checked\": checked,\n          \"prefixCls\": prefixCls,\n          \"onClick\": handleItemSelect,\n          \"onRemove\": handleItemRemove,\n          \"showRemove\": showRemove\n        }, null);\n      });\n      return _createVNode(_Fragment, null, [_createVNode(\"ul\", {\n        \"class\": classNames(`${prefixCls}-content`, {\n          [`${prefixCls}-content-show-remove`]: showRemove\n        }),\n        \"onScroll\": handleScroll\n      }, [itemsList]), paginationNode]);\n    };\n  }\n});\nexport default ListBody;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}