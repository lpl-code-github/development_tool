{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { convertDataToEntities } from '../../vc-tree/utils/treeUtil';\nimport { isNil } from '../utils/valueUtil';\nimport { shallowRef, watchEffect } from 'vue';\nimport { warning } from '../../vc-util/warning';\nexport default ((treeData, fieldNames) => {\n  const valueEntities = shallowRef(new Map());\n  const keyEntities = shallowRef({});\n  watchEffect(() => {\n    const fieldNamesValue = fieldNames.value;\n    const collection = convertDataToEntities(treeData.value, {\n      fieldNames: fieldNamesValue,\n      initWrapper: wrapper => _extends(_extends({}, wrapper), {\n        valueEntities: new Map()\n      }),\n      processEntity: (entity, wrapper) => {\n        const val = entity.node[fieldNamesValue.value];\n        // Check if exist same value\n        if (process.env.NODE_ENV !== 'production') {\n          const key = entity.node.key;\n          warning(!isNil(val), 'TreeNode `value` is invalidate: undefined');\n          warning(!wrapper.valueEntities.has(val), `Same \\`value\\` exist in the tree: ${val}`);\n          warning(!key || String(key) === String(val), `\\`key\\` or \\`value\\` with TreeNode must be the same or you can remove one of them. key: ${key}, value: ${val}.`);\n        }\n        wrapper.valueEntities.set(val, entity);\n      }\n    });\n    valueEntities.value = collection.valueEntities;\n    keyEntities.value = collection.keyEntities;\n  });\n  return {\n    valueEntities,\n    keyEntities\n  };\n});","map":{"version":3,"names":["_extends","convertDataToEntities","isNil","shallowRef","watchEffect","warning","treeData","fieldNames","valueEntities","Map","keyEntities","fieldNamesValue","value","collection","initWrapper","wrapper","processEntity","entity","val","node","process","env","NODE_ENV","key","has","String","set"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-tree-select/hooks/useDataEntities.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { convertDataToEntities } from '../../vc-tree/utils/treeUtil';\nimport { isNil } from '../utils/valueUtil';\nimport { shallowRef, watchEffect } from 'vue';\nimport { warning } from '../../vc-util/warning';\nexport default ((treeData, fieldNames) => {\n  const valueEntities = shallowRef(new Map());\n  const keyEntities = shallowRef({});\n  watchEffect(() => {\n    const fieldNamesValue = fieldNames.value;\n    const collection = convertDataToEntities(treeData.value, {\n      fieldNames: fieldNamesValue,\n      initWrapper: wrapper => _extends(_extends({}, wrapper), {\n        valueEntities: new Map()\n      }),\n      processEntity: (entity, wrapper) => {\n        const val = entity.node[fieldNamesValue.value];\n        // Check if exist same value\n        if (process.env.NODE_ENV !== 'production') {\n          const key = entity.node.key;\n          warning(!isNil(val), 'TreeNode `value` is invalidate: undefined');\n          warning(!wrapper.valueEntities.has(val), `Same \\`value\\` exist in the tree: ${val}`);\n          warning(!key || String(key) === String(val), `\\`key\\` or \\`value\\` with TreeNode must be the same or you can remove one of them. key: ${key}, value: ${val}.`);\n        }\n        wrapper.valueEntities.set(val, entity);\n      }\n    });\n    valueEntities.value = collection.valueEntities;\n    keyEntities.value = collection.keyEntities;\n  });\n  return {\n    valueEntities,\n    keyEntities\n  };\n});"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,SAASC,qBAAqB,QAAQ,8BAA8B;AACpE,SAASC,KAAK,QAAQ,oBAAoB;AAC1C,SAASC,UAAU,EAAEC,WAAW,QAAQ,KAAK;AAC7C,SAASC,OAAO,QAAQ,uBAAuB;AAC/C,gBAAgB,CAACC,QAAQ,EAAEC,UAAU,KAAK;EACxC,MAAMC,aAAa,GAAGL,UAAU,CAAC,IAAIM,GAAG,CAAC,CAAC,CAAC;EAC3C,MAAMC,WAAW,GAAGP,UAAU,CAAC,CAAC,CAAC,CAAC;EAClCC,WAAW,CAAC,MAAM;IAChB,MAAMO,eAAe,GAAGJ,UAAU,CAACK,KAAK;IACxC,MAAMC,UAAU,GAAGZ,qBAAqB,CAACK,QAAQ,CAACM,KAAK,EAAE;MACvDL,UAAU,EAAEI,eAAe;MAC3BG,WAAW,EAAEC,OAAO,IAAIf,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEe,OAAO,CAAC,EAAE;QACtDP,aAAa,EAAE,IAAIC,GAAG,CAAC;MACzB,CAAC,CAAC;MACFO,aAAa,EAAEA,CAACC,MAAM,EAAEF,OAAO,KAAK;QAClC,MAAMG,GAAG,GAAGD,MAAM,CAACE,IAAI,CAACR,eAAe,CAACC,KAAK,CAAC;QAC9C;QACA,IAAIQ,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;UACzC,MAAMC,GAAG,GAAGN,MAAM,CAACE,IAAI,CAACI,GAAG;UAC3BlB,OAAO,CAAC,CAACH,KAAK,CAACgB,GAAG,CAAC,EAAE,2CAA2C,CAAC;UACjEb,OAAO,CAAC,CAACU,OAAO,CAACP,aAAa,CAACgB,GAAG,CAACN,GAAG,CAAC,EAAG,qCAAoCA,GAAI,EAAC,CAAC;UACpFb,OAAO,CAAC,CAACkB,GAAG,IAAIE,MAAM,CAACF,GAAG,CAAC,KAAKE,MAAM,CAACP,GAAG,CAAC,EAAG,2FAA0FK,GAAI,YAAWL,GAAI,GAAE,CAAC;QAChK;QACAH,OAAO,CAACP,aAAa,CAACkB,GAAG,CAACR,GAAG,EAAED,MAAM,CAAC;MACxC;IACF,CAAC,CAAC;IACFT,aAAa,CAACI,KAAK,GAAGC,UAAU,CAACL,aAAa;IAC9CE,WAAW,CAACE,KAAK,GAAGC,UAAU,CAACH,WAAW;EAC5C,CAAC,CAAC;EACF,OAAO;IACLF,aAAa;IACbE;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}