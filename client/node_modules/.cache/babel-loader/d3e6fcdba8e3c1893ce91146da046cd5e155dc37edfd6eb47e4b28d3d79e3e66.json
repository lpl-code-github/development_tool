{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport Notification from '../vc-notification';\nimport Icon from '../icon';\nvar defaultDuration = 3;\nvar defaultTop = void 0;\nvar messageInstance = void 0;\nvar key = 1;\nvar prefixCls = 'ant-message';\nvar transitionName = 'move-up';\nvar getContainer = function getContainer() {\n  return document.body;\n};\nvar maxCount = void 0;\nfunction getMessageInstance(callback) {\n  if (messageInstance) {\n    callback(messageInstance);\n    return;\n  }\n  Notification.newInstance({\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    style: {\n      top: defaultTop\n    },\n    // 覆盖原来的样式\n    getContainer: getContainer,\n    maxCount: maxCount\n  }, function (instance) {\n    if (messageInstance) {\n      callback(messageInstance);\n      return;\n    }\n    messageInstance = instance;\n    callback(instance);\n  });\n}\n\n// type NoticeType = 'info' | 'success' | 'error' | 'warning' | 'loading';\n\nfunction notice(args) {\n  var duration = args.duration !== undefined ? args.duration : defaultDuration;\n  var iconType = {\n    info: 'info-circle',\n    success: 'check-circle',\n    error: 'close-circle',\n    warning: 'exclamation-circle',\n    loading: 'loading'\n  }[args.type];\n  var target = args.key || key++;\n  var closePromise = new Promise(function (resolve) {\n    var callback = function callback() {\n      if (typeof args.onClose === 'function') {\n        args.onClose();\n      }\n      return resolve(true);\n    };\n    getMessageInstance(function (instance) {\n      instance.notice({\n        key: target,\n        duration: duration,\n        style: {},\n        content: function content(h) {\n          var iconNode = h(Icon, {\n            attrs: {\n              type: iconType,\n              theme: iconType === 'loading' ? 'outlined' : 'filled'\n            }\n          });\n          var switchIconNode = iconType ? iconNode : '';\n          return h('div', {\n            'class': prefixCls + '-custom-content' + (args.type ? ' ' + prefixCls + '-' + args.type : '')\n          }, [args.icon ? typeof args.icon === 'function' ? args.icon(h) : args.icon : switchIconNode, h('span', [typeof args.content === 'function' ? args.content(h) : args.content])]);\n        },\n        onClose: callback\n      });\n    });\n  });\n  var result = function result() {\n    if (messageInstance) {\n      messageInstance.removeNotice(target);\n    }\n  };\n  result.then = function (filled, rejected) {\n    return closePromise.then(filled, rejected);\n  };\n  result.promise = closePromise;\n  return result;\n}\n\n// type ConfigContent = React.ReactNode | string;\n// type ConfigDuration = number | (() => void);\n// export type ConfigOnClose = () => void;\n\nfunction isArgsProps(content) {\n  return Object.prototype.toString.call(content) === '[object Object]' && !!content.content;\n}\n\n// export interface ConfigOptions {\n//   top?: number;\n//   duration?: number;\n//   prefixCls?: string;\n//   getContainer?: () => HTMLElement;\n//   transitionName?: string;\n// }\n\nvar api = {\n  open: notice,\n  config: function config(options) {\n    if (options.top !== undefined) {\n      defaultTop = options.top;\n      messageInstance = null; // delete messageInstance for new defaultTop\n    }\n\n    if (options.duration !== undefined) {\n      defaultDuration = options.duration;\n    }\n    if (options.prefixCls !== undefined) {\n      prefixCls = options.prefixCls;\n    }\n    if (options.getContainer !== undefined) {\n      getContainer = options.getContainer;\n    }\n    if (options.transitionName !== undefined) {\n      transitionName = options.transitionName;\n      messageInstance = null; // delete messageInstance for new transitionName\n    }\n\n    if (options.maxCount !== undefined) {\n      maxCount = options.maxCount;\n      messageInstance = null;\n    }\n  },\n  destroy: function destroy() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n  }\n};\n['success', 'info', 'warning', 'error', 'loading'].forEach(function (type) {\n  api[type] = function (content, duration, onClose) {\n    if (isArgsProps(content)) {\n      return api.open(_extends({}, content, {\n        type: type\n      }));\n    }\n    if (typeof duration === 'function') {\n      onClose = duration;\n      duration = undefined;\n    }\n    return api.open({\n      content: content,\n      duration: duration,\n      type: type,\n      onClose: onClose\n    });\n  };\n});\napi.warn = api.warning;\nexport default api;","map":{"version":3,"names":["_extends","Notification","Icon","defaultDuration","defaultTop","messageInstance","key","prefixCls","transitionName","getContainer","document","body","maxCount","getMessageInstance","callback","newInstance","style","top","instance","notice","args","duration","undefined","iconType","info","success","error","warning","loading","type","target","closePromise","Promise","resolve","onClose","content","h","iconNode","attrs","theme","switchIconNode","icon","result","removeNotice","then","filled","rejected","promise","isArgsProps","Object","prototype","toString","call","api","open","config","options","destroy","forEach","warn"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/client/node_modules/ant-design-vue/es/message/index.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport Notification from '../vc-notification';\nimport Icon from '../icon';\n\nvar defaultDuration = 3;\nvar defaultTop = void 0;\nvar messageInstance = void 0;\nvar key = 1;\nvar prefixCls = 'ant-message';\nvar transitionName = 'move-up';\nvar getContainer = function getContainer() {\n  return document.body;\n};\nvar maxCount = void 0;\n\nfunction getMessageInstance(callback) {\n  if (messageInstance) {\n    callback(messageInstance);\n    return;\n  }\n  Notification.newInstance({\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    style: { top: defaultTop }, // 覆盖原来的样式\n    getContainer: getContainer,\n    maxCount: maxCount\n  }, function (instance) {\n    if (messageInstance) {\n      callback(messageInstance);\n      return;\n    }\n    messageInstance = instance;\n    callback(instance);\n  });\n}\n\n// type NoticeType = 'info' | 'success' | 'error' | 'warning' | 'loading';\n\nfunction notice(args) {\n  var duration = args.duration !== undefined ? args.duration : defaultDuration;\n  var iconType = {\n    info: 'info-circle',\n    success: 'check-circle',\n    error: 'close-circle',\n    warning: 'exclamation-circle',\n    loading: 'loading'\n  }[args.type];\n\n  var target = args.key || key++;\n  var closePromise = new Promise(function (resolve) {\n    var callback = function callback() {\n      if (typeof args.onClose === 'function') {\n        args.onClose();\n      }\n      return resolve(true);\n    };\n    getMessageInstance(function (instance) {\n      instance.notice({\n        key: target,\n        duration: duration,\n        style: {},\n        content: function content(h) {\n          var iconNode = h(Icon, {\n            attrs: { type: iconType, theme: iconType === 'loading' ? 'outlined' : 'filled' }\n          });\n          var switchIconNode = iconType ? iconNode : '';\n          return h(\n            'div',\n            {\n              'class': prefixCls + '-custom-content' + (args.type ? ' ' + prefixCls + '-' + args.type : '')\n            },\n            [args.icon ? typeof args.icon === 'function' ? args.icon(h) : args.icon : switchIconNode, h('span', [typeof args.content === 'function' ? args.content(h) : args.content])]\n          );\n        },\n        onClose: callback\n      });\n    });\n  });\n  var result = function result() {\n    if (messageInstance) {\n      messageInstance.removeNotice(target);\n    }\n  };\n  result.then = function (filled, rejected) {\n    return closePromise.then(filled, rejected);\n  };\n  result.promise = closePromise;\n  return result;\n}\n\n// type ConfigContent = React.ReactNode | string;\n// type ConfigDuration = number | (() => void);\n// export type ConfigOnClose = () => void;\n\nfunction isArgsProps(content) {\n  return Object.prototype.toString.call(content) === '[object Object]' && !!content.content;\n}\n\n// export interface ConfigOptions {\n//   top?: number;\n//   duration?: number;\n//   prefixCls?: string;\n//   getContainer?: () => HTMLElement;\n//   transitionName?: string;\n// }\n\nvar api = {\n  open: notice,\n  config: function config(options) {\n    if (options.top !== undefined) {\n      defaultTop = options.top;\n      messageInstance = null; // delete messageInstance for new defaultTop\n    }\n    if (options.duration !== undefined) {\n      defaultDuration = options.duration;\n    }\n    if (options.prefixCls !== undefined) {\n      prefixCls = options.prefixCls;\n    }\n    if (options.getContainer !== undefined) {\n      getContainer = options.getContainer;\n    }\n    if (options.transitionName !== undefined) {\n      transitionName = options.transitionName;\n      messageInstance = null; // delete messageInstance for new transitionName\n    }\n    if (options.maxCount !== undefined) {\n      maxCount = options.maxCount;\n      messageInstance = null;\n    }\n  },\n  destroy: function destroy() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n  }\n};\n\n['success', 'info', 'warning', 'error', 'loading'].forEach(function (type) {\n  api[type] = function (content, duration, onClose) {\n    if (isArgsProps(content)) {\n      return api.open(_extends({}, content, { type: type }));\n    }\n    if (typeof duration === 'function') {\n      onClose = duration;\n      duration = undefined;\n    }\n    return api.open({ content: content, duration: duration, type: type, onClose: onClose });\n  };\n});\n\napi.warn = api.warning;\n\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}