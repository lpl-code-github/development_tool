{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { computed } from 'vue';\nimport { useToken } from '../theme/internal';\nexport const responsiveArray = ['xxxl', 'xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nconst getResponsiveMap = token => ({\n  xs: `(max-width: ${token.screenXSMax}px)`,\n  sm: `(min-width: ${token.screenSM}px)`,\n  md: `(min-width: ${token.screenMD}px)`,\n  lg: `(min-width: ${token.screenLG}px)`,\n  xl: `(min-width: ${token.screenXL}px)`,\n  xxl: `(min-width: ${token.screenXXL}px)`,\n  xxxl: `{min-width: ${token.screenXXXL}px}`\n});\nexport default function useResponsiveObserver() {\n  const [, token] = useToken();\n  return computed(() => {\n    const responsiveMap = getResponsiveMap(token.value);\n    const subscribers = new Map();\n    let subUid = -1;\n    let screens = {};\n    return {\n      matchHandlers: {},\n      dispatch(pointMap) {\n        screens = pointMap;\n        subscribers.forEach(func => func(screens));\n        return subscribers.size >= 1;\n      },\n      subscribe(func) {\n        if (!subscribers.size) this.register();\n        subUid += 1;\n        subscribers.set(subUid, func);\n        func(screens);\n        return subUid;\n      },\n      unsubscribe(paramToken) {\n        subscribers.delete(paramToken);\n        if (!subscribers.size) this.unregister();\n      },\n      unregister() {\n        Object.keys(responsiveMap).forEach(screen => {\n          const matchMediaQuery = responsiveMap[screen];\n          const handler = this.matchHandlers[matchMediaQuery];\n          handler === null || handler === void 0 ? void 0 : handler.mql.removeListener(handler === null || handler === void 0 ? void 0 : handler.listener);\n        });\n        subscribers.clear();\n      },\n      register() {\n        Object.keys(responsiveMap).forEach(screen => {\n          const matchMediaQuery = responsiveMap[screen];\n          const listener = _ref => {\n            let {\n              matches\n            } = _ref;\n            this.dispatch(_extends(_extends({}, screens), {\n              [screen]: matches\n            }));\n          };\n          const mql = window.matchMedia(matchMediaQuery);\n          mql.addListener(listener);\n          this.matchHandlers[matchMediaQuery] = {\n            mql,\n            listener\n          };\n          listener(mql);\n        });\n      },\n      responsiveMap\n    };\n  });\n}","map":{"version":3,"names":["_extends","computed","useToken","responsiveArray","getResponsiveMap","token","xs","screenXSMax","sm","screenSM","md","screenMD","lg","screenLG","xl","screenXL","xxl","screenXXL","xxxl","screenXXXL","useResponsiveObserver","responsiveMap","value","subscribers","Map","subUid","screens","matchHandlers","dispatch","pointMap","forEach","func","size","subscribe","register","set","unsubscribe","paramToken","delete","unregister","Object","keys","screen","matchMediaQuery","handler","mql","removeListener","listener","clear","_ref","matches","window","matchMedia","addListener"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/_util/responsiveObserve.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { computed } from 'vue';\nimport { useToken } from '../theme/internal';\nexport const responsiveArray = ['xxxl', 'xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nconst getResponsiveMap = token => ({\n  xs: `(max-width: ${token.screenXSMax}px)`,\n  sm: `(min-width: ${token.screenSM}px)`,\n  md: `(min-width: ${token.screenMD}px)`,\n  lg: `(min-width: ${token.screenLG}px)`,\n  xl: `(min-width: ${token.screenXL}px)`,\n  xxl: `(min-width: ${token.screenXXL}px)`,\n  xxxl: `{min-width: ${token.screenXXXL}px}`\n});\nexport default function useResponsiveObserver() {\n  const [, token] = useToken();\n  return computed(() => {\n    const responsiveMap = getResponsiveMap(token.value);\n    const subscribers = new Map();\n    let subUid = -1;\n    let screens = {};\n    return {\n      matchHandlers: {},\n      dispatch(pointMap) {\n        screens = pointMap;\n        subscribers.forEach(func => func(screens));\n        return subscribers.size >= 1;\n      },\n      subscribe(func) {\n        if (!subscribers.size) this.register();\n        subUid += 1;\n        subscribers.set(subUid, func);\n        func(screens);\n        return subUid;\n      },\n      unsubscribe(paramToken) {\n        subscribers.delete(paramToken);\n        if (!subscribers.size) this.unregister();\n      },\n      unregister() {\n        Object.keys(responsiveMap).forEach(screen => {\n          const matchMediaQuery = responsiveMap[screen];\n          const handler = this.matchHandlers[matchMediaQuery];\n          handler === null || handler === void 0 ? void 0 : handler.mql.removeListener(handler === null || handler === void 0 ? void 0 : handler.listener);\n        });\n        subscribers.clear();\n      },\n      register() {\n        Object.keys(responsiveMap).forEach(screen => {\n          const matchMediaQuery = responsiveMap[screen];\n          const listener = _ref => {\n            let {\n              matches\n            } = _ref;\n            this.dispatch(_extends(_extends({}, screens), {\n              [screen]: matches\n            }));\n          };\n          const mql = window.matchMedia(matchMediaQuery);\n          mql.addListener(listener);\n          this.matchHandlers[matchMediaQuery] = {\n            mql,\n            listener\n          };\n          listener(mql);\n        });\n      },\n      responsiveMap\n    };\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}