{"ast":null,"code":"import { filterEmpty } from '../../_util/props-util';\nconst isValid = value => {\n  return value !== undefined && value !== null && (Array.isArray(value) ? filterEmpty(value).length : true);\n};\nexport function hasPrefixSuffix(propsAndSlots) {\n  return isValid(propsAndSlots.prefix) || isValid(propsAndSlots.suffix) || isValid(propsAndSlots.allowClear);\n}\nexport function hasAddon(propsAndSlots) {\n  return isValid(propsAndSlots.addonBefore) || isValid(propsAndSlots.addonAfter);\n}\nexport function fixControlledValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n  return String(value);\n}\nexport function resolveOnChange(target, e, onChange, targetValue) {\n  if (!onChange) {\n    return;\n  }\n  const event = e;\n  if (e.type === 'click') {\n    Object.defineProperty(event, 'target', {\n      writable: true\n    });\n    Object.defineProperty(event, 'currentTarget', {\n      writable: true\n    });\n    // click clear icon\n    //event = Object.create(e);\n    const currentTarget = target.cloneNode(true);\n    event.target = currentTarget;\n    event.currentTarget = currentTarget;\n    // change target ref value cause e.target.value should be '' when clear input\n    currentTarget.value = '';\n    onChange(event);\n    return;\n  }\n  // Trigger by composition event, this means we need force change the input value\n  if (targetValue !== undefined) {\n    Object.defineProperty(event, 'target', {\n      writable: true\n    });\n    Object.defineProperty(event, 'currentTarget', {\n      writable: true\n    });\n    event.target = target;\n    event.currentTarget = target;\n    target.value = targetValue;\n    onChange(event);\n    return;\n  }\n  onChange(event);\n}\nexport function triggerFocus(element, option) {\n  if (!element) return;\n  element.focus(option);\n  // Selection content\n  const {\n    cursor\n  } = option || {};\n  if (cursor) {\n    const len = element.value.length;\n    switch (cursor) {\n      case 'start':\n        element.setSelectionRange(0, 0);\n        break;\n      case 'end':\n        element.setSelectionRange(len, len);\n        break;\n      default:\n        element.setSelectionRange(0, len);\n    }\n  }\n}","map":{"version":3,"names":["filterEmpty","isValid","value","undefined","Array","isArray","length","hasPrefixSuffix","propsAndSlots","prefix","suffix","allowClear","hasAddon","addonBefore","addonAfter","fixControlledValue","String","resolveOnChange","target","e","onChange","targetValue","event","type","Object","defineProperty","writable","currentTarget","cloneNode","triggerFocus","element","option","focus","cursor","len","setSelectionRange"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-input/utils/commonUtils.js"],"sourcesContent":["import { filterEmpty } from '../../_util/props-util';\nconst isValid = value => {\n  return value !== undefined && value !== null && (Array.isArray(value) ? filterEmpty(value).length : true);\n};\nexport function hasPrefixSuffix(propsAndSlots) {\n  return isValid(propsAndSlots.prefix) || isValid(propsAndSlots.suffix) || isValid(propsAndSlots.allowClear);\n}\nexport function hasAddon(propsAndSlots) {\n  return isValid(propsAndSlots.addonBefore) || isValid(propsAndSlots.addonAfter);\n}\nexport function fixControlledValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n  return String(value);\n}\nexport function resolveOnChange(target, e, onChange, targetValue) {\n  if (!onChange) {\n    return;\n  }\n  const event = e;\n  if (e.type === 'click') {\n    Object.defineProperty(event, 'target', {\n      writable: true\n    });\n    Object.defineProperty(event, 'currentTarget', {\n      writable: true\n    });\n    // click clear icon\n    //event = Object.create(e);\n    const currentTarget = target.cloneNode(true);\n    event.target = currentTarget;\n    event.currentTarget = currentTarget;\n    // change target ref value cause e.target.value should be '' when clear input\n    currentTarget.value = '';\n    onChange(event);\n    return;\n  }\n  // Trigger by composition event, this means we need force change the input value\n  if (targetValue !== undefined) {\n    Object.defineProperty(event, 'target', {\n      writable: true\n    });\n    Object.defineProperty(event, 'currentTarget', {\n      writable: true\n    });\n    event.target = target;\n    event.currentTarget = target;\n    target.value = targetValue;\n    onChange(event);\n    return;\n  }\n  onChange(event);\n}\nexport function triggerFocus(element, option) {\n  if (!element) return;\n  element.focus(option);\n  // Selection content\n  const {\n    cursor\n  } = option || {};\n  if (cursor) {\n    const len = element.value.length;\n    switch (cursor) {\n      case 'start':\n        element.setSelectionRange(0, 0);\n        break;\n      case 'end':\n        element.setSelectionRange(len, len);\n        break;\n      default:\n        element.setSelectionRange(0, len);\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}