{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport VerticalAlignTopOutlined from \"@ant-design/icons-vue/es/icons/VerticalAlignTopOutlined\";\nimport { getTransitionProps, Transition } from '../_util/transition';\nimport { defineComponent, nextTick, onActivated, onBeforeUnmount, onMounted, reactive, ref, watch, onDeactivated } from 'vue';\nimport FloatButton, { floatButtonPrefixCls } from './FloatButton';\nimport useConfigInject from '../config-provider/hooks/useConfigInject';\nimport getScroll from '../_util/getScroll';\nimport scrollTo from '../_util/scrollTo';\nimport throttleByAnimationFrame from '../_util/throttleByAnimationFrame';\nimport { initDefaultProps } from '../_util/props-util';\nimport { backTopProps } from './interface';\nimport useStyle from './style';\nimport { useInjectFloatButtonGroupContext } from './context';\nconst BackTop = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ABackTop',\n  inheritAttrs: false,\n  props: initDefaultProps(backTopProps(), {\n    visibilityHeight: 400,\n    target: () => window,\n    duration: 450,\n    type: 'default',\n    shape: 'circle'\n  }),\n  // emits: ['click'],\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs,\n      emit\n    } = _ref;\n    const {\n      prefixCls,\n      direction\n    } = useConfigInject(floatButtonPrefixCls, props);\n    const [wrapSSR] = useStyle(prefixCls);\n    const domRef = ref();\n    const state = reactive({\n      visible: props.visibilityHeight === 0,\n      scrollEvent: null\n    });\n    const getDefaultTarget = () => domRef.value && domRef.value.ownerDocument ? domRef.value.ownerDocument : window;\n    const scrollToTop = e => {\n      const {\n        target = getDefaultTarget,\n        duration\n      } = props;\n      scrollTo(0, {\n        getContainer: target,\n        duration\n      });\n      emit('click', e);\n    };\n    const handleScroll = throttleByAnimationFrame(e => {\n      const {\n        visibilityHeight\n      } = props;\n      const scrollTop = getScroll(e.target, true);\n      state.visible = scrollTop >= visibilityHeight;\n    });\n    const bindScrollEvent = () => {\n      const {\n        target\n      } = props;\n      const getTarget = target || getDefaultTarget;\n      const container = getTarget();\n      handleScroll({\n        target: container\n      });\n      container === null || container === void 0 ? void 0 : container.addEventListener('scroll', handleScroll);\n    };\n    const scrollRemove = () => {\n      const {\n        target\n      } = props;\n      const getTarget = target || getDefaultTarget;\n      const container = getTarget();\n      handleScroll.cancel();\n      container === null || container === void 0 ? void 0 : container.removeEventListener('scroll', handleScroll);\n    };\n    watch(() => props.target, () => {\n      scrollRemove();\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onMounted(() => {\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onActivated(() => {\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onDeactivated(() => {\n      scrollRemove();\n    });\n    onBeforeUnmount(() => {\n      scrollRemove();\n    });\n    const floatButtonGroupContext = useInjectFloatButtonGroupContext();\n    return () => {\n      const defaultElement = _createVNode(\"div\", {\n        \"class\": `${prefixCls.value}-content`\n      }, [_createVNode(\"div\", {\n        \"class\": `${prefixCls.value}-icon`\n      }, [_createVNode(VerticalAlignTopOutlined, null, null)])]);\n      const floatButtonProps = _extends(_extends({}, attrs), {\n        shape: (floatButtonGroupContext === null || floatButtonGroupContext === void 0 ? void 0 : floatButtonGroupContext.shape.value) || props.shape,\n        onClick: scrollToTop,\n        class: {\n          [`${prefixCls.value}`]: true,\n          [`${attrs.class}`]: attrs.class,\n          [`${prefixCls.value}-rtl`]: direction.value === 'rtl'\n        }\n      });\n      const transitionProps = getTransitionProps('fade');\n      return wrapSSR(_createVNode(Transition, transitionProps, {\n        default: () => [_withDirectives(_createVNode(FloatButton, _objectSpread(_objectSpread({}, floatButtonProps), {}, {\n          \"ref\": domRef\n        }), {\n          icon: () => _createVNode(VerticalAlignTopOutlined, null, null),\n          default: () => {\n            var _a;\n            return ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)) || defaultElement;\n          }\n        }), [[_vShow, state.visible]])]\n      }));\n    };\n  }\n});\nexport default BackTop;","map":{"version":3,"names":["_objectSpread","_extends","withDirectives","_withDirectives","vShow","_vShow","createVNode","_createVNode","VerticalAlignTopOutlined","getTransitionProps","Transition","defineComponent","nextTick","onActivated","onBeforeUnmount","onMounted","reactive","ref","watch","onDeactivated","FloatButton","floatButtonPrefixCls","useConfigInject","getScroll","scrollTo","throttleByAnimationFrame","initDefaultProps","backTopProps","useStyle","useInjectFloatButtonGroupContext","BackTop","compatConfig","MODE","name","inheritAttrs","props","visibilityHeight","target","window","duration","type","shape","setup","_ref","slots","attrs","emit","prefixCls","direction","wrapSSR","domRef","state","visible","scrollEvent","getDefaultTarget","value","ownerDocument","scrollToTop","e","getContainer","handleScroll","scrollTop","bindScrollEvent","getTarget","container","addEventListener","scrollRemove","cancel","removeEventListener","floatButtonGroupContext","defaultElement","floatButtonProps","onClick","class","transitionProps","default","icon","_a","call"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/float-button/BackTop.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport VerticalAlignTopOutlined from \"@ant-design/icons-vue/es/icons/VerticalAlignTopOutlined\";\nimport { getTransitionProps, Transition } from '../_util/transition';\nimport { defineComponent, nextTick, onActivated, onBeforeUnmount, onMounted, reactive, ref, watch, onDeactivated } from 'vue';\nimport FloatButton, { floatButtonPrefixCls } from './FloatButton';\nimport useConfigInject from '../config-provider/hooks/useConfigInject';\nimport getScroll from '../_util/getScroll';\nimport scrollTo from '../_util/scrollTo';\nimport throttleByAnimationFrame from '../_util/throttleByAnimationFrame';\nimport { initDefaultProps } from '../_util/props-util';\nimport { backTopProps } from './interface';\nimport useStyle from './style';\nimport { useInjectFloatButtonGroupContext } from './context';\nconst BackTop = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ABackTop',\n  inheritAttrs: false,\n  props: initDefaultProps(backTopProps(), {\n    visibilityHeight: 400,\n    target: () => window,\n    duration: 450,\n    type: 'default',\n    shape: 'circle'\n  }),\n  // emits: ['click'],\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs,\n      emit\n    } = _ref;\n    const {\n      prefixCls,\n      direction\n    } = useConfigInject(floatButtonPrefixCls, props);\n    const [wrapSSR] = useStyle(prefixCls);\n    const domRef = ref();\n    const state = reactive({\n      visible: props.visibilityHeight === 0,\n      scrollEvent: null\n    });\n    const getDefaultTarget = () => domRef.value && domRef.value.ownerDocument ? domRef.value.ownerDocument : window;\n    const scrollToTop = e => {\n      const {\n        target = getDefaultTarget,\n        duration\n      } = props;\n      scrollTo(0, {\n        getContainer: target,\n        duration\n      });\n      emit('click', e);\n    };\n    const handleScroll = throttleByAnimationFrame(e => {\n      const {\n        visibilityHeight\n      } = props;\n      const scrollTop = getScroll(e.target, true);\n      state.visible = scrollTop >= visibilityHeight;\n    });\n    const bindScrollEvent = () => {\n      const {\n        target\n      } = props;\n      const getTarget = target || getDefaultTarget;\n      const container = getTarget();\n      handleScroll({\n        target: container\n      });\n      container === null || container === void 0 ? void 0 : container.addEventListener('scroll', handleScroll);\n    };\n    const scrollRemove = () => {\n      const {\n        target\n      } = props;\n      const getTarget = target || getDefaultTarget;\n      const container = getTarget();\n      handleScroll.cancel();\n      container === null || container === void 0 ? void 0 : container.removeEventListener('scroll', handleScroll);\n    };\n    watch(() => props.target, () => {\n      scrollRemove();\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onMounted(() => {\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onActivated(() => {\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onDeactivated(() => {\n      scrollRemove();\n    });\n    onBeforeUnmount(() => {\n      scrollRemove();\n    });\n    const floatButtonGroupContext = useInjectFloatButtonGroupContext();\n    return () => {\n      const defaultElement = _createVNode(\"div\", {\n        \"class\": `${prefixCls.value}-content`\n      }, [_createVNode(\"div\", {\n        \"class\": `${prefixCls.value}-icon`\n      }, [_createVNode(VerticalAlignTopOutlined, null, null)])]);\n      const floatButtonProps = _extends(_extends({}, attrs), {\n        shape: (floatButtonGroupContext === null || floatButtonGroupContext === void 0 ? void 0 : floatButtonGroupContext.shape.value) || props.shape,\n        onClick: scrollToTop,\n        class: {\n          [`${prefixCls.value}`]: true,\n          [`${attrs.class}`]: attrs.class,\n          [`${prefixCls.value}-rtl`]: direction.value === 'rtl'\n        }\n      });\n      const transitionProps = getTransitionProps('fade');\n      return wrapSSR(_createVNode(Transition, transitionProps, {\n        default: () => [_withDirectives(_createVNode(FloatButton, _objectSpread(_objectSpread({}, floatButtonProps), {}, {\n          \"ref\": domRef\n        }), {\n          icon: () => _createVNode(VerticalAlignTopOutlined, null, null),\n          default: () => {\n            var _a;\n            return ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)) || defaultElement;\n          }\n        }), [[_vShow, state.visible]])]\n      }));\n    };\n  }\n});\nexport default BackTop;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}