{"ast":null,"code":"import Clipboard from 'clipboard';\nimport hljs from 'highlight.js/lib/core.js';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport hljsVuePlugin from '@highlightjs/vue-plugin';\nhljs.registerLanguage('javascript', javascript);\nimport 'highlight.js/styles/atom-one-dark.css';\nexport default {\n  props: ['code'],\n  name: 'Code',\n  components: {\n    highlightjs: hljsVuePlugin.component\n  },\n  data() {\n    return {\n      codeLength: 0,\n      code: `function test() {\n        console.log(test)\n      }`\n    };\n  },\n  mounted() {\n    const html = document.querySelector('code.hljs')?.innerHTML;\n    this.codeLength = html ? html.split('\\n').length : 0;\n  },\n  methods: {\n    handleCopy() {\n      var clipboard = new Clipboard('#copyBtn');\n      clipboard.on('success', e => {\n        this.$message.success('已成功复制到粘贴板');\n        clipboard.destroy();\n      });\n      clipboard.on('error', e => {\n        this.$message.warning('该浏览器不支持复制');\n        clipboard.destroy();\n      });\n    }\n  }\n};","map":{"version":3,"names":["Clipboard","hljs","javascript","hljsVuePlugin","registerLanguage","props","name","components","highlightjs","component","data","codeLength","code","mounted","html","document","querySelector","innerHTML","split","length","methods","handleCopy","clipboard","on","e","$message","success","destroy","warning"],"sources":["src/components/code/Code.vue"],"sourcesContent":["<template>\n  <div class=\"hljs-code-wrapper\">\n    <ul v-if=\"code\" class=\"code-numbering\">\n      <li v-for=\"(_, index) in new Array(codeLength)\" :key=\"index\">{{ index + 1 }}</li>\n    </ul>\n    <highlightjs language=\"yaml\" :code=\"code\" />\n    <el-tooltip content=\"复制\" class=\"code-copy\">\n      <i v-if=\"code\" id=\"copyBtn\" :data-clipboard-text=\"code\" class=\"ri-file-copy-2-line code-copy\" @click=\"handleCopy\" />\n    </el-tooltip>\n  </div>\n</template>\n<script>\nimport Clipboard from 'clipboard'\nimport hljs from 'highlight.js/lib/core.js'\nimport javascript from 'highlight.js/lib/languages/javascript'\nimport hljsVuePlugin from '@highlightjs/vue-plugin'\nhljs.registerLanguage('javascript', javascript)\nimport 'highlight.js/styles/atom-one-dark.css'\nexport default {\n  props:['code'],\n  name:'Code',\n  components: {\n    highlightjs: hljsVuePlugin.component\n  },\n  data() {\n    return {\n      codeLength: 0,\n      code: `function test() {\n        console.log(test)\n      }`\n    }\n  },\n  mounted() {\n    const html = document.querySelector('code.hljs')?.innerHTML\n    this.codeLength = html ? html.split('\\n').length : 0\n  },\n  methods: {\n    handleCopy() {\n      var clipboard = new Clipboard('#copyBtn')\n      clipboard.on('success', e => {\n        this.$message.success('已成功复制到粘贴板')\n        clipboard.destroy()\n      })\n      clipboard.on('error', e => {\n        this.$message.warning('该浏览器不支持复制')\n        clipboard.destroy()\n      })\n    }\n  }\n}\n</script>\n<style lang='scss'>\n.hljs-code-wrapper {\n  position: relative;\n  code.hljs {\n    padding: 1em 1em 1em 4em\n  }\n  .code-numbering {\n    position: absolute;\n    top: 1em;\n    left: 1em;\n    color: #d1d8e6;\n    font-size: 14px;\n    list-style: none;\n    border-right: 1px solid #d1d8e6;\n    margin-right: 1em;\n    padding-right: 1em;\n  }\n  i.code-copy {\n    position: absolute;\n    right: 1em;\n    top: 1em;\n    display: none;\n    cursor: pointer;\n    font-size: 18px;\n    color: #fff;\n    z-index: 999;\n  }\n  &:hover {\n    i.code-copy {\n      display: block;\n    }\n  }\n}\n\n</style>\n"],"mappings":"AAYA,OAAAA,SAAA;AACA,OAAAC,IAAA;AACA,OAAAC,UAAA;AACA,OAAAC,aAAA;AACAF,IAAA,CAAAG,gBAAA,eAAAF,UAAA;AACA;AACA;EACAG,KAAA;EACAC,IAAA;EACAC,UAAA;IACAC,WAAA,EAAAL,aAAA,CAAAM;EACA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,IAAA;AACA;AACA;IACA;EACA;EACAC,QAAA;IACA,MAAAC,IAAA,GAAAC,QAAA,CAAAC,aAAA,eAAAC,SAAA;IACA,KAAAN,UAAA,GAAAG,IAAA,GAAAA,IAAA,CAAAI,KAAA,OAAAC,MAAA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,IAAAC,SAAA,OAAAtB,SAAA;MACAsB,SAAA,CAAAC,EAAA,YAAAC,CAAA;QACA,KAAAC,QAAA,CAAAC,OAAA;QACAJ,SAAA,CAAAK,OAAA;MACA;MACAL,SAAA,CAAAC,EAAA,UAAAC,CAAA;QACA,KAAAC,QAAA,CAAAG,OAAA;QACAN,SAAA,CAAAK,OAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}