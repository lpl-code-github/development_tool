{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport ResizableTextArea from './ResizableTextArea';\nimport inputProps from './inputProps';\nimport hasProp, { getListeners, getOptionProps } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport { fixControlledValue, resolveOnChange } from './Input';\nimport PropTypes from '../_util/vue-types';\nvar TextAreaProps = _extends({}, inputProps, {\n  autosize: PropTypes.oneOfType([Object, Boolean]),\n  autoSize: PropTypes.oneOfType([Object, Boolean])\n});\nexport default {\n  name: 'ATextarea',\n  inheritAttrs: false,\n  model: {\n    prop: 'value',\n    event: 'change.value'\n  },\n  props: _extends({}, TextAreaProps),\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  data: function data() {\n    var value = typeof this.value === 'undefined' ? this.defaultValue : this.value;\n    return {\n      stateValue: typeof value === 'undefined' ? '' : value\n    };\n  },\n  computed: {},\n  watch: {\n    value: function value(val) {\n      this.stateValue = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n    this.$nextTick(function () {\n      if (_this.autoFocus) {\n        _this.focus();\n      }\n    });\n  },\n  methods: {\n    setValue: function setValue(value, callback) {\n      if (!hasProp(this, 'value')) {\n        this.stateValue = value;\n        this.$nextTick(function () {\n          callback && callback();\n        });\n      } else {\n        // 不在严格受控\n        // https://github.com/vueComponent/ant-design-vue/issues/2207，modal 是 新 new 实例，更新队列和当前不在同一个更新队列中\n        // this.$forceUpdate();\n      }\n    },\n    handleKeyDown: function handleKeyDown(e) {\n      if (e.keyCode === 13) {\n        this.$emit('pressEnter', e);\n      }\n      this.$emit('keydown', e);\n    },\n    onChange: function onChange(e) {\n      this.$emit('change.value', e.target.value);\n      this.$emit('change', e);\n      this.$emit('input', e);\n    },\n    handleChange: function handleChange(e) {\n      var _this2 = this;\n      var _e$target = e.target,\n        value = _e$target.value,\n        composing = _e$target.composing;\n      if ((e.isComposing || composing) && this.lazy || this.stateValue === value) return;\n      this.setValue(e.target.value, function () {\n        _this2.$refs.resizableTextArea.resizeTextarea();\n      });\n      resolveOnChange(this.$refs.resizableTextArea.$refs.textArea, e, this.onChange);\n    },\n    focus: function focus() {\n      this.$refs.resizableTextArea.$refs.textArea.focus();\n    },\n    blur: function blur() {\n      this.$refs.resizableTextArea.$refs.textArea.blur();\n    },\n    handleReset: function handleReset(e) {\n      var _this3 = this;\n      this.setValue('', function () {\n        _this3.$refs.resizableTextArea.renderTextArea();\n        _this3.focus();\n      });\n      resolveOnChange(this.$refs.resizableTextArea.$refs.textArea, e, this.onChange);\n    },\n    renderTextArea: function renderTextArea(prefixCls) {\n      var h = this.$createElement;\n      var props = getOptionProps(this);\n      var resizeProps = {\n        props: _extends({}, props, {\n          prefixCls: prefixCls\n        }),\n        on: _extends({}, getListeners(this), {\n          input: this.handleChange,\n          keydown: this.handleKeyDown\n        }),\n        attrs: this.$attrs\n      };\n      return h(ResizableTextArea, _mergeJSXProps([resizeProps, {\n        ref: 'resizableTextArea'\n      }]));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var stateValue = this.stateValue,\n      customizePrefixCls = this.prefixCls;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input', customizePrefixCls);\n    var props = {\n      props: _extends({}, getOptionProps(this), {\n        prefixCls: prefixCls,\n        inputType: 'text',\n        value: fixControlledValue(stateValue),\n        element: this.renderTextArea(prefixCls),\n        handleReset: this.handleReset\n      }),\n      on: getListeners(this)\n    };\n    return h(ClearableLabeledInput, props);\n  }\n};","map":{"version":3,"names":["_mergeJSXProps","_extends","ClearableLabeledInput","ResizableTextArea","inputProps","hasProp","getListeners","getOptionProps","ConfigConsumerProps","fixControlledValue","resolveOnChange","PropTypes","TextAreaProps","autosize","oneOfType","Object","Boolean","autoSize","name","inheritAttrs","model","prop","event","props","inject","configProvider","_default","data","value","defaultValue","stateValue","computed","watch","val","mounted","_this","$nextTick","autoFocus","focus","methods","setValue","callback","handleKeyDown","e","keyCode","$emit","onChange","target","handleChange","_this2","_e$target","composing","isComposing","lazy","$refs","resizableTextArea","resizeTextarea","textArea","blur","handleReset","_this3","renderTextArea","prefixCls","h","$createElement","resizeProps","on","input","keydown","attrs","$attrs","ref","render","arguments","customizePrefixCls","getPrefixCls","inputType","element"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/client/node_modules/ant-design-vue/es/input/TextArea.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport ResizableTextArea from './ResizableTextArea';\nimport inputProps from './inputProps';\nimport hasProp, { getListeners, getOptionProps } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport { fixControlledValue, resolveOnChange } from './Input';\nimport PropTypes from '../_util/vue-types';\n\nvar TextAreaProps = _extends({}, inputProps, {\n  autosize: PropTypes.oneOfType([Object, Boolean]),\n  autoSize: PropTypes.oneOfType([Object, Boolean])\n});\n\nexport default {\n  name: 'ATextarea',\n  inheritAttrs: false,\n  model: {\n    prop: 'value',\n    event: 'change.value'\n  },\n  props: _extends({}, TextAreaProps),\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  data: function data() {\n    var value = typeof this.value === 'undefined' ? this.defaultValue : this.value;\n    return {\n      stateValue: typeof value === 'undefined' ? '' : value\n    };\n  },\n\n  computed: {},\n  watch: {\n    value: function value(val) {\n      this.stateValue = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.autoFocus) {\n        _this.focus();\n      }\n    });\n  },\n\n  methods: {\n    setValue: function setValue(value, callback) {\n      if (!hasProp(this, 'value')) {\n        this.stateValue = value;\n        this.$nextTick(function () {\n          callback && callback();\n        });\n      } else {\n        // 不在严格受控\n        // https://github.com/vueComponent/ant-design-vue/issues/2207，modal 是 新 new 实例，更新队列和当前不在同一个更新队列中\n        // this.$forceUpdate();\n      }\n    },\n    handleKeyDown: function handleKeyDown(e) {\n      if (e.keyCode === 13) {\n        this.$emit('pressEnter', e);\n      }\n      this.$emit('keydown', e);\n    },\n    onChange: function onChange(e) {\n      this.$emit('change.value', e.target.value);\n      this.$emit('change', e);\n      this.$emit('input', e);\n    },\n    handleChange: function handleChange(e) {\n      var _this2 = this;\n\n      var _e$target = e.target,\n          value = _e$target.value,\n          composing = _e$target.composing;\n\n      if ((e.isComposing || composing) && this.lazy || this.stateValue === value) return;\n\n      this.setValue(e.target.value, function () {\n        _this2.$refs.resizableTextArea.resizeTextarea();\n      });\n      resolveOnChange(this.$refs.resizableTextArea.$refs.textArea, e, this.onChange);\n    },\n    focus: function focus() {\n      this.$refs.resizableTextArea.$refs.textArea.focus();\n    },\n    blur: function blur() {\n      this.$refs.resizableTextArea.$refs.textArea.blur();\n    },\n    handleReset: function handleReset(e) {\n      var _this3 = this;\n\n      this.setValue('', function () {\n        _this3.$refs.resizableTextArea.renderTextArea();\n        _this3.focus();\n      });\n      resolveOnChange(this.$refs.resizableTextArea.$refs.textArea, e, this.onChange);\n    },\n    renderTextArea: function renderTextArea(prefixCls) {\n      var h = this.$createElement;\n\n      var props = getOptionProps(this);\n      var resizeProps = {\n        props: _extends({}, props, {\n          prefixCls: prefixCls\n        }),\n        on: _extends({}, getListeners(this), {\n          input: this.handleChange,\n          keydown: this.handleKeyDown\n        }),\n        attrs: this.$attrs\n      };\n      return h(ResizableTextArea, _mergeJSXProps([resizeProps, { ref: 'resizableTextArea' }]));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var stateValue = this.stateValue,\n        customizePrefixCls = this.prefixCls;\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input', customizePrefixCls);\n\n    var props = {\n      props: _extends({}, getOptionProps(this), {\n        prefixCls: prefixCls,\n        inputType: 'text',\n        value: fixControlledValue(stateValue),\n        element: this.renderTextArea(prefixCls),\n        handleReset: this.handleReset\n      }),\n      on: getListeners(this)\n    };\n    return h(ClearableLabeledInput, props);\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}