{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Dialog from './Dialog';\nimport getDialogPropTypes from './IDialogPropTypes';\nimport Portal from '../_util/PortalWrapper';\nimport { defineComponent, ref, watch } from 'vue';\nimport { useProvidePortal } from '../vc-trigger/context';\nimport { initDefaultProps } from '../_util/props-util';\nconst IDialogPropTypes = getDialogPropTypes();\nconst DialogWrap = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DialogWrap',\n  inheritAttrs: false,\n  props: initDefaultProps(IDialogPropTypes, {\n    visible: false\n  }),\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const animatedVisible = ref(props.visible);\n    useProvidePortal({}, {\n      inTriggerContext: false\n    });\n    watch(() => props.visible, () => {\n      if (props.visible) {\n        animatedVisible.value = true;\n      }\n    }, {\n      flush: 'post'\n    });\n    return () => {\n      const {\n        visible,\n        getContainer,\n        forceRender,\n        destroyOnClose = false,\n        afterClose\n      } = props;\n      let dialogProps = _extends(_extends(_extends({}, props), attrs), {\n        ref: '_component',\n        key: 'dialog'\n      });\n      // 渲染在当前 dom 里；\n      if (getContainer === false) {\n        return _createVNode(Dialog, _objectSpread(_objectSpread({}, dialogProps), {}, {\n          \"getOpenCount\": () => 2\n        }), slots);\n      }\n      // Destroy on close will remove wrapped div\n      if (!forceRender && destroyOnClose && !animatedVisible.value) {\n        return null;\n      }\n      return _createVNode(Portal, {\n        \"autoLock\": true,\n        \"visible\": visible,\n        \"forceRender\": forceRender,\n        \"getContainer\": getContainer\n      }, {\n        default: childProps => {\n          dialogProps = _extends(_extends(_extends({}, dialogProps), childProps), {\n            afterClose: () => {\n              afterClose === null || afterClose === void 0 ? void 0 : afterClose();\n              animatedVisible.value = false;\n            }\n          });\n          return _createVNode(Dialog, dialogProps, slots);\n        }\n      });\n    };\n  }\n});\nexport default DialogWrap;","map":{"version":3,"names":["_objectSpread","_extends","createVNode","_createVNode","resolveDirective","_resolveDirective","Dialog","getDialogPropTypes","Portal","defineComponent","ref","watch","useProvidePortal","initDefaultProps","IDialogPropTypes","DialogWrap","compatConfig","MODE","name","inheritAttrs","props","visible","setup","_ref","attrs","slots","animatedVisible","inTriggerContext","value","flush","getContainer","forceRender","destroyOnClose","afterClose","dialogProps","key","getOpenCount","default","childProps"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-dialog/DialogWrap.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Dialog from './Dialog';\nimport getDialogPropTypes from './IDialogPropTypes';\nimport Portal from '../_util/PortalWrapper';\nimport { defineComponent, ref, watch } from 'vue';\nimport { useProvidePortal } from '../vc-trigger/context';\nimport { initDefaultProps } from '../_util/props-util';\nconst IDialogPropTypes = getDialogPropTypes();\nconst DialogWrap = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DialogWrap',\n  inheritAttrs: false,\n  props: initDefaultProps(IDialogPropTypes, {\n    visible: false\n  }),\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const animatedVisible = ref(props.visible);\n    useProvidePortal({}, {\n      inTriggerContext: false\n    });\n    watch(() => props.visible, () => {\n      if (props.visible) {\n        animatedVisible.value = true;\n      }\n    }, {\n      flush: 'post'\n    });\n    return () => {\n      const {\n        visible,\n        getContainer,\n        forceRender,\n        destroyOnClose = false,\n        afterClose\n      } = props;\n      let dialogProps = _extends(_extends(_extends({}, props), attrs), {\n        ref: '_component',\n        key: 'dialog'\n      });\n      // 渲染在当前 dom 里；\n      if (getContainer === false) {\n        return _createVNode(Dialog, _objectSpread(_objectSpread({}, dialogProps), {}, {\n          \"getOpenCount\": () => 2\n        }), slots);\n      }\n      // Destroy on close will remove wrapped div\n      if (!forceRender && destroyOnClose && !animatedVisible.value) {\n        return null;\n      }\n      return _createVNode(Portal, {\n        \"autoLock\": true,\n        \"visible\": visible,\n        \"forceRender\": forceRender,\n        \"getContainer\": getContainer\n      }, {\n        default: childProps => {\n          dialogProps = _extends(_extends(_extends({}, dialogProps), childProps), {\n            afterClose: () => {\n              afterClose === null || afterClose === void 0 ? void 0 : afterClose();\n              animatedVisible.value = false;\n            }\n          });\n          return _createVNode(Dialog, dialogProps, slots);\n        }\n      });\n    };\n  }\n});\nexport default DialogWrap;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}