{"ast":null,"code":"import { shallowRef, ref, watchEffect } from 'vue';\nexport default function useMaxLevel(keyEntities) {\n  const maxLevel = ref(0);\n  const levelEntities = shallowRef();\n  watchEffect(() => {\n    const newLevelEntities = new Map();\n    let newMaxLevel = 0;\n    const keyEntitiesValue = keyEntities.value || {};\n    // Convert entities by level for calculation\n    for (const key in keyEntitiesValue) {\n      if (Object.prototype.hasOwnProperty.call(keyEntitiesValue, key)) {\n        const entity = keyEntitiesValue[key];\n        const {\n          level\n        } = entity;\n        let levelSet = newLevelEntities.get(level);\n        if (!levelSet) {\n          levelSet = new Set();\n          newLevelEntities.set(level, levelSet);\n        }\n        levelSet.add(entity);\n        newMaxLevel = Math.max(newMaxLevel, level);\n      }\n    }\n    maxLevel.value = newMaxLevel;\n    levelEntities.value = newLevelEntities;\n  });\n  return {\n    maxLevel,\n    levelEntities\n  };\n}","map":{"version":3,"names":["shallowRef","ref","watchEffect","useMaxLevel","keyEntities","maxLevel","levelEntities","newLevelEntities","Map","newMaxLevel","keyEntitiesValue","value","key","Object","prototype","hasOwnProperty","call","entity","level","levelSet","get","Set","set","add","Math","max"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-tree/useMaxLevel.js"],"sourcesContent":["import { shallowRef, ref, watchEffect } from 'vue';\nexport default function useMaxLevel(keyEntities) {\n  const maxLevel = ref(0);\n  const levelEntities = shallowRef();\n  watchEffect(() => {\n    const newLevelEntities = new Map();\n    let newMaxLevel = 0;\n    const keyEntitiesValue = keyEntities.value || {};\n    // Convert entities by level for calculation\n    for (const key in keyEntitiesValue) {\n      if (Object.prototype.hasOwnProperty.call(keyEntitiesValue, key)) {\n        const entity = keyEntitiesValue[key];\n        const {\n          level\n        } = entity;\n        let levelSet = newLevelEntities.get(level);\n        if (!levelSet) {\n          levelSet = new Set();\n          newLevelEntities.set(level, levelSet);\n        }\n        levelSet.add(entity);\n        newMaxLevel = Math.max(newMaxLevel, level);\n      }\n    }\n    maxLevel.value = newMaxLevel;\n    levelEntities.value = newLevelEntities;\n  });\n  return {\n    maxLevel,\n    levelEntities\n  };\n}"],"mappings":"AAAA,SAASA,UAAU,EAAEC,GAAG,EAAEC,WAAW,QAAQ,KAAK;AAClD,eAAe,SAASC,WAAWA,CAACC,WAAW,EAAE;EAC/C,MAAMC,QAAQ,GAAGJ,GAAG,CAAC,CAAC,CAAC;EACvB,MAAMK,aAAa,GAAGN,UAAU,CAAC,CAAC;EAClCE,WAAW,CAAC,MAAM;IAChB,MAAMK,gBAAgB,GAAG,IAAIC,GAAG,CAAC,CAAC;IAClC,IAAIC,WAAW,GAAG,CAAC;IACnB,MAAMC,gBAAgB,GAAGN,WAAW,CAACO,KAAK,IAAI,CAAC,CAAC;IAChD;IACA,KAAK,MAAMC,GAAG,IAAIF,gBAAgB,EAAE;MAClC,IAAIG,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACN,gBAAgB,EAAEE,GAAG,CAAC,EAAE;QAC/D,MAAMK,MAAM,GAAGP,gBAAgB,CAACE,GAAG,CAAC;QACpC,MAAM;UACJM;QACF,CAAC,GAAGD,MAAM;QACV,IAAIE,QAAQ,GAAGZ,gBAAgB,CAACa,GAAG,CAACF,KAAK,CAAC;QAC1C,IAAI,CAACC,QAAQ,EAAE;UACbA,QAAQ,GAAG,IAAIE,GAAG,CAAC,CAAC;UACpBd,gBAAgB,CAACe,GAAG,CAACJ,KAAK,EAAEC,QAAQ,CAAC;QACvC;QACAA,QAAQ,CAACI,GAAG,CAACN,MAAM,CAAC;QACpBR,WAAW,GAAGe,IAAI,CAACC,GAAG,CAAChB,WAAW,EAAES,KAAK,CAAC;MAC5C;IACF;IACAb,QAAQ,CAACM,KAAK,GAAGF,WAAW;IAC5BH,aAAa,CAACK,KAAK,GAAGJ,gBAAgB;EACxC,CAAC,CAAC;EACF,OAAO;IACLF,QAAQ;IACRC;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}