{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { isLeaf, toPathKey } from '../utils/commonUtil';\nimport Checkbox from './Checkbox';\nimport { SEARCH_MARK } from '../hooks/useSearchOptions';\nimport { useInjectCascader } from '../context';\nexport const FIX_LABEL = '__cascader_fix_label__';\nexport default function Column(_ref) {\n  let {\n    prefixCls,\n    multiple,\n    options,\n    activeValue,\n    prevValuePath,\n    onToggleOpen,\n    onSelect,\n    onActive,\n    checkedSet,\n    halfCheckedSet,\n    loadingKeys,\n    isSelectable\n  } = _ref;\n  var _a, _b, _c, _d, _e, _f;\n  const menuPrefixCls = `${prefixCls}-menu`;\n  const menuItemPrefixCls = `${prefixCls}-menu-item`;\n  const {\n    fieldNames,\n    changeOnSelect,\n    expandTrigger,\n    expandIcon: expandIconRef,\n    loadingIcon: loadingIconRef,\n    dropdownMenuColumnStyle,\n    customSlots\n  } = useInjectCascader();\n  const expandIcon = (_a = expandIconRef.value) !== null && _a !== void 0 ? _a : (_c = (_b = customSlots.value).expandIcon) === null || _c === void 0 ? void 0 : _c.call(_b);\n  const loadingIcon = (_d = loadingIconRef.value) !== null && _d !== void 0 ? _d : (_f = (_e = customSlots.value).loadingIcon) === null || _f === void 0 ? void 0 : _f.call(_e);\n  const hoverOpen = expandTrigger.value === 'hover';\n  // ============================ Render ============================\n  return _createVNode(\"ul\", {\n    \"class\": menuPrefixCls,\n    \"role\": \"menu\"\n  }, [options.map(option => {\n    var _a;\n    const {\n      disabled\n    } = option;\n    const searchOptions = option[SEARCH_MARK];\n    const label = (_a = option[FIX_LABEL]) !== null && _a !== void 0 ? _a : option[fieldNames.value.label];\n    const value = option[fieldNames.value.value];\n    const isMergedLeaf = isLeaf(option, fieldNames.value);\n    // Get real value of option. Search option is different way.\n    const fullPath = searchOptions ? searchOptions.map(opt => opt[fieldNames.value.value]) : [...prevValuePath, value];\n    const fullPathKey = toPathKey(fullPath);\n    const isLoading = loadingKeys.includes(fullPathKey);\n    // >>>>> checked\n    const checked = checkedSet.has(fullPathKey);\n    // >>>>> halfChecked\n    const halfChecked = halfCheckedSet.has(fullPathKey);\n    // >>>>> Open\n    const triggerOpenPath = () => {\n      if (!disabled && (!hoverOpen || !isMergedLeaf)) {\n        onActive(fullPath);\n      }\n    };\n    // >>>>> Selection\n    const triggerSelect = () => {\n      if (isSelectable(option)) {\n        onSelect(fullPath, isMergedLeaf);\n      }\n    };\n    // >>>>> Title\n    let title;\n    if (typeof option.title === 'string') {\n      title = option.title;\n    } else if (typeof label === 'string') {\n      title = label;\n    }\n    // >>>>> Render\n    return _createVNode(\"li\", {\n      \"key\": fullPathKey,\n      \"class\": [menuItemPrefixCls, {\n        [`${menuItemPrefixCls}-expand`]: !isMergedLeaf,\n        [`${menuItemPrefixCls}-active`]: activeValue === value,\n        [`${menuItemPrefixCls}-disabled`]: disabled,\n        [`${menuItemPrefixCls}-loading`]: isLoading\n      }],\n      \"style\": dropdownMenuColumnStyle.value,\n      \"role\": \"menuitemcheckbox\",\n      \"title\": title,\n      \"aria-checked\": checked,\n      \"data-path-key\": fullPathKey,\n      \"onClick\": () => {\n        triggerOpenPath();\n        if (!multiple || isMergedLeaf) {\n          triggerSelect();\n        }\n      },\n      \"onDblclick\": () => {\n        if (changeOnSelect.value) {\n          onToggleOpen(false);\n        }\n      },\n      \"onMouseenter\": () => {\n        if (hoverOpen) {\n          triggerOpenPath();\n        }\n      },\n      \"onMousedown\": e => {\n        // Prevent selector from blurring\n        e.preventDefault();\n      }\n    }, [multiple && _createVNode(Checkbox, {\n      \"prefixCls\": `${prefixCls}-checkbox`,\n      \"checked\": checked,\n      \"halfChecked\": halfChecked,\n      \"disabled\": disabled,\n      \"onClick\": e => {\n        e.stopPropagation();\n        triggerSelect();\n      }\n    }, null), _createVNode(\"div\", {\n      \"class\": `${menuItemPrefixCls}-content`\n    }, [label]), !isLoading && expandIcon && !isMergedLeaf && _createVNode(\"div\", {\n      \"class\": `${menuItemPrefixCls}-expand-icon`\n    }, [expandIcon]), isLoading && loadingIcon && _createVNode(\"div\", {\n      \"class\": `${menuItemPrefixCls}-loading-icon`\n    }, [loadingIcon])]);\n  })]);\n}\nColumn.props = ['prefixCls', 'multiple', 'options', 'activeValue', 'prevValuePath', 'onToggleOpen', 'onSelect', 'onActive', 'checkedSet', 'halfCheckedSet', 'loadingKeys', 'isSelectable'];\nColumn.displayName = 'Column';\nColumn.inheritAttrs = false;","map":{"version":3,"names":["createVNode","_createVNode","isLeaf","toPathKey","Checkbox","SEARCH_MARK","useInjectCascader","FIX_LABEL","Column","_ref","prefixCls","multiple","options","activeValue","prevValuePath","onToggleOpen","onSelect","onActive","checkedSet","halfCheckedSet","loadingKeys","isSelectable","_a","_b","_c","_d","_e","_f","menuPrefixCls","menuItemPrefixCls","fieldNames","changeOnSelect","expandTrigger","expandIcon","expandIconRef","loadingIcon","loadingIconRef","dropdownMenuColumnStyle","customSlots","value","call","hoverOpen","map","option","disabled","searchOptions","label","isMergedLeaf","fullPath","opt","fullPathKey","isLoading","includes","checked","has","halfChecked","triggerOpenPath","triggerSelect","title","onClick","onDblclick","onMouseenter","e","preventDefault","stopPropagation","props","displayName","inheritAttrs"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-cascader/OptionList/Column.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { isLeaf, toPathKey } from '../utils/commonUtil';\nimport Checkbox from './Checkbox';\nimport { SEARCH_MARK } from '../hooks/useSearchOptions';\nimport { useInjectCascader } from '../context';\nexport const FIX_LABEL = '__cascader_fix_label__';\nexport default function Column(_ref) {\n  let {\n    prefixCls,\n    multiple,\n    options,\n    activeValue,\n    prevValuePath,\n    onToggleOpen,\n    onSelect,\n    onActive,\n    checkedSet,\n    halfCheckedSet,\n    loadingKeys,\n    isSelectable\n  } = _ref;\n  var _a, _b, _c, _d, _e, _f;\n  const menuPrefixCls = `${prefixCls}-menu`;\n  const menuItemPrefixCls = `${prefixCls}-menu-item`;\n  const {\n    fieldNames,\n    changeOnSelect,\n    expandTrigger,\n    expandIcon: expandIconRef,\n    loadingIcon: loadingIconRef,\n    dropdownMenuColumnStyle,\n    customSlots\n  } = useInjectCascader();\n  const expandIcon = (_a = expandIconRef.value) !== null && _a !== void 0 ? _a : (_c = (_b = customSlots.value).expandIcon) === null || _c === void 0 ? void 0 : _c.call(_b);\n  const loadingIcon = (_d = loadingIconRef.value) !== null && _d !== void 0 ? _d : (_f = (_e = customSlots.value).loadingIcon) === null || _f === void 0 ? void 0 : _f.call(_e);\n  const hoverOpen = expandTrigger.value === 'hover';\n  // ============================ Render ============================\n  return _createVNode(\"ul\", {\n    \"class\": menuPrefixCls,\n    \"role\": \"menu\"\n  }, [options.map(option => {\n    var _a;\n    const {\n      disabled\n    } = option;\n    const searchOptions = option[SEARCH_MARK];\n    const label = (_a = option[FIX_LABEL]) !== null && _a !== void 0 ? _a : option[fieldNames.value.label];\n    const value = option[fieldNames.value.value];\n    const isMergedLeaf = isLeaf(option, fieldNames.value);\n    // Get real value of option. Search option is different way.\n    const fullPath = searchOptions ? searchOptions.map(opt => opt[fieldNames.value.value]) : [...prevValuePath, value];\n    const fullPathKey = toPathKey(fullPath);\n    const isLoading = loadingKeys.includes(fullPathKey);\n    // >>>>> checked\n    const checked = checkedSet.has(fullPathKey);\n    // >>>>> halfChecked\n    const halfChecked = halfCheckedSet.has(fullPathKey);\n    // >>>>> Open\n    const triggerOpenPath = () => {\n      if (!disabled && (!hoverOpen || !isMergedLeaf)) {\n        onActive(fullPath);\n      }\n    };\n    // >>>>> Selection\n    const triggerSelect = () => {\n      if (isSelectable(option)) {\n        onSelect(fullPath, isMergedLeaf);\n      }\n    };\n    // >>>>> Title\n    let title;\n    if (typeof option.title === 'string') {\n      title = option.title;\n    } else if (typeof label === 'string') {\n      title = label;\n    }\n    // >>>>> Render\n    return _createVNode(\"li\", {\n      \"key\": fullPathKey,\n      \"class\": [menuItemPrefixCls, {\n        [`${menuItemPrefixCls}-expand`]: !isMergedLeaf,\n        [`${menuItemPrefixCls}-active`]: activeValue === value,\n        [`${menuItemPrefixCls}-disabled`]: disabled,\n        [`${menuItemPrefixCls}-loading`]: isLoading\n      }],\n      \"style\": dropdownMenuColumnStyle.value,\n      \"role\": \"menuitemcheckbox\",\n      \"title\": title,\n      \"aria-checked\": checked,\n      \"data-path-key\": fullPathKey,\n      \"onClick\": () => {\n        triggerOpenPath();\n        if (!multiple || isMergedLeaf) {\n          triggerSelect();\n        }\n      },\n      \"onDblclick\": () => {\n        if (changeOnSelect.value) {\n          onToggleOpen(false);\n        }\n      },\n      \"onMouseenter\": () => {\n        if (hoverOpen) {\n          triggerOpenPath();\n        }\n      },\n      \"onMousedown\": e => {\n        // Prevent selector from blurring\n        e.preventDefault();\n      }\n    }, [multiple && _createVNode(Checkbox, {\n      \"prefixCls\": `${prefixCls}-checkbox`,\n      \"checked\": checked,\n      \"halfChecked\": halfChecked,\n      \"disabled\": disabled,\n      \"onClick\": e => {\n        e.stopPropagation();\n        triggerSelect();\n      }\n    }, null), _createVNode(\"div\", {\n      \"class\": `${menuItemPrefixCls}-content`\n    }, [label]), !isLoading && expandIcon && !isMergedLeaf && _createVNode(\"div\", {\n      \"class\": `${menuItemPrefixCls}-expand-icon`\n    }, [expandIcon]), isLoading && loadingIcon && _createVNode(\"div\", {\n      \"class\": `${menuItemPrefixCls}-loading-icon`\n    }, [loadingIcon])]);\n  })]);\n}\nColumn.props = ['prefixCls', 'multiple', 'options', 'activeValue', 'prevValuePath', 'onToggleOpen', 'onSelect', 'onActive', 'checkedSet', 'halfCheckedSet', 'loadingKeys', 'isSelectable'];\nColumn.displayName = 'Column';\nColumn.inheritAttrs = false;"],"mappings":"AAAA,SAASA,WAAW,IAAIC,YAAY,QAAQ,KAAK;AACjD,SAASC,MAAM,EAAEC,SAAS,QAAQ,qBAAqB;AACvD,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,WAAW,QAAQ,2BAA2B;AACvD,SAASC,iBAAiB,QAAQ,YAAY;AAC9C,OAAO,MAAMC,SAAS,GAAG,wBAAwB;AACjD,eAAe,SAASC,MAAMA,CAACC,IAAI,EAAE;EACnC,IAAI;IACFC,SAAS;IACTC,QAAQ;IACRC,OAAO;IACPC,WAAW;IACXC,aAAa;IACbC,YAAY;IACZC,QAAQ;IACRC,QAAQ;IACRC,UAAU;IACVC,cAAc;IACdC,WAAW;IACXC;EACF,CAAC,GAAGZ,IAAI;EACR,IAAIa,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;EAC1B,MAAMC,aAAa,GAAI,GAAElB,SAAU,OAAM;EACzC,MAAMmB,iBAAiB,GAAI,GAAEnB,SAAU,YAAW;EAClD,MAAM;IACJoB,UAAU;IACVC,cAAc;IACdC,aAAa;IACbC,UAAU,EAAEC,aAAa;IACzBC,WAAW,EAAEC,cAAc;IAC3BC,uBAAuB;IACvBC;EACF,CAAC,GAAGhC,iBAAiB,CAAC,CAAC;EACvB,MAAM2B,UAAU,GAAG,CAACX,EAAE,GAAGY,aAAa,CAACK,KAAK,MAAM,IAAI,IAAIjB,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,CAACE,EAAE,GAAG,CAACD,EAAE,GAAGe,WAAW,CAACC,KAAK,EAAEN,UAAU,MAAM,IAAI,IAAIT,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgB,IAAI,CAACjB,EAAE,CAAC;EAC1K,MAAMY,WAAW,GAAG,CAACV,EAAE,GAAGW,cAAc,CAACG,KAAK,MAAM,IAAI,IAAId,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,CAACE,EAAE,GAAG,CAACD,EAAE,GAAGY,WAAW,CAACC,KAAK,EAAEJ,WAAW,MAAM,IAAI,IAAIR,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACa,IAAI,CAACd,EAAE,CAAC;EAC7K,MAAMe,SAAS,GAAGT,aAAa,CAACO,KAAK,KAAK,OAAO;EACjD;EACA,OAAOtC,YAAY,CAAC,IAAI,EAAE;IACxB,OAAO,EAAE2B,aAAa;IACtB,MAAM,EAAE;EACV,CAAC,EAAE,CAAChB,OAAO,CAAC8B,GAAG,CAACC,MAAM,IAAI;IACxB,IAAIrB,EAAE;IACN,MAAM;MACJsB;IACF,CAAC,GAAGD,MAAM;IACV,MAAME,aAAa,GAAGF,MAAM,CAACtC,WAAW,CAAC;IACzC,MAAMyC,KAAK,GAAG,CAACxB,EAAE,GAAGqB,MAAM,CAACpC,SAAS,CAAC,MAAM,IAAI,IAAIe,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGqB,MAAM,CAACb,UAAU,CAACS,KAAK,CAACO,KAAK,CAAC;IACtG,MAAMP,KAAK,GAAGI,MAAM,CAACb,UAAU,CAACS,KAAK,CAACA,KAAK,CAAC;IAC5C,MAAMQ,YAAY,GAAG7C,MAAM,CAACyC,MAAM,EAAEb,UAAU,CAACS,KAAK,CAAC;IACrD;IACA,MAAMS,QAAQ,GAAGH,aAAa,GAAGA,aAAa,CAACH,GAAG,CAACO,GAAG,IAAIA,GAAG,CAACnB,UAAU,CAACS,KAAK,CAACA,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGzB,aAAa,EAAEyB,KAAK,CAAC;IAClH,MAAMW,WAAW,GAAG/C,SAAS,CAAC6C,QAAQ,CAAC;IACvC,MAAMG,SAAS,GAAG/B,WAAW,CAACgC,QAAQ,CAACF,WAAW,CAAC;IACnD;IACA,MAAMG,OAAO,GAAGnC,UAAU,CAACoC,GAAG,CAACJ,WAAW,CAAC;IAC3C;IACA,MAAMK,WAAW,GAAGpC,cAAc,CAACmC,GAAG,CAACJ,WAAW,CAAC;IACnD;IACA,MAAMM,eAAe,GAAGA,CAAA,KAAM;MAC5B,IAAI,CAACZ,QAAQ,KAAK,CAACH,SAAS,IAAI,CAACM,YAAY,CAAC,EAAE;QAC9C9B,QAAQ,CAAC+B,QAAQ,CAAC;MACpB;IACF,CAAC;IACD;IACA,MAAMS,aAAa,GAAGA,CAAA,KAAM;MAC1B,IAAIpC,YAAY,CAACsB,MAAM,CAAC,EAAE;QACxB3B,QAAQ,CAACgC,QAAQ,EAAED,YAAY,CAAC;MAClC;IACF,CAAC;IACD;IACA,IAAIW,KAAK;IACT,IAAI,OAAOf,MAAM,CAACe,KAAK,KAAK,QAAQ,EAAE;MACpCA,KAAK,GAAGf,MAAM,CAACe,KAAK;IACtB,CAAC,MAAM,IAAI,OAAOZ,KAAK,KAAK,QAAQ,EAAE;MACpCY,KAAK,GAAGZ,KAAK;IACf;IACA;IACA,OAAO7C,YAAY,CAAC,IAAI,EAAE;MACxB,KAAK,EAAEiD,WAAW;MAClB,OAAO,EAAE,CAACrB,iBAAiB,EAAE;QAC3B,CAAE,GAAEA,iBAAkB,SAAQ,GAAG,CAACkB,YAAY;QAC9C,CAAE,GAAElB,iBAAkB,SAAQ,GAAGhB,WAAW,KAAK0B,KAAK;QACtD,CAAE,GAAEV,iBAAkB,WAAU,GAAGe,QAAQ;QAC3C,CAAE,GAAEf,iBAAkB,UAAS,GAAGsB;MACpC,CAAC,CAAC;MACF,OAAO,EAAEd,uBAAuB,CAACE,KAAK;MACtC,MAAM,EAAE,kBAAkB;MAC1B,OAAO,EAAEmB,KAAK;MACd,cAAc,EAAEL,OAAO;MACvB,eAAe,EAAEH,WAAW;MAC5B,SAAS,EAAES,CAAA,KAAM;QACfH,eAAe,CAAC,CAAC;QACjB,IAAI,CAAC7C,QAAQ,IAAIoC,YAAY,EAAE;UAC7BU,aAAa,CAAC,CAAC;QACjB;MACF,CAAC;MACD,YAAY,EAAEG,CAAA,KAAM;QAClB,IAAI7B,cAAc,CAACQ,KAAK,EAAE;UACxBxB,YAAY,CAAC,KAAK,CAAC;QACrB;MACF,CAAC;MACD,cAAc,EAAE8C,CAAA,KAAM;QACpB,IAAIpB,SAAS,EAAE;UACbe,eAAe,CAAC,CAAC;QACnB;MACF,CAAC;MACD,aAAa,EAAEM,CAAC,IAAI;QAClB;QACAA,CAAC,CAACC,cAAc,CAAC,CAAC;MACpB;IACF,CAAC,EAAE,CAACpD,QAAQ,IAAIV,YAAY,CAACG,QAAQ,EAAE;MACrC,WAAW,EAAG,GAAEM,SAAU,WAAU;MACpC,SAAS,EAAE2C,OAAO;MAClB,aAAa,EAAEE,WAAW;MAC1B,UAAU,EAAEX,QAAQ;MACpB,SAAS,EAAEkB,CAAC,IAAI;QACdA,CAAC,CAACE,eAAe,CAAC,CAAC;QACnBP,aAAa,CAAC,CAAC;MACjB;IACF,CAAC,EAAE,IAAI,CAAC,EAAExD,YAAY,CAAC,KAAK,EAAE;MAC5B,OAAO,EAAG,GAAE4B,iBAAkB;IAChC,CAAC,EAAE,CAACiB,KAAK,CAAC,CAAC,EAAE,CAACK,SAAS,IAAIlB,UAAU,IAAI,CAACc,YAAY,IAAI9C,YAAY,CAAC,KAAK,EAAE;MAC5E,OAAO,EAAG,GAAE4B,iBAAkB;IAChC,CAAC,EAAE,CAACI,UAAU,CAAC,CAAC,EAAEkB,SAAS,IAAIhB,WAAW,IAAIlC,YAAY,CAAC,KAAK,EAAE;MAChE,OAAO,EAAG,GAAE4B,iBAAkB;IAChC,CAAC,EAAE,CAACM,WAAW,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC;AACN;AACA3B,MAAM,CAACyD,KAAK,GAAG,CAAC,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,aAAa,EAAE,eAAe,EAAE,cAAc,EAAE,UAAU,EAAE,UAAU,EAAE,YAAY,EAAE,gBAAgB,EAAE,aAAa,EAAE,cAAc,CAAC;AAC1LzD,MAAM,CAAC0D,WAAW,GAAG,QAAQ;AAC7B1D,MAAM,CAAC2D,YAAY,GAAG,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}