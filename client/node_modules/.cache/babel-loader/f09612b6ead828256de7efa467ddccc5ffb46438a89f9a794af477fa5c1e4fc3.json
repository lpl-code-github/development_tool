{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nimport isMobile from '../../vc-util/isMobile';\nimport { onBeforeUnmount, ref, defineComponent } from 'vue';\nimport classNames from '../../_util/classNames';\nimport { functionType } from '../../_util/type';\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\nconst STEP_INTERVAL = 200;\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\nconst STEP_DELAY = 600;\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'StepHandler',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    upDisabled: Boolean,\n    downDisabled: Boolean,\n    onStep: functionType()\n  },\n  slots: Object,\n  setup(props, _ref) {\n    let {\n      slots,\n      emit\n    } = _ref;\n    const stepTimeoutRef = ref();\n    // We will interval update step when hold mouse down\n    const onStepMouseDown = (e, up) => {\n      e.preventDefault();\n      emit('step', up);\n      // Loop step for interval\n      function loopStep() {\n        emit('step', up);\n        stepTimeoutRef.value = setTimeout(loopStep, STEP_INTERVAL);\n      }\n      // First time press will wait some time to trigger loop step update\n      stepTimeoutRef.value = setTimeout(loopStep, STEP_DELAY);\n    };\n    const onStopStep = () => {\n      clearTimeout(stepTimeoutRef.value);\n    };\n    onBeforeUnmount(() => {\n      onStopStep();\n    });\n    return () => {\n      if (isMobile()) {\n        return null;\n      }\n      const {\n        prefixCls,\n        upDisabled,\n        downDisabled\n      } = props;\n      const handlerClassName = `${prefixCls}-handler`;\n      const upClassName = classNames(handlerClassName, `${handlerClassName}-up`, {\n        [`${handlerClassName}-up-disabled`]: upDisabled\n      });\n      const downClassName = classNames(handlerClassName, `${handlerClassName}-down`, {\n        [`${handlerClassName}-down-disabled`]: downDisabled\n      });\n      const sharedHandlerProps = {\n        unselectable: 'on',\n        role: 'button',\n        onMouseup: onStopStep,\n        onMouseleave: onStopStep\n      };\n      const {\n        upNode,\n        downNode\n      } = slots;\n      return _createVNode(\"div\", {\n        \"class\": `${handlerClassName}-wrap`\n      }, [_createVNode(\"span\", _objectSpread(_objectSpread({}, sharedHandlerProps), {}, {\n        \"onMousedown\": e => {\n          onStepMouseDown(e, true);\n        },\n        \"aria-label\": \"Increase Value\",\n        \"aria-disabled\": upDisabled,\n        \"class\": upClassName\n      }), [(upNode === null || upNode === void 0 ? void 0 : upNode()) || _createVNode(\"span\", {\n        \"unselectable\": \"on\",\n        \"class\": `${prefixCls}-handler-up-inner`\n      }, null)]), _createVNode(\"span\", _objectSpread(_objectSpread({}, sharedHandlerProps), {}, {\n        \"onMousedown\": e => {\n          onStepMouseDown(e, false);\n        },\n        \"aria-label\": \"Decrease Value\",\n        \"aria-disabled\": downDisabled,\n        \"class\": downClassName\n      }), [(downNode === null || downNode === void 0 ? void 0 : downNode()) || _createVNode(\"span\", {\n        \"unselectable\": \"on\",\n        \"class\": `${prefixCls}-handler-down-inner`\n      }, null)])]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","createVNode","_createVNode","isMobile","onBeforeUnmount","ref","defineComponent","classNames","functionType","STEP_INTERVAL","STEP_DELAY","compatConfig","MODE","name","inheritAttrs","props","prefixCls","String","upDisabled","Boolean","downDisabled","onStep","slots","Object","setup","_ref","emit","stepTimeoutRef","onStepMouseDown","e","up","preventDefault","loopStep","value","setTimeout","onStopStep","clearTimeout","handlerClassName","upClassName","downClassName","sharedHandlerProps","unselectable","role","onMouseup","onMouseleave","upNode","downNode"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/input-number/src/StepHandler.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nimport isMobile from '../../vc-util/isMobile';\nimport { onBeforeUnmount, ref, defineComponent } from 'vue';\nimport classNames from '../../_util/classNames';\nimport { functionType } from '../../_util/type';\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\nconst STEP_INTERVAL = 200;\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\nconst STEP_DELAY = 600;\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'StepHandler',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    upDisabled: Boolean,\n    downDisabled: Boolean,\n    onStep: functionType()\n  },\n  slots: Object,\n  setup(props, _ref) {\n    let {\n      slots,\n      emit\n    } = _ref;\n    const stepTimeoutRef = ref();\n    // We will interval update step when hold mouse down\n    const onStepMouseDown = (e, up) => {\n      e.preventDefault();\n      emit('step', up);\n      // Loop step for interval\n      function loopStep() {\n        emit('step', up);\n        stepTimeoutRef.value = setTimeout(loopStep, STEP_INTERVAL);\n      }\n      // First time press will wait some time to trigger loop step update\n      stepTimeoutRef.value = setTimeout(loopStep, STEP_DELAY);\n    };\n    const onStopStep = () => {\n      clearTimeout(stepTimeoutRef.value);\n    };\n    onBeforeUnmount(() => {\n      onStopStep();\n    });\n    return () => {\n      if (isMobile()) {\n        return null;\n      }\n      const {\n        prefixCls,\n        upDisabled,\n        downDisabled\n      } = props;\n      const handlerClassName = `${prefixCls}-handler`;\n      const upClassName = classNames(handlerClassName, `${handlerClassName}-up`, {\n        [`${handlerClassName}-up-disabled`]: upDisabled\n      });\n      const downClassName = classNames(handlerClassName, `${handlerClassName}-down`, {\n        [`${handlerClassName}-down-disabled`]: downDisabled\n      });\n      const sharedHandlerProps = {\n        unselectable: 'on',\n        role: 'button',\n        onMouseup: onStopStep,\n        onMouseleave: onStopStep\n      };\n      const {\n        upNode,\n        downNode\n      } = slots;\n      return _createVNode(\"div\", {\n        \"class\": `${handlerClassName}-wrap`\n      }, [_createVNode(\"span\", _objectSpread(_objectSpread({}, sharedHandlerProps), {}, {\n        \"onMousedown\": e => {\n          onStepMouseDown(e, true);\n        },\n        \"aria-label\": \"Increase Value\",\n        \"aria-disabled\": upDisabled,\n        \"class\": upClassName\n      }), [(upNode === null || upNode === void 0 ? void 0 : upNode()) || _createVNode(\"span\", {\n        \"unselectable\": \"on\",\n        \"class\": `${prefixCls}-handler-up-inner`\n      }, null)]), _createVNode(\"span\", _objectSpread(_objectSpread({}, sharedHandlerProps), {}, {\n        \"onMousedown\": e => {\n          onStepMouseDown(e, false);\n        },\n        \"aria-label\": \"Decrease Value\",\n        \"aria-disabled\": downDisabled,\n        \"class\": downClassName\n      }), [(downNode === null || downNode === void 0 ? void 0 : downNode()) || _createVNode(\"span\", {\n        \"unselectable\": \"on\",\n        \"class\": `${prefixCls}-handler-down-inner`\n      }, null)])]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}