{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { scrollTo, waitElementReady } from '../../utils/uiUtil';\nimport { useInjectPanel } from '../../PanelContext';\nimport classNames from '../../../_util/classNames';\nimport { ref, onBeforeUnmount, watch, defineComponent, nextTick } from 'vue';\nexport default defineComponent({\n  name: 'TimeUnitColumn',\n  props: ['prefixCls', 'units', 'onSelect', 'value', 'active', 'hideDisabledOptions'],\n  setup(props) {\n    const {\n      open\n    } = useInjectPanel();\n    const ulRef = ref(null);\n    const liRefs = ref(new Map());\n    const scrollRef = ref();\n    watch(() => props.value, () => {\n      const li = liRefs.value.get(props.value);\n      if (li && open.value !== false) {\n        scrollTo(ulRef.value, li.offsetTop, 120);\n      }\n    });\n    onBeforeUnmount(() => {\n      var _a;\n      (_a = scrollRef.value) === null || _a === void 0 ? void 0 : _a.call(scrollRef);\n    });\n    watch(open, () => {\n      var _a;\n      (_a = scrollRef.value) === null || _a === void 0 ? void 0 : _a.call(scrollRef);\n      nextTick(() => {\n        if (open.value) {\n          const li = liRefs.value.get(props.value);\n          if (li) {\n            scrollRef.value = waitElementReady(li, () => {\n              scrollTo(ulRef.value, li.offsetTop, 0);\n            });\n          }\n        }\n      });\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    return () => {\n      const {\n        prefixCls,\n        units,\n        onSelect,\n        value,\n        active,\n        hideDisabledOptions\n      } = props;\n      const cellPrefixCls = `${prefixCls}-cell`;\n      return _createVNode(\"ul\", {\n        \"class\": classNames(`${prefixCls}-column`, {\n          [`${prefixCls}-column-active`]: active\n        }),\n        \"ref\": ulRef,\n        \"style\": {\n          position: 'relative'\n        }\n      }, [units.map(unit => {\n        if (hideDisabledOptions && unit.disabled) {\n          return null;\n        }\n        return _createVNode(\"li\", {\n          \"key\": unit.value,\n          \"ref\": element => {\n            liRefs.value.set(unit.value, element);\n          },\n          \"class\": classNames(cellPrefixCls, {\n            [`${cellPrefixCls}-disabled`]: unit.disabled,\n            [`${cellPrefixCls}-selected`]: value === unit.value\n          }),\n          \"onClick\": () => {\n            if (unit.disabled) {\n              return;\n            }\n            onSelect(unit.value);\n          }\n        }, [_createVNode(\"div\", {\n          \"class\": `${cellPrefixCls}-inner`\n        }, [unit.label])]);\n      })]);\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","scrollTo","waitElementReady","useInjectPanel","classNames","ref","onBeforeUnmount","watch","defineComponent","nextTick","name","props","setup","open","ulRef","liRefs","Map","scrollRef","value","li","get","offsetTop","_a","call","immediate","flush","prefixCls","units","onSelect","active","hideDisabledOptions","cellPrefixCls","position","map","unit","disabled","element","set","onClick","label"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-picker/panels/TimePanel/TimeUnitColumn.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { scrollTo, waitElementReady } from '../../utils/uiUtil';\nimport { useInjectPanel } from '../../PanelContext';\nimport classNames from '../../../_util/classNames';\nimport { ref, onBeforeUnmount, watch, defineComponent, nextTick } from 'vue';\nexport default defineComponent({\n  name: 'TimeUnitColumn',\n  props: ['prefixCls', 'units', 'onSelect', 'value', 'active', 'hideDisabledOptions'],\n  setup(props) {\n    const {\n      open\n    } = useInjectPanel();\n    const ulRef = ref(null);\n    const liRefs = ref(new Map());\n    const scrollRef = ref();\n    watch(() => props.value, () => {\n      const li = liRefs.value.get(props.value);\n      if (li && open.value !== false) {\n        scrollTo(ulRef.value, li.offsetTop, 120);\n      }\n    });\n    onBeforeUnmount(() => {\n      var _a;\n      (_a = scrollRef.value) === null || _a === void 0 ? void 0 : _a.call(scrollRef);\n    });\n    watch(open, () => {\n      var _a;\n      (_a = scrollRef.value) === null || _a === void 0 ? void 0 : _a.call(scrollRef);\n      nextTick(() => {\n        if (open.value) {\n          const li = liRefs.value.get(props.value);\n          if (li) {\n            scrollRef.value = waitElementReady(li, () => {\n              scrollTo(ulRef.value, li.offsetTop, 0);\n            });\n          }\n        }\n      });\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    return () => {\n      const {\n        prefixCls,\n        units,\n        onSelect,\n        value,\n        active,\n        hideDisabledOptions\n      } = props;\n      const cellPrefixCls = `${prefixCls}-cell`;\n      return _createVNode(\"ul\", {\n        \"class\": classNames(`${prefixCls}-column`, {\n          [`${prefixCls}-column-active`]: active\n        }),\n        \"ref\": ulRef,\n        \"style\": {\n          position: 'relative'\n        }\n      }, [units.map(unit => {\n        if (hideDisabledOptions && unit.disabled) {\n          return null;\n        }\n        return _createVNode(\"li\", {\n          \"key\": unit.value,\n          \"ref\": element => {\n            liRefs.value.set(unit.value, element);\n          },\n          \"class\": classNames(cellPrefixCls, {\n            [`${cellPrefixCls}-disabled`]: unit.disabled,\n            [`${cellPrefixCls}-selected`]: value === unit.value\n          }),\n          \"onClick\": () => {\n            if (unit.disabled) {\n              return;\n            }\n            onSelect(unit.value);\n          }\n        }, [_createVNode(\"div\", {\n          \"class\": `${cellPrefixCls}-inner`\n        }, [unit.label])]);\n      })]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}