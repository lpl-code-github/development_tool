{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport SubMenu from '../SubMenu';\nimport ItemGroup from '../ItemGroup';\nimport MenuDivider from '../Divider';\nimport MenuItem from '../MenuItem';\nimport { ref, shallowRef, watch } from 'vue';\nfunction convertItemsToNodes(list, store, parentMenuInfo) {\n  return (list || []).map((opt, index) => {\n    if (opt && typeof opt === 'object') {\n      const _a = opt,\n        {\n          label,\n          children,\n          key,\n          type\n        } = _a,\n        restProps = __rest(_a, [\"label\", \"children\", \"key\", \"type\"]);\n      const mergedKey = key !== null && key !== void 0 ? key : `tmp-${index}`;\n      // 此处 eventKey === key, 移除 children 后可以移除 eventKey\n      const parentKeys = parentMenuInfo ? parentMenuInfo.parentKeys.slice() : [];\n      const childrenEventKeys = [];\n      // if\n      const menuInfo = {\n        eventKey: mergedKey,\n        key: mergedKey,\n        parentEventKeys: ref(parentKeys),\n        parentKeys: ref(parentKeys),\n        childrenEventKeys: ref(childrenEventKeys),\n        isLeaf: false\n      };\n      // MenuItemGroup & SubMenuItem\n      if (children || type === 'group') {\n        if (type === 'group') {\n          const childrenNodes = convertItemsToNodes(children, store, parentMenuInfo);\n          // Group\n          return _createVNode(ItemGroup, _objectSpread(_objectSpread({\n            \"key\": mergedKey\n          }, restProps), {}, {\n            \"title\": label,\n            \"originItemValue\": opt\n          }), {\n            default: () => [childrenNodes]\n          });\n        }\n        store.set(mergedKey, menuInfo);\n        if (parentMenuInfo) {\n          parentMenuInfo.childrenEventKeys.push(mergedKey);\n        }\n        // Sub Menu\n        const childrenNodes = convertItemsToNodes(children, store, {\n          childrenEventKeys,\n          parentKeys: [].concat(parentKeys, mergedKey)\n        });\n        return _createVNode(SubMenu, _objectSpread(_objectSpread({\n          \"key\": mergedKey\n        }, restProps), {}, {\n          \"title\": label,\n          \"originItemValue\": opt\n        }), {\n          default: () => [childrenNodes]\n        });\n      }\n      // MenuItem & Divider\n      if (type === 'divider') {\n        return _createVNode(MenuDivider, _objectSpread({\n          \"key\": mergedKey\n        }, restProps), null);\n      }\n      menuInfo.isLeaf = true;\n      store.set(mergedKey, menuInfo);\n      return _createVNode(MenuItem, _objectSpread(_objectSpread({\n        \"key\": mergedKey\n      }, restProps), {}, {\n        \"originItemValue\": opt\n      }), {\n        default: () => [label]\n      });\n    }\n    return null;\n  }).filter(opt => opt);\n}\n// FIXME: Move logic here in v4\n/**\n * We simply convert `items` to VueNode for reuse origin component logic. But we need move all the\n * logic from component into this hooks when in v4\n */\nexport default function useItems(props) {\n  const itemsNodes = shallowRef([]);\n  const hasItmes = shallowRef(false);\n  const store = shallowRef(new Map());\n  watch(() => props.items, () => {\n    const newStore = new Map();\n    hasItmes.value = false;\n    if (props.items) {\n      hasItmes.value = true;\n      itemsNodes.value = convertItemsToNodes(props.items, newStore);\n    } else {\n      itemsNodes.value = undefined;\n    }\n    store.value = newStore;\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    itemsNodes,\n    store,\n    hasItmes\n  };\n}","map":{"version":3,"names":["_objectSpread","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","SubMenu","ItemGroup","MenuDivider","MenuItem","ref","shallowRef","watch","convertItemsToNodes","list","store","parentMenuInfo","map","opt","index","_a","label","children","key","type","restProps","mergedKey","parentKeys","slice","childrenEventKeys","menuInfo","eventKey","parentEventKeys","isLeaf","childrenNodes","default","set","push","concat","filter","useItems","props","itemsNodes","hasItmes","Map","items","newStore","value","undefined","immediate","deep"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/menu/src/hooks/useItems.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport SubMenu from '../SubMenu';\nimport ItemGroup from '../ItemGroup';\nimport MenuDivider from '../Divider';\nimport MenuItem from '../MenuItem';\nimport { ref, shallowRef, watch } from 'vue';\nfunction convertItemsToNodes(list, store, parentMenuInfo) {\n  return (list || []).map((opt, index) => {\n    if (opt && typeof opt === 'object') {\n      const _a = opt,\n        {\n          label,\n          children,\n          key,\n          type\n        } = _a,\n        restProps = __rest(_a, [\"label\", \"children\", \"key\", \"type\"]);\n      const mergedKey = key !== null && key !== void 0 ? key : `tmp-${index}`;\n      // 此处 eventKey === key, 移除 children 后可以移除 eventKey\n      const parentKeys = parentMenuInfo ? parentMenuInfo.parentKeys.slice() : [];\n      const childrenEventKeys = [];\n      // if\n      const menuInfo = {\n        eventKey: mergedKey,\n        key: mergedKey,\n        parentEventKeys: ref(parentKeys),\n        parentKeys: ref(parentKeys),\n        childrenEventKeys: ref(childrenEventKeys),\n        isLeaf: false\n      };\n      // MenuItemGroup & SubMenuItem\n      if (children || type === 'group') {\n        if (type === 'group') {\n          const childrenNodes = convertItemsToNodes(children, store, parentMenuInfo);\n          // Group\n          return _createVNode(ItemGroup, _objectSpread(_objectSpread({\n            \"key\": mergedKey\n          }, restProps), {}, {\n            \"title\": label,\n            \"originItemValue\": opt\n          }), {\n            default: () => [childrenNodes]\n          });\n        }\n        store.set(mergedKey, menuInfo);\n        if (parentMenuInfo) {\n          parentMenuInfo.childrenEventKeys.push(mergedKey);\n        }\n        // Sub Menu\n        const childrenNodes = convertItemsToNodes(children, store, {\n          childrenEventKeys,\n          parentKeys: [].concat(parentKeys, mergedKey)\n        });\n        return _createVNode(SubMenu, _objectSpread(_objectSpread({\n          \"key\": mergedKey\n        }, restProps), {}, {\n          \"title\": label,\n          \"originItemValue\": opt\n        }), {\n          default: () => [childrenNodes]\n        });\n      }\n      // MenuItem & Divider\n      if (type === 'divider') {\n        return _createVNode(MenuDivider, _objectSpread({\n          \"key\": mergedKey\n        }, restProps), null);\n      }\n      menuInfo.isLeaf = true;\n      store.set(mergedKey, menuInfo);\n      return _createVNode(MenuItem, _objectSpread(_objectSpread({\n        \"key\": mergedKey\n      }, restProps), {}, {\n        \"originItemValue\": opt\n      }), {\n        default: () => [label]\n      });\n    }\n    return null;\n  }).filter(opt => opt);\n}\n// FIXME: Move logic here in v4\n/**\n * We simply convert `items` to VueNode for reuse origin component logic. But we need move all the\n * logic from component into this hooks when in v4\n */\nexport default function useItems(props) {\n  const itemsNodes = shallowRef([]);\n  const hasItmes = shallowRef(false);\n  const store = shallowRef(new Map());\n  watch(() => props.items, () => {\n    const newStore = new Map();\n    hasItmes.value = false;\n    if (props.items) {\n      hasItmes.value = true;\n      itemsNodes.value = convertItemsToNodes(props.items, newStore);\n    } else {\n      itemsNodes.value = undefined;\n    }\n    store.value = newStore;\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    itemsNodes,\n    store,\n    hasItmes\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}