{"ast":null,"code":"import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport PropTypes from './vue-types';\nimport { defineComponent, nextTick, onBeforeMount, onBeforeUnmount, onUpdated, Teleport, watch } from 'vue';\nimport { useInjectPortal } from '../vc-trigger/context';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Portal',\n  inheritAttrs: false,\n  props: {\n    getContainer: PropTypes.func.isRequired,\n    didUpdate: Function\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    let isSSR = true;\n    // getContainer 不会改变，不用响应式\n    let container;\n    const {\n      shouldRender\n    } = useInjectPortal();\n    onBeforeMount(() => {\n      isSSR = false;\n      if (shouldRender.value) {\n        container = props.getContainer();\n      }\n    });\n    const stopWatch = watch(shouldRender, () => {\n      if (shouldRender.value && !container) {\n        container = props.getContainer();\n      }\n      if (container) {\n        stopWatch();\n      }\n    });\n    onUpdated(() => {\n      nextTick(() => {\n        var _a;\n        if (shouldRender.value) {\n          (_a = props.didUpdate) === null || _a === void 0 ? void 0 : _a.call(props, props);\n        }\n      });\n    });\n    onBeforeUnmount(() => {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n    return () => {\n      var _a;\n      if (!shouldRender.value) return null;\n      if (isSSR) {\n        return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n      }\n      return container ? _createVNode(Teleport, {\n        \"to\": container\n      }, slots) : null;\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","resolveDirective","_resolveDirective","PropTypes","defineComponent","nextTick","onBeforeMount","onBeforeUnmount","onUpdated","Teleport","watch","useInjectPortal","compatConfig","MODE","name","inheritAttrs","props","getContainer","func","isRequired","didUpdate","Function","setup","_ref","slots","isSSR","container","shouldRender","value","stopWatch","_a","call","parentNode","removeChild","default"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/_util/Portal.js"],"sourcesContent":["import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport PropTypes from './vue-types';\nimport { defineComponent, nextTick, onBeforeMount, onBeforeUnmount, onUpdated, Teleport, watch } from 'vue';\nimport { useInjectPortal } from '../vc-trigger/context';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Portal',\n  inheritAttrs: false,\n  props: {\n    getContainer: PropTypes.func.isRequired,\n    didUpdate: Function\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    let isSSR = true;\n    // getContainer 不会改变，不用响应式\n    let container;\n    const {\n      shouldRender\n    } = useInjectPortal();\n    onBeforeMount(() => {\n      isSSR = false;\n      if (shouldRender.value) {\n        container = props.getContainer();\n      }\n    });\n    const stopWatch = watch(shouldRender, () => {\n      if (shouldRender.value && !container) {\n        container = props.getContainer();\n      }\n      if (container) {\n        stopWatch();\n      }\n    });\n    onUpdated(() => {\n      nextTick(() => {\n        var _a;\n        if (shouldRender.value) {\n          (_a = props.didUpdate) === null || _a === void 0 ? void 0 : _a.call(props, props);\n        }\n      });\n    });\n    onBeforeUnmount(() => {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n    return () => {\n      var _a;\n      if (!shouldRender.value) return null;\n      if (isSSR) {\n        return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n      }\n      return container ? _createVNode(Teleport, {\n        \"to\": container\n      }, slots) : null;\n    };\n  }\n});"],"mappings":"AAAA,SAASA,WAAW,IAAIC,YAAY,EAAEC,gBAAgB,IAAIC,iBAAiB,QAAQ,KAAK;AACxF,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,eAAe,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,eAAe,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,KAAK;AAC3G,SAASC,eAAe,QAAQ,uBAAuB;AACvD,eAAeP,eAAe,CAAC;EAC7BQ,YAAY,EAAE;IACZC,IAAI,EAAE;EACR,CAAC;EACDC,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE,KAAK;EACnBC,KAAK,EAAE;IACLC,YAAY,EAAEd,SAAS,CAACe,IAAI,CAACC,UAAU;IACvCC,SAAS,EAAEC;EACb,CAAC;EACDC,KAAKA,CAACN,KAAK,EAAEO,IAAI,EAAE;IACjB,IAAI;MACFC;IACF,CAAC,GAAGD,IAAI;IACR,IAAIE,KAAK,GAAG,IAAI;IAChB;IACA,IAAIC,SAAS;IACb,MAAM;MACJC;IACF,CAAC,GAAGhB,eAAe,CAAC,CAAC;IACrBL,aAAa,CAAC,MAAM;MAClBmB,KAAK,GAAG,KAAK;MACb,IAAIE,YAAY,CAACC,KAAK,EAAE;QACtBF,SAAS,GAAGV,KAAK,CAACC,YAAY,CAAC,CAAC;MAClC;IACF,CAAC,CAAC;IACF,MAAMY,SAAS,GAAGnB,KAAK,CAACiB,YAAY,EAAE,MAAM;MAC1C,IAAIA,YAAY,CAACC,KAAK,IAAI,CAACF,SAAS,EAAE;QACpCA,SAAS,GAAGV,KAAK,CAACC,YAAY,CAAC,CAAC;MAClC;MACA,IAAIS,SAAS,EAAE;QACbG,SAAS,CAAC,CAAC;MACb;IACF,CAAC,CAAC;IACFrB,SAAS,CAAC,MAAM;MACdH,QAAQ,CAAC,MAAM;QACb,IAAIyB,EAAE;QACN,IAAIH,YAAY,CAACC,KAAK,EAAE;UACtB,CAACE,EAAE,GAAGd,KAAK,CAACI,SAAS,MAAM,IAAI,IAAIU,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAACf,KAAK,EAAEA,KAAK,CAAC;QACnF;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IACFT,eAAe,CAAC,MAAM;MACpB,IAAImB,SAAS,IAAIA,SAAS,CAACM,UAAU,EAAE;QACrCN,SAAS,CAACM,UAAU,CAACC,WAAW,CAACP,SAAS,CAAC;MAC7C;IACF,CAAC,CAAC;IACF,OAAO,MAAM;MACX,IAAII,EAAE;MACN,IAAI,CAACH,YAAY,CAACC,KAAK,EAAE,OAAO,IAAI;MACpC,IAAIH,KAAK,EAAE;QACT,OAAO,CAACK,EAAE,GAAGN,KAAK,CAACU,OAAO,MAAM,IAAI,IAAIJ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAACP,KAAK,CAAC;MACjF;MACA,OAAOE,SAAS,GAAG1B,YAAY,CAACS,QAAQ,EAAE;QACxC,IAAI,EAAEiB;MACR,CAAC,EAAEF,KAAK,CAAC,GAAG,IAAI;IAClB,CAAC;EACH;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}