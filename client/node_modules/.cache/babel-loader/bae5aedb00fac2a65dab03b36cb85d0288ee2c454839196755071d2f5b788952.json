{"ast":null,"code":"export default {\n  name: \"NewmanTask\",\n  props: {\n    openFlag: {\n      type: Boolean,\n      required: true\n    },\n    taskName: {\n      type: String,\n      required: true\n    },\n    taskLog: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      visible: false\n    };\n  },\n  computed: {\n    computedColor() {\n      return function (item) {\n        if (item.flag && item.status === \"成功\") {\n          return 'green';\n        } else {\n          return 'blue';\n        }\n      };\n    }\n  },\n  watch: {\n    openFlag: {\n      handler: function (newVal, oldVal) {\n        console.log(newVal);\n        this.visible = newVal;\n      },\n      // 深度观察监听\n      deep: true\n    }\n  },\n  mounted() {\n    console.log(this.taskName);\n    this.visible = this.openFlag;\n  },\n  methods: {\n    afterClose(e) {\n      this.$emit('updateModelStatus', false);\n    }\n  }\n};","map":{"version":3,"names":["name","props","openFlag","type","Boolean","required","taskName","String","taskLog","Array","data","loading","visible","computed","computedColor","item","flag","status","watch","handler","newVal","oldVal","console","log","deep","mounted","methods","afterClose","e","$emit"],"sources":["src/components/Newman/NewmanTask.vue"],"sourcesContent":["<template>\n  <div>\n    <a-modal\n        v-model=\"visible\"\n        title=\"测试任务\"\n        on-ok=\"handleOk\"\n        :footer=\"null\"\n        :afterClose=\"afterClose\"\n        :maskClosable=\"false\">\n\n      <div v-if=\"taskName !=null && taskName !== undefined && taskName !== ''\">\n        <span style=\"font-weight: bolder\">当前任务：</span> <span> {{ taskName }}</span>\n\n        <div style=\"margin-top: 20px\">\n          <a-timeline>\n            <a-timeline-item\n                :pending=\"true\"\n                :pending=\"item.flag && item.status == ''\"\n                :color=\"computedColor(item)\"\n                v-for=\"(item,index) in taskLog\"\n                :key=\"item.index\"\n                v-if=\"item.flag\">\n              {{ item.name }}\n            </a-timeline-item>\n          </a-timeline>\n        </div>\n      </div>\n\n      <a-empty v-else/>\n    </a-modal>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"NewmanTask\",\n  props: {\n    openFlag: {\n      type: Boolean,\n      required: true\n    },\n    taskName: {\n      type: String,\n      required: true\n    },\n    taskLog: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      visible: false,\n    };\n  },\n  computed: {\n    computedColor() {\n      return function(item) {\n        if (item.flag && item.status === \"成功\") {\n          return 'green';\n        } else {\n          return 'blue';\n        }\n      }\n    }\n  },\n  watch: {\n    openFlag: {\n      handler: function (newVal, oldVal) {\n        console.log(newVal)\n        this.visible = newVal\n      },\n      // 深度观察监听\n      deep: true\n    }\n  },\n  mounted() {\n    console.log(this.taskName)\n    this.visible = this.openFlag\n  },\n  methods: {\n    afterClose(e) {\n      this.$emit('updateModelStatus', false)\n    },\n  }\n};\n</script>\n<style scoped>\n/deep/ .ant-modal-body {\n  max-height: 400px;\n  overflow-y: auto;\n}\n</style>\n"],"mappings":"AAiCA;EACAA,IAAA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,QAAA;IACA;IACAC,QAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;IACAG,OAAA;MACAL,IAAA,EAAAM,KAAA;MACAJ,QAAA;IACA;EACA;EACAK,KAAA;IACA;MACAC,OAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACAC,cAAA;MACA,iBAAAC,IAAA;QACA,IAAAA,IAAA,CAAAC,IAAA,IAAAD,IAAA,CAAAE,MAAA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;EACAC,KAAA;IACAhB,QAAA;MACAiB,OAAA,WAAAA,CAAAC,MAAA,EAAAC,MAAA;QACAC,OAAA,CAAAC,GAAA,CAAAH,MAAA;QACA,KAAAR,OAAA,GAAAQ,MAAA;MACA;MACA;MACAI,IAAA;IACA;EACA;EACAC,QAAA;IACAH,OAAA,CAAAC,GAAA,MAAAjB,QAAA;IACA,KAAAM,OAAA,QAAAV,QAAA;EACA;EACAwB,OAAA;IACAC,WAAAC,CAAA;MACA,KAAAC,KAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}