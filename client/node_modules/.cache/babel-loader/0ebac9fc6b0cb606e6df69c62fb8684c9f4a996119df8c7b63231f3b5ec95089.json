{"ast":null,"code":"import raf from '../../_util/raf';\nimport isFF from '../utils/isFirefox';\nimport useOriginScroll from './useOriginScroll';\nexport default function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, onWheelDelta) {\n  let offsetRef = 0;\n  let nextFrame = null;\n  // Firefox patch\n  let wheelValue = null;\n  let isMouseScroll = false;\n  // Scroll status sync\n  const originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n  function onWheel(event) {\n    if (!inVirtual.value) return;\n    raf.cancel(nextFrame);\n    const {\n      deltaY\n    } = event;\n    offsetRef += deltaY;\n    wheelValue = deltaY;\n    // Do nothing when scroll at the edge, Skip check when is in scroll\n    if (originScroll(deltaY)) return;\n    // Proxy of scroll events\n    if (!isFF) {\n      event.preventDefault();\n    }\n    nextFrame = raf(() => {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      const patchMultiple = isMouseScroll ? 10 : 1;\n      onWheelDelta(offsetRef * patchMultiple);\n      offsetRef = 0;\n    });\n  }\n  // A patch for firefox\n  function onFireFoxScroll(event) {\n    if (!inVirtual.value) return;\n    isMouseScroll = event.detail === wheelValue;\n  }\n  return [onWheel, onFireFoxScroll];\n}","map":{"version":3,"names":["raf","isFF","useOriginScroll","useFrameWheel","inVirtual","isScrollAtTop","isScrollAtBottom","onWheelDelta","offsetRef","nextFrame","wheelValue","isMouseScroll","originScroll","onWheel","event","value","cancel","deltaY","preventDefault","patchMultiple","onFireFoxScroll","detail"],"sources":["/Users/lpl/工作/Teamsupport/develop_help/node_modules/ant-design-vue/es/vc-virtual-list/hooks/useFrameWheel.js"],"sourcesContent":["import raf from '../../_util/raf';\nimport isFF from '../utils/isFirefox';\nimport useOriginScroll from './useOriginScroll';\nexport default function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, onWheelDelta) {\n  let offsetRef = 0;\n  let nextFrame = null;\n  // Firefox patch\n  let wheelValue = null;\n  let isMouseScroll = false;\n  // Scroll status sync\n  const originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n  function onWheel(event) {\n    if (!inVirtual.value) return;\n    raf.cancel(nextFrame);\n    const {\n      deltaY\n    } = event;\n    offsetRef += deltaY;\n    wheelValue = deltaY;\n    // Do nothing when scroll at the edge, Skip check when is in scroll\n    if (originScroll(deltaY)) return;\n    // Proxy of scroll events\n    if (!isFF) {\n      event.preventDefault();\n    }\n    nextFrame = raf(() => {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      const patchMultiple = isMouseScroll ? 10 : 1;\n      onWheelDelta(offsetRef * patchMultiple);\n      offsetRef = 0;\n    });\n  }\n  // A patch for firefox\n  function onFireFoxScroll(event) {\n    if (!inVirtual.value) return;\n    isMouseScroll = event.detail === wheelValue;\n  }\n  return [onWheel, onFireFoxScroll];\n}"],"mappings":"AAAA,OAAOA,GAAG,MAAM,iBAAiB;AACjC,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,eAAe,SAASC,aAAaA,CAACC,SAAS,EAAEC,aAAa,EAAEC,gBAAgB,EAAEC,YAAY,EAAE;EAC9F,IAAIC,SAAS,GAAG,CAAC;EACjB,IAAIC,SAAS,GAAG,IAAI;EACpB;EACA,IAAIC,UAAU,GAAG,IAAI;EACrB,IAAIC,aAAa,GAAG,KAAK;EACzB;EACA,MAAMC,YAAY,GAAGV,eAAe,CAACG,aAAa,EAAEC,gBAAgB,CAAC;EACrE,SAASO,OAAOA,CAACC,KAAK,EAAE;IACtB,IAAI,CAACV,SAAS,CAACW,KAAK,EAAE;IACtBf,GAAG,CAACgB,MAAM,CAACP,SAAS,CAAC;IACrB,MAAM;MACJQ;IACF,CAAC,GAAGH,KAAK;IACTN,SAAS,IAAIS,MAAM;IACnBP,UAAU,GAAGO,MAAM;IACnB;IACA,IAAIL,YAAY,CAACK,MAAM,CAAC,EAAE;IAC1B;IACA,IAAI,CAAChB,IAAI,EAAE;MACTa,KAAK,CAACI,cAAc,CAAC,CAAC;IACxB;IACAT,SAAS,GAAGT,GAAG,CAAC,MAAM;MACpB;MACA;MACA,MAAMmB,aAAa,GAAGR,aAAa,GAAG,EAAE,GAAG,CAAC;MAC5CJ,YAAY,CAACC,SAAS,GAAGW,aAAa,CAAC;MACvCX,SAAS,GAAG,CAAC;IACf,CAAC,CAAC;EACJ;EACA;EACA,SAASY,eAAeA,CAACN,KAAK,EAAE;IAC9B,IAAI,CAACV,SAAS,CAACW,KAAK,EAAE;IACtBJ,aAAa,GAAGG,KAAK,CAACO,MAAM,KAAKX,UAAU;EAC7C;EACA,OAAO,CAACG,OAAO,EAAEO,eAAe,CAAC;AACnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}