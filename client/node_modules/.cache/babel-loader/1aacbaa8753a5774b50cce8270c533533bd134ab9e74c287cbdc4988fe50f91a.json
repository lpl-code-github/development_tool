{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: \"Markdown\",\n  props: [\"docContent\"],\n  watch: {\n    content: {\n      deep: true,\n      handler(newVal, oldVal) {\n        this.$bus.$emit('markdownInput', newVal);\n      }\n    },\n    docContent: {\n      deep: true,\n      handler(newVal, oldVal) {\n        this.content = newVal;\n      }\n    }\n  },\n  data() {\n    return {\n      content: \"\",\n      html: \"\",\n      toolbars: {\n        bold: true,\n        // 粗体\n        italic: true,\n        // 斜体\n        header: true,\n        // 标题\n        underline: true,\n        // 下划线\n        strikethrough: true,\n        // 中划线\n        mark: true,\n        // 标记\n        superscript: true,\n        // 上角标\n        subscript: true,\n        // 下角标\n        quote: true,\n        // 引用\n        ol: true,\n        // 有序列表\n        ul: true,\n        // 无序列表\n        link: true,\n        // 链接\n\n        code: true,\n        // code\n        table: true,\n        // 表格\n\n        readmodel: true,\n        // 沉浸式阅读\n        htmlcode: true,\n        // 展示html源码\n        help: true,\n        // 帮助\n        /* 1.3.5 */\n        undo: true,\n        // 上一步\n        redo: true,\n        // 下一步\n        trash: true,\n        // 清空\n        save: true,\n        // 保存（触发events中的save事件）\n        /* 1.4.2 */\n        navigation: true,\n        // 导航目录\n        /* 2.1.8 */\n        alignleft: true,\n        // 左对齐\n        aligncenter: true,\n        // 居中\n        alignright: true,\n        // 右对齐\n        /* 2.2.1 */\n        subfield: true // 单双栏模式\n        // preview: true, // 预览\n      }\n    };\n  },\n\n  methods: {\n    // 所有操作都会被解析重新渲染\n    change(value, render) {\n      // render 为 markdown 解析后的结果[html]\n      // this.html = render\n      // 保存\n      localStorage.setItem(\"edit_doc\", value);\n    },\n    saveDoc(e) {\n      this.saveTextToFile(e);\n    },\n    saveTextToFile(text) {\n      const currentDate = new Date();\n      const year = currentDate.getFullYear();\n      const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n      const day = String(currentDate.getDate()).padStart(2, '0');\n      const hours = String(currentDate.getHours()).padStart(2, '0');\n      const minutes = String(currentDate.getMinutes()).padStart(2, '0');\n      const seconds = String(currentDate.getSeconds()).padStart(2, '0');\n      const fileName = `${year}${month}${day}${hours}${minutes}${seconds}.md`;\n      const file = new Blob([text], {\n        type: 'text/plain'\n      });\n      const a = document.createElement('a');\n      const url = URL.createObjectURL(file);\n      a.href = url;\n      a.download = fileName;\n      a.click();\n      URL.revokeObjectURL(url);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}